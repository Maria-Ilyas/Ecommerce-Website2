(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function z1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var md={exports:{}},ba={},gd={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function B1(){if(mg)return Pe;mg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function P(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function L(j,Y,pe){this.props=j,this.context=Y,this.refs=z,this.updater=pe||O}L.prototype.isReactComponent={},L.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=L.prototype;function H(j,Y,pe){this.props=j,this.context=Y,this.refs=z,this.updater=pe||O}var G=H.prototype=new q;G.constructor=H,M(G,L.prototype),G.isPureReactComponent=!0;var te=Array.isArray,de=Object.prototype.hasOwnProperty,fe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(j,Y,pe){var Ce,Re={},be=null,Ue=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)de.call(Y,Ce)&&!k.hasOwnProperty(Ce)&&(Re[Ce]=Y[Ce]);var ze=arguments.length-2;if(ze===1)Re.children=pe;else if(1<ze){for(var We=Array(ze),wt=0;wt<ze;wt++)We[wt]=arguments[wt+2];Re.children=We}if(j&&j.defaultProps)for(Ce in ze=j.defaultProps,ze)Re[Ce]===void 0&&(Re[Ce]=ze[Ce]);return{$$typeof:n,type:j,key:be,ref:Ue,props:Re,_owner:fe.current}}function C(j,Y){return{$$typeof:n,type:j.type,key:Y,ref:j.ref,props:j.props,_owner:j._owner}}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function D(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return Y[pe]})}var V=/\/+/g;function A(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):Y.toString(36)}function Ze(j,Y,pe,Ce,Re){var be=typeof j;(be==="undefined"||be==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(be){case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=j,Re=Re(Ue),j=Ce===""?"."+A(Ue,0):Ce,te(Re)?(pe="",j!=null&&(pe=j.replace(V,"$&/")+"/"),Ze(Re,Y,pe,"",function(wt){return wt})):Re!=null&&(x(Re)&&(Re=C(Re,pe+(!Re.key||Ue&&Ue.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+j)),Y.push(Re)),1;if(Ue=0,Ce=Ce===""?".":Ce+":",te(j))for(var ze=0;ze<j.length;ze++){be=j[ze];var We=Ce+A(be,ze);Ue+=Ze(be,Y,pe,We,Re)}else if(We=P(j),typeof We=="function")for(j=We.call(j),ze=0;!(be=j.next()).done;)be=be.value,We=Ce+A(be,ze++),Ue+=Ze(be,Y,pe,We,Re);else if(be==="object")throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ht(j,Y,pe){if(j==null)return j;var Ce=[],Re=0;return Ze(j,Ce,"","",function(be){return Y.call(pe,be,Re++)}),Ce}function dt(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var Me={current:null},re={transition:null},me={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:re,ReactCurrentOwner:fe};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:ht,forEach:function(j,Y,pe){ht(j,function(){Y.apply(this,arguments)},pe)},count:function(j){var Y=0;return ht(j,function(){Y++}),Y},toArray:function(j){return ht(j,function(Y){return Y})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Pe.Component=L,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=H,Pe.StrictMode=s,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Pe.act=oe,Pe.cloneElement=function(j,Y,pe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ce=M({},j.props),Re=j.key,be=j.ref,Ue=j._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,Ue=fe.current),Y.key!==void 0&&(Re=""+Y.key),j.type&&j.type.defaultProps)var ze=j.type.defaultProps;for(We in Y)de.call(Y,We)&&!k.hasOwnProperty(We)&&(Ce[We]=Y[We]===void 0&&ze!==void 0?ze[We]:Y[We])}var We=arguments.length-2;if(We===1)Ce.children=pe;else if(1<We){ze=Array(We);for(var wt=0;wt<We;wt++)ze[wt]=arguments[wt+2];Ce.children=ze}return{$$typeof:n,type:j.type,key:Re,ref:be,props:Ce,_owner:Ue}},Pe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},Pe.createElement=I,Pe.createFactory=function(j){var Y=I.bind(null,j);return Y.type=j,Y},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(j){return{$$typeof:f,render:j}},Pe.isValidElement=x,Pe.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:dt}},Pe.memo=function(j,Y){return{$$typeof:y,type:j,compare:Y===void 0?null:Y}},Pe.startTransition=function(j){var Y=re.transition;re.transition={};try{j()}finally{re.transition=Y}},Pe.unstable_act=oe,Pe.useCallback=function(j,Y){return Me.current.useCallback(j,Y)},Pe.useContext=function(j){return Me.current.useContext(j)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(j){return Me.current.useDeferredValue(j)},Pe.useEffect=function(j,Y){return Me.current.useEffect(j,Y)},Pe.useId=function(){return Me.current.useId()},Pe.useImperativeHandle=function(j,Y,pe){return Me.current.useImperativeHandle(j,Y,pe)},Pe.useInsertionEffect=function(j,Y){return Me.current.useInsertionEffect(j,Y)},Pe.useLayoutEffect=function(j,Y){return Me.current.useLayoutEffect(j,Y)},Pe.useMemo=function(j,Y){return Me.current.useMemo(j,Y)},Pe.useReducer=function(j,Y,pe){return Me.current.useReducer(j,Y,pe)},Pe.useRef=function(j){return Me.current.useRef(j)},Pe.useState=function(j){return Me.current.useState(j)},Pe.useSyncExternalStore=function(j,Y,pe){return Me.current.useSyncExternalStore(j,Y,pe)},Pe.useTransition=function(){return Me.current.useTransition()},Pe.version="18.3.1",Pe}var gg;function df(){return gg||(gg=1,gd.exports=B1()),gd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function $1(){if(yg)return ba;yg=1;var n=df(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var E,S={},P=null,O=null;y!==void 0&&(P=""+y),p.key!==void 0&&(P=""+p.key),p.ref!==void 0&&(O=p.ref);for(E in p)s.call(p,E)&&!l.hasOwnProperty(E)&&(S[E]=p[E]);if(f&&f.defaultProps)for(E in p=f.defaultProps,p)S[E]===void 0&&(S[E]=p[E]);return{$$typeof:e,type:f,key:P,ref:O,props:S,_owner:o.current}}return ba.Fragment=t,ba.jsx=h,ba.jsxs=h,ba}var vg;function H1(){return vg||(vg=1,md.exports=$1()),md.exports}var w=H1(),$=df();const Fe=z1($);var Ou={},yd={exports:{}},en={},vd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function W1(){return _g||(_g=1,function(n){function e(re,me){var oe=re.length;re.push(me);e:for(;0<oe;){var j=oe-1>>>1,Y=re[j];if(0<o(Y,me))re[j]=me,re[oe]=Y,oe=j;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var me=re[0],oe=re.pop();if(oe!==me){re[0]=oe;e:for(var j=0,Y=re.length,pe=Y>>>1;j<pe;){var Ce=2*(j+1)-1,Re=re[Ce],be=Ce+1,Ue=re[be];if(0>o(Re,oe))be<Y&&0>o(Ue,Re)?(re[j]=Ue,re[be]=oe,j=be):(re[j]=Re,re[Ce]=oe,j=Ce);else if(be<Y&&0>o(Ue,oe))re[j]=Ue,re[be]=oe,j=be;else break e}}return me}function o(re,me){var oe=re.sortIndex-me.sortIndex;return oe!==0?oe:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],y=[],E=1,S=null,P=3,O=!1,M=!1,z=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(re){for(var me=t(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=re)s(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function te(re){if(z=!1,G(re),!M)if(t(p)!==null)M=!0,dt(de);else{var me=t(y);me!==null&&Me(te,me.startTime-re)}}function de(re,me){M=!1,z&&(z=!1,q(I),I=-1),O=!0;var oe=P;try{for(G(me),S=t(p);S!==null&&(!(S.expirationTime>me)||re&&!D());){var j=S.callback;if(typeof j=="function"){S.callback=null,P=S.priorityLevel;var Y=j(S.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?S.callback=Y:S===t(p)&&s(p),G(me)}else s(p);S=t(p)}if(S!==null)var pe=!0;else{var Ce=t(y);Ce!==null&&Me(te,Ce.startTime-me),pe=!1}return pe}finally{S=null,P=oe,O=!1}}var fe=!1,k=null,I=-1,C=5,x=-1;function D(){return!(n.unstable_now()-x<C)}function V(){if(k!==null){var re=n.unstable_now();x=re;var me=!0;try{me=k(!0,re)}finally{me?A():(fe=!1,k=null)}}else fe=!1}var A;if(typeof H=="function")A=function(){H(V)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ht=Ze.port2;Ze.port1.onmessage=V,A=function(){ht.postMessage(null)}}else A=function(){L(V,0)};function dt(re){k=re,fe||(fe=!0,A())}function Me(re,me){I=L(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){M||O||(M=!0,dt(de))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(P){case 1:case 2:case 3:var me=3;break;default:me=P}var oe=P;P=me;try{return re()}finally{P=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=P;P=re;try{return me()}finally{P=oe}},n.unstable_scheduleCallback=function(re,me,oe){var j=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,re={id:E++,callback:me,priorityLevel:re,startTime:oe,expirationTime:Y,sortIndex:-1},oe>j?(re.sortIndex=oe,e(y,re),t(p)===null&&re===t(y)&&(z?(q(I),I=-1):z=!0,Me(te,oe-j))):(re.sortIndex=Y,e(p,re),M||O||(M=!0,dt(de))),re},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(re){var me=P;return function(){var oe=P;P=me;try{return re.apply(this,arguments)}finally{P=oe}}}}(_d)),_d}var Eg;function q1(){return Eg||(Eg=1,vd.exports=W1()),vd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function K1(){if(wg)return en;wg=1;var n=df(),e=q1();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){h(r,i),h(r+"Capture",i)}function h(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function P(r){return p.call(S,r)?!0:p.call(E,r)?!1:y.test(r)?S[r]=!0:(E[r]=!0,!1)}function O(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,i,a,c){if(i===null||typeof i>"u"||O(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function z(r,i,a,c,d,g,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=_}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];L[i]=new z(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(q,H);L[i]=new z(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(q,H);L[i]=new z(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(q,H);L[i]=new z(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,i,a,c){var d=L.hasOwnProperty(i)?L[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,a,d,c)&&(a=null),c||d===null?P(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),fe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,j;function Y(r){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+r}var pe=!1;function Ce(r,i){if(!r||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){c=W}r.call(i.prototype)}else{try{throw Error()}catch(W){c=W}r()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,R=g.length-1;1<=_&&0<=R&&d[_]!==g[R];)R--;for(;1<=_&&0<=R;_--,R--)if(d[_]!==g[R]){if(_!==1||R!==1)do if(_--,R--,0>R||d[_]!==g[R]){var N=`
`+d[_].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=_&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Re(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case fe:return"Portal";case C:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Ze:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ht:return i=r.displayName||null,i!==null?i:be(r.type)||"Memo";case dt:i=r._payload,r=r._init;try{return be(r(i))}catch{}}return null}function Ue(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(r){var i=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function cr(r){r._valueTracker||(r._valueTracker=wt(r))}function ws(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=We(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Ur(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xi(r,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ts(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=ze(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fo(r,i){i=i.checked,i!=null&&G(r,"checked",i,!1)}function Uo(r,i){Fo(r,i);var a=ze(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Is(r,i.type,a):i.hasOwnProperty("defaultValue")&&Is(r,i.type,ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function _l(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Is(r,i,a){(i!=="number"||Ur(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var hr=Array.isArray;function dr(r,i,a,c){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function zo(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ss(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(hr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:ze(a)}}function Cs(r,i){var a=ze(i.value),c=ze(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Bo(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ft(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ft(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var fr,$o=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function zr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Di=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(r){Di.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ni[i]=Ni[r]})});function Ho(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ni.hasOwnProperty(r)&&Ni[r]?(""+i).trim():i+"px"}function Wo(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Ho(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var qo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(r,i){if(i){if(qo[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Go(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bi=null;function Rs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ps=null,hn=null,qn=null;function As(r){if(r=va(r)){if(typeof Ps!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Ql(i),Ps(r.stateNode,r.type,i))}}function Kn(r){hn?qn?qn.push(r):qn=[r]:hn=r}function Qo(){if(hn){var r=hn,i=qn;if(qn=hn=null,As(r),i)for(r=0;r<i.length;r++)As(i[r])}}function Oi(r,i){return r(i)}function Yo(){}var pr=!1;function Xo(r,i,a){if(pr)return r(i,a);pr=!0;try{return Oi(r,i,a)}finally{pr=!1,(hn!==null||qn!==null)&&(Yo(),Qo())}}function st(r,i){var a=r.stateNode;if(a===null)return null;var c=Ql(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ks=!1;if(f)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{ks=!1}function Li(r,i,a,c,d,g,_,R,N){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(J){this.onError(J)}}var Vi=!1,xs=null,Rn=!1,Jo=null,$c={onError:function(r){Vi=!0,xs=r}};function Ns(r,i,a,c,d,g,_,R,N){Vi=!1,xs=null,Li.apply($c,arguments)}function El(r,i,a,c,d,g,_,R,N){if(Ns.apply(this,arguments),Vi){if(Vi){var W=xs;Vi=!1,xs=null}else throw Error(t(198));Rn||(Rn=!0,Jo=W)}}function Pn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Mi(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function An(r){if(Pn(r)!==r)throw Error(t(188))}function wl(r){var i=r.alternate;if(!i){if(i=Pn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return An(d),r;if(g===c)return An(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var _=!1,R=d.child;R;){if(R===a){_=!0,a=d,c=g;break}if(R===c){_=!0,c=d,a=g;break}R=R.sibling}if(!_){for(R=g.child;R;){if(R===a){_=!0,a=g,c=d;break}if(R===c){_=!0,c=g,a=d;break}R=R.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function Zo(r){return r=wl(r),r!==null?Ds(r):null}function Ds(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Ds(r);if(i!==null)return i;r=r.sibling}return null}var bs=e.unstable_scheduleCallback,ea=e.unstable_cancelCallback,Tl=e.unstable_shouldYield,Hc=e.unstable_requestPaint,qe=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,Br=e.unstable_UserBlockingPriority,dn=e.unstable_NormalPriority,ta=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,Fi=null,nn=null;function Cl(r){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Pl,na=Math.log,Rl=Math.LN2;function Pl(r){return r>>>=0,r===0?32:31-(na(r)/Rl|0)|0}var Os=64,Ls=4194304;function $r(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ui(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var R=_&~d;R!==0?c=$r(R):(g&=_,g!==0&&(c=$r(g)))}else _=a&~d,_!==0?c=$r(_):g!==0&&(c=$r(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-Bt(i),d=1<<a,c|=r[a],i&=~d;return c}function Wc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-Bt(g),R=1<<_,N=d[_];N===-1?(!(R&a)||R&c)&&(d[_]=Wc(R,i)):N<=i&&(r.expiredLanes|=R),g&=~R}}function rn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zi(){var r=Os;return Os<<=1,!(Os&4194240)&&(Os=64),r}function Hr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Wr(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Bt(i),r[i]=a}function He(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Bt(a),g=1<<d;i[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function qr(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-Bt(a),d=1<<c;d&i|r[c]&i&&(r[c]|=i),a&=~d}}var xe=0;function Kr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Al,Vs,kl,xl,Nl,ra=!1,Gn=[],Pt=null,kn=null,xn=null,Gr=new Map,fn=new Map,Qn=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(r,i){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Gr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(i.pointerId)}}function Kt(r,i,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=va(i),i!==null&&Vs(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function Kc(r,i,a,c,d){switch(i){case"focusin":return Pt=Kt(Pt,r,i,a,c,d),!0;case"dragenter":return kn=Kt(kn,r,i,a,c,d),!0;case"mouseover":return xn=Kt(xn,r,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return Gr.set(g,Kt(Gr.get(g)||null,r,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,fn.set(g,Kt(fn.get(g)||null,r,i,a,c,d)),!0}return!1}function bl(r){var i=qi(r.target);if(i!==null){var a=Pn(i);if(a!==null){if(i=a.tag,i===13){if(i=Mi(a),i!==null){r.blockedOn=i,Nl(r.priority,function(){kl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Ms(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);bi=c,a.target.dispatchEvent(c),bi=null}else return i=va(a),i!==null&&Vs(i),r.blockedOn=a,!1;i.shift()}return!0}function Bi(r,i,a){gr(r)&&a.delete(i)}function Ol(){ra=!1,Pt!==null&&gr(Pt)&&(Pt=null),kn!==null&&gr(kn)&&(kn=null),xn!==null&&gr(xn)&&(xn=null),Gr.forEach(Bi),fn.forEach(Bi)}function Nn(r,i){r.blockedOn===i&&(r.blockedOn=null,ra||(ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ol)))}function Dn(r){function i(d){return Nn(d,r)}if(0<Gn.length){Nn(Gn[0],r);for(var a=1;a<Gn.length;a++){var c=Gn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Pt!==null&&Nn(Pt,r),kn!==null&&Nn(kn,r),xn!==null&&Nn(xn,r),Gr.forEach(i),fn.forEach(i),a=0;a<Qn.length;a++)c=Qn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)bl(a),a.blockedOn===null&&Qn.shift()}var yr=te.ReactCurrentBatchConfig,Qr=!0;function Ye(r,i,a,c){var d=xe,g=yr.transition;yr.transition=null;try{xe=1,ia(r,i,a,c)}finally{xe=d,yr.transition=g}}function Gc(r,i,a,c){var d=xe,g=yr.transition;yr.transition=null;try{xe=4,ia(r,i,a,c)}finally{xe=d,yr.transition=g}}function ia(r,i,a,c){if(Qr){var d=Ms(r,i,a,c);if(d===null)sh(r,i,c,$i,a),Dl(r,c);else if(Kc(d,r,i,a,c))c.stopPropagation();else if(Dl(r,c),i&4&&-1<qc.indexOf(r)){for(;d!==null;){var g=va(d);if(g!==null&&Al(g),g=Ms(r,i,a,c),g===null&&sh(r,i,c,$i,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else sh(r,i,c,null,a)}}var $i=null;function Ms(r,i,a,c){if($i=null,r=Rs(c),r=qi(r),r!==null)if(i=Pn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Mi(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return $i=r,null}function sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Il()){case ji:return 1;case Br:return 4;case dn:case ta:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var sn=null,js=null,Gt=null;function oa(){if(Gt)return Gt;var r,i=js,a=i.length,c,d="value"in sn?sn.value:sn.textContent,g=d.length;for(r=0;r<a&&i[r]===d[r];r++);var _=a-r;for(c=1;c<=_&&i[a-c]===d[g-c];c++);return Gt=d.slice(r,1<c?1-c:void 0)}function Fs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Yn(){return!0}function aa(){return!1}function At(r){function i(a,c,d,g,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yn:aa,this.isPropagationStopped=aa,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=At(bn),Xn=oe({},bn,{view:0,detail:0}),Qc=At(Xn),zs,vr,Yr,Hi=oe({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(zs=r.screenX-Yr.screenX,vr=r.screenY-Yr.screenY):vr=zs=0,Yr=r),zs)},movementY:function(r){return"movementY"in r?r.movementY:vr}}),Bs=At(Hi),la=oe({},Hi,{dataTransfer:0}),Ll=At(la),$s=oe({},Xn,{relatedTarget:0}),Hs=At($s),Vl=oe({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),_r=At(Vl),Ml=oe({},bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jl=At(Ml),Fl=oe({},bn,{data:0}),ua=At(Fl),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ul[r])?!!i[r]:!1}function Jn(){return zl}var u=oe({},Xn,{key:function(r){if(r.key){var i=Ws[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$t[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jn,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=At(u),v=oe({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=At(v),F=oe({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jn}),K=At(F),ie=oe({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=At(ie),mt=oe({},Hi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=At(mt),Tt=[9,13,27,32],lt=f&&"CompositionEvent"in window,pn=null;f&&"documentMode"in document&&(pn=document.documentMode);var on=f&&"TextEvent"in window&&!pn,Wi=f&&(!lt||pn&&8<pn&&11>=pn),qs=" ",up=!1;function cp(r,i){switch(r){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ks=!1;function F0(r,i){switch(r){case"compositionend":return hp(i);case"keypress":return i.which!==32?null:(up=!0,qs);case"textInput":return r=i.data,r===qs&&up?null:r;default:return null}}function U0(r,i){if(Ks)return r==="compositionend"||!lt&&cp(r,i)?(r=oa(),Gt=js=sn=null,Ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wi&&i.locale!=="ko"?null:i.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!z0[r.type]:i==="textarea"}function fp(r,i,a,c){Kn(c),i=ql(i,"onChange"),0<i.length&&(a=new Us("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var ca=null,ha=null;function B0(r){Np(r,0)}function Bl(r){var i=Js(r);if(ws(i))return r}function $0(r,i){if(r==="change")return i}var pp=!1;if(f){var Yc;if(f){var Xc="oninput"in document;if(!Xc){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Xc=typeof mp.oninput=="function"}Yc=Xc}else Yc=!1;pp=Yc&&(!document.documentMode||9<document.documentMode)}function gp(){ca&&(ca.detachEvent("onpropertychange",yp),ha=ca=null)}function yp(r){if(r.propertyName==="value"&&Bl(ha)){var i=[];fp(i,ha,r,Rs(r)),Xo(B0,i)}}function H0(r,i,a){r==="focusin"?(gp(),ca=i,ha=a,ca.attachEvent("onpropertychange",yp)):r==="focusout"&&gp()}function W0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bl(ha)}function q0(r,i){if(r==="click")return Bl(i)}function K0(r,i){if(r==="input"||r==="change")return Bl(i)}function G0(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var On=typeof Object.is=="function"?Object.is:G0;function da(r,i){if(On(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!On(r[d],i[d]))return!1}return!0}function vp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _p(r,i){var a=vp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vp(a)}}function Ep(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ep(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function wp(){for(var r=window,i=Ur();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Ur(r.document)}return i}function Jc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Q0(r){var i=wp(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Ep(a.ownerDocument.documentElement,a)){if(c!==null&&Jc(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=_p(a,g);var _=_p(a,c);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Y0=f&&"documentMode"in document&&11>=document.documentMode,Gs=null,Zc=null,fa=null,eh=!1;function Tp(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eh||Gs==null||Gs!==Ur(c)||(c=Gs,"selectionStart"in c&&Jc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fa&&da(fa,c)||(fa=c,c=ql(Zc,"onSelect"),0<c.length&&(i=new Us("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=Gs)))}function $l(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Qs={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},th={},Ip={};f&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Hl(r){if(th[r])return th[r];if(!Qs[r])return r;var i=Qs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ip)return th[r]=i[a];return r}var Sp=Hl("animationend"),Cp=Hl("animationiteration"),Rp=Hl("animationstart"),Pp=Hl("transitionend"),Ap=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(r,i){Ap.set(r,i),l(i,[r])}for(var nh=0;nh<kp.length;nh++){var rh=kp[nh],X0=rh.toLowerCase(),J0=rh[0].toUpperCase()+rh.slice(1);Xr(X0,"on"+J0)}Xr(Sp,"onAnimationEnd"),Xr(Cp,"onAnimationIteration"),Xr(Rp,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Pp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function xp(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,El(c,i,void 0,r),r.currentTarget=null}function Np(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var _=c.length-1;0<=_;_--){var R=c[_],N=R.instance,W=R.currentTarget;if(R=R.listener,N!==g&&d.isPropagationStopped())break e;xp(d,R,W),g=N}else for(_=0;_<c.length;_++){if(R=c[_],N=R.instance,W=R.currentTarget,R=R.listener,N!==g&&d.isPropagationStopped())break e;xp(d,R,W),g=N}}}if(Rn)throw r=Jo,Rn=!1,Jo=null,r}function Ge(r,i){var a=i[hh];a===void 0&&(a=i[hh]=new Set);var c=r+"__bubble";a.has(c)||(Dp(i,r,2,!1),a.add(c))}function ih(r,i,a){var c=0;i&&(c|=4),Dp(a,r,c,i)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function ma(r){if(!r[Wl]){r[Wl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Z0.has(a)||ih(a,!1,r),ih(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Wl]||(i[Wl]=!0,ih("selectionchange",!1,i))}}function Dp(r,i,a,c){switch(sa(i)){case 1:var d=Ye;break;case 4:d=Gc;break;default:d=ia}a=d.bind(null,i,a,r),d=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function sh(r,i,a,c,d){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;_=_.return}for(;R!==null;){if(_=qi(R),_===null)return;if(N=_.tag,N===5||N===6){c=g=_;continue e}R=R.parentNode}}c=c.return}Xo(function(){var W=g,J=Rs(a),Z=[];e:{var X=Ap.get(r);if(X!==void 0){var se=Us,ue=r;switch(r){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=Hs;break;case"focusout":ue="blur",se=Hs;break;case"beforeblur":case"afterblur":se=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=K;break;case Sp:case Cp:case Rp:se=_r;break;case Pp:se=$e;break;case"scroll":se=Qc;break;case"wheel":se=Oe;break;case"copy":case"cut":case"paste":se=jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=T}var ce=(i&4)!==0,ot=!ce&&r==="scroll",U=ce?X!==null?X+"Capture":null:X;ce=[];for(var b=W,B;b!==null;){B=b;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,U!==null&&(ne=st(b,U),ne!=null&&ce.push(ga(b,ne,B)))),ot)break;b=b.return}0<ce.length&&(X=new se(X,ue,null,a,J),Z.push({event:X,listeners:ce}))}}if(!(i&7)){e:{if(X=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",X&&a!==bi&&(ue=a.relatedTarget||a.fromElement)&&(qi(ue)||ue[Er]))break e;if((se||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=W,ue=ue?qi(ue):null,ue!==null&&(ot=Pn(ue),ue!==ot||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=W),se!==ue)){if(ce=Bs,ne="onMouseLeave",U="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(ce=T,ne="onPointerLeave",U="onPointerEnter",b="pointer"),ot=se==null?X:Js(se),B=ue==null?X:Js(ue),X=new ce(ne,b+"leave",se,a,J),X.target=ot,X.relatedTarget=B,ne=null,qi(J)===W&&(ce=new ce(U,b+"enter",ue,a,J),ce.target=B,ce.relatedTarget=ot,ne=ce),ot=ne,se&&ue)t:{for(ce=se,U=ue,b=0,B=ce;B;B=Ys(B))b++;for(B=0,ne=U;ne;ne=Ys(ne))B++;for(;0<b-B;)ce=Ys(ce),b--;for(;0<B-b;)U=Ys(U),B--;for(;b--;){if(ce===U||U!==null&&ce===U.alternate)break t;ce=Ys(ce),U=Ys(U)}ce=null}else ce=null;se!==null&&bp(Z,X,se,ce,!1),ue!==null&&ot!==null&&bp(Z,ot,ue,ce,!0)}}e:{if(X=W?Js(W):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var he=$0;else if(dp(X))if(pp)he=K0;else{he=W0;var ge=H0}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=q0);if(he&&(he=he(r,W))){fp(Z,he,a,J);break e}ge&&ge(r,X,W),r==="focusout"&&(ge=X._wrapperState)&&ge.controlled&&X.type==="number"&&Is(X,"number",X.value)}switch(ge=W?Js(W):window,r){case"focusin":(dp(ge)||ge.contentEditable==="true")&&(Gs=ge,Zc=W,fa=null);break;case"focusout":fa=Zc=Gs=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Tp(Z,a,J);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":Tp(Z,a,J)}var ye;if(lt)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ks?cp(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Wi&&a.locale!=="ko"&&(Ks||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ks&&(ye=oa()):(sn=J,js="value"in sn?sn.value:sn.textContent,Ks=!0)),ge=ql(W,we),0<ge.length&&(we=new ua(we,r,null,a,J),Z.push({event:we,listeners:ge}),ye?we.data=ye:(ye=hp(a),ye!==null&&(we.data=ye)))),(ye=on?F0(r,a):U0(r,a))&&(W=ql(W,"onBeforeInput"),0<W.length&&(J=new ua("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:W}),J.data=ye))}Np(Z,i)})}function ga(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ql(r,i){for(var a=i+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=st(r,a),g!=null&&c.unshift(ga(r,g,d)),g=st(r,i),g!=null&&c.push(ga(r,g,d))),r=r.return}return c}function Ys(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bp(r,i,a,c,d){for(var g=i._reactName,_=[];a!==null&&a!==c;){var R=a,N=R.alternate,W=R.stateNode;if(N!==null&&N===c)break;R.tag===5&&W!==null&&(R=W,d?(N=st(a,g),N!=null&&_.unshift(ga(a,N,R))):d||(N=st(a,g),N!=null&&_.push(ga(a,N,R)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function Op(r){return(typeof r=="string"?r:""+r).replace(e1,`
`).replace(t1,"")}function Kl(r,i,a){if(i=Op(i),Op(r)!==i&&a)throw Error(t(425))}function Gl(){}var oh=null,ah=null;function lh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(r){return Lp.resolve(null).then(r).catch(i1)}:uh;function i1(r){setTimeout(function(){throw r})}function ch(r,i){var a=i,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),Dn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(i)}function Jr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Vp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Xs,ya="__reactProps$"+Xs,Er="__reactContainer$"+Xs,hh="__reactEvents$"+Xs,s1="__reactListeners$"+Xs,o1="__reactHandles$"+Xs;function qi(r){var i=r[Zn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Er]||a[Zn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Vp(r);r!==null;){if(a=r[Zn])return a;r=Vp(r)}return i}r=a,a=r.parentNode}return null}function va(r){return r=r[Zn]||r[Er],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Js(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ql(r){return r[ya]||null}var dh=[],Zs=-1;function Zr(r){return{current:r}}function Qe(r){0>Zs||(r.current=dh[Zs],dh[Zs]=null,Zs--)}function Ke(r,i){Zs++,dh[Zs]=r.current,r.current=i}var ei={},Ot=Zr(ei),Qt=Zr(!1),Ki=ei;function eo(r,i){var a=r.type.contextTypes;if(!a)return ei;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(r){return r=r.childContextTypes,r!=null}function Yl(){Qe(Qt),Qe(Ot)}function Mp(r,i,a){if(Ot.current!==ei)throw Error(t(168));Ke(Ot,i),Ke(Qt,a)}function jp(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Ue(r)||"Unknown",d));return oe({},a,c)}function Xl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ei,Ki=Ot.current,Ke(Ot,r),Ke(Qt,Qt.current),!0}function Fp(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=jp(r,i,Ki),c.__reactInternalMemoizedMergedChildContext=r,Qe(Qt),Qe(Ot),Ke(Ot,r)):Qe(Qt),Ke(Qt,a)}var wr=null,Jl=!1,fh=!1;function Up(r){wr===null?wr=[r]:wr.push(r)}function a1(r){Jl=!0,Up(r)}function ti(){if(!fh&&wr!==null){fh=!0;var r=0,i=xe;try{var a=wr;for(xe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}wr=null,Jl=!1}catch(d){throw wr!==null&&(wr=wr.slice(r+1)),bs(ji,ti),d}finally{xe=i,fh=!1}}return null}var to=[],no=0,Zl=null,eu=0,mn=[],gn=0,Gi=null,Tr=1,Ir="";function Qi(r,i){to[no++]=eu,to[no++]=Zl,Zl=r,eu=i}function zp(r,i,a){mn[gn++]=Tr,mn[gn++]=Ir,mn[gn++]=Gi,Gi=r;var c=Tr;r=Ir;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var g=32-Bt(i)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Tr=1<<32-Bt(i)+d|a<<d|c,Ir=g+r}else Tr=1<<g|a<<d|c,Ir=r}function ph(r){r.return!==null&&(Qi(r,1),zp(r,1,0))}function mh(r){for(;r===Zl;)Zl=to[--no],to[no]=null,eu=to[--no],to[no]=null;for(;r===Gi;)Gi=mn[--gn],mn[gn]=null,Ir=mn[--gn],mn[gn]=null,Tr=mn[--gn],mn[gn]=null}var an=null,ln=null,Xe=!1,Ln=null;function Bp(r,i){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function $p(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,an=r,ln=Jr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,an=r,ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Gi!==null?{id:Tr,overflow:Ir}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,an=r,ln=null,!0):!1;default:return!1}}function gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yh(r){if(Xe){var i=ln;if(i){var a=i;if(!$p(r,i)){if(gh(r))throw Error(t(418));i=Jr(a.nextSibling);var c=an;i&&$p(r,i)?Bp(c,a):(r.flags=r.flags&-4097|2,Xe=!1,an=r)}}else{if(gh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Xe=!1,an=r}}}function Hp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;an=r}function tu(r){if(r!==an)return!1;if(!Xe)return Hp(r),Xe=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!lh(r.type,r.memoizedProps)),i&&(i=ln)){if(gh(r))throw Wp(),Error(t(418));for(;i;)Bp(r,i),i=Jr(i.nextSibling)}if(Hp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){ln=Jr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}ln=null}}else ln=an?Jr(r.stateNode.nextSibling):null;return!0}function Wp(){for(var r=ln;r;)r=Jr(r.nextSibling)}function ro(){ln=an=null,Xe=!1}function vh(r){Ln===null?Ln=[r]:Ln.push(r)}var l1=te.ReactCurrentBatchConfig;function _a(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(_){var R=d.refs;_===null?delete R[g]:R[g]=_},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function nu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function qp(r){var i=r._init;return i(r._payload)}function Kp(r){function i(U,b){if(r){var B=U.deletions;B===null?(U.deletions=[b],U.flags|=16):B.push(b)}}function a(U,b){if(!r)return null;for(;b!==null;)i(U,b),b=b.sibling;return null}function c(U,b){for(U=new Map;b!==null;)b.key!==null?U.set(b.key,b):U.set(b.index,b),b=b.sibling;return U}function d(U,b){return U=ui(U,b),U.index=0,U.sibling=null,U}function g(U,b,B){return U.index=B,r?(B=U.alternate,B!==null?(B=B.index,B<b?(U.flags|=2,b):B):(U.flags|=2,b)):(U.flags|=1048576,b)}function _(U){return r&&U.alternate===null&&(U.flags|=2),U}function R(U,b,B,ne){return b===null||b.tag!==6?(b=ud(B,U.mode,ne),b.return=U,b):(b=d(b,B),b.return=U,b)}function N(U,b,B,ne){var he=B.type;return he===k?J(U,b,B.props.children,ne,B.key):b!==null&&(b.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===dt&&qp(he)===b.type)?(ne=d(b,B.props),ne.ref=_a(U,b,B),ne.return=U,ne):(ne=Ru(B.type,B.key,B.props,null,U.mode,ne),ne.ref=_a(U,b,B),ne.return=U,ne)}function W(U,b,B,ne){return b===null||b.tag!==4||b.stateNode.containerInfo!==B.containerInfo||b.stateNode.implementation!==B.implementation?(b=cd(B,U.mode,ne),b.return=U,b):(b=d(b,B.children||[]),b.return=U,b)}function J(U,b,B,ne,he){return b===null||b.tag!==7?(b=rs(B,U.mode,ne,he),b.return=U,b):(b=d(b,B),b.return=U,b)}function Z(U,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ud(""+b,U.mode,B),b.return=U,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case de:return B=Ru(b.type,b.key,b.props,null,U.mode,B),B.ref=_a(U,null,b),B.return=U,B;case fe:return b=cd(b,U.mode,B),b.return=U,b;case dt:var ne=b._init;return Z(U,ne(b._payload),B)}if(hr(b)||me(b))return b=rs(b,U.mode,B,null),b.return=U,b;nu(U,b)}return null}function X(U,b,B,ne){var he=b!==null?b.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return he!==null?null:R(U,b,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case de:return B.key===he?N(U,b,B,ne):null;case fe:return B.key===he?W(U,b,B,ne):null;case dt:return he=B._init,X(U,b,he(B._payload),ne)}if(hr(B)||me(B))return he!==null?null:J(U,b,B,ne,null);nu(U,B)}return null}function se(U,b,B,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(B)||null,R(b,U,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case de:return U=U.get(ne.key===null?B:ne.key)||null,N(b,U,ne,he);case fe:return U=U.get(ne.key===null?B:ne.key)||null,W(b,U,ne,he);case dt:var ge=ne._init;return se(U,b,B,ge(ne._payload),he)}if(hr(ne)||me(ne))return U=U.get(B)||null,J(b,U,ne,he,null);nu(b,ne)}return null}function ue(U,b,B,ne){for(var he=null,ge=null,ye=b,we=b=0,Ct=null;ye!==null&&we<B.length;we++){ye.index>we?(Ct=ye,ye=null):Ct=ye.sibling;var je=X(U,ye,B[we],ne);if(je===null){ye===null&&(ye=Ct);break}r&&ye&&je.alternate===null&&i(U,ye),b=g(je,b,we),ge===null?he=je:ge.sibling=je,ge=je,ye=Ct}if(we===B.length)return a(U,ye),Xe&&Qi(U,we),he;if(ye===null){for(;we<B.length;we++)ye=Z(U,B[we],ne),ye!==null&&(b=g(ye,b,we),ge===null?he=ye:ge.sibling=ye,ge=ye);return Xe&&Qi(U,we),he}for(ye=c(U,ye);we<B.length;we++)Ct=se(ye,U,we,B[we],ne),Ct!==null&&(r&&Ct.alternate!==null&&ye.delete(Ct.key===null?we:Ct.key),b=g(Ct,b,we),ge===null?he=Ct:ge.sibling=Ct,ge=Ct);return r&&ye.forEach(function(ci){return i(U,ci)}),Xe&&Qi(U,we),he}function ce(U,b,B,ne){var he=me(B);if(typeof he!="function")throw Error(t(150));if(B=he.call(B),B==null)throw Error(t(151));for(var ge=he=null,ye=b,we=b=0,Ct=null,je=B.next();ye!==null&&!je.done;we++,je=B.next()){ye.index>we?(Ct=ye,ye=null):Ct=ye.sibling;var ci=X(U,ye,je.value,ne);if(ci===null){ye===null&&(ye=Ct);break}r&&ye&&ci.alternate===null&&i(U,ye),b=g(ci,b,we),ge===null?he=ci:ge.sibling=ci,ge=ci,ye=Ct}if(je.done)return a(U,ye),Xe&&Qi(U,we),he;if(ye===null){for(;!je.done;we++,je=B.next())je=Z(U,je.value,ne),je!==null&&(b=g(je,b,we),ge===null?he=je:ge.sibling=je,ge=je);return Xe&&Qi(U,we),he}for(ye=c(U,ye);!je.done;we++,je=B.next())je=se(ye,U,we,je.value,ne),je!==null&&(r&&je.alternate!==null&&ye.delete(je.key===null?we:je.key),b=g(je,b,we),ge===null?he=je:ge.sibling=je,ge=je);return r&&ye.forEach(function(U1){return i(U,U1)}),Xe&&Qi(U,we),he}function ot(U,b,B,ne){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case de:e:{for(var he=B.key,ge=b;ge!==null;){if(ge.key===he){if(he=B.type,he===k){if(ge.tag===7){a(U,ge.sibling),b=d(ge,B.props.children),b.return=U,U=b;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===dt&&qp(he)===ge.type){a(U,ge.sibling),b=d(ge,B.props),b.ref=_a(U,ge,B),b.return=U,U=b;break e}a(U,ge);break}else i(U,ge);ge=ge.sibling}B.type===k?(b=rs(B.props.children,U.mode,ne,B.key),b.return=U,U=b):(ne=Ru(B.type,B.key,B.props,null,U.mode,ne),ne.ref=_a(U,b,B),ne.return=U,U=ne)}return _(U);case fe:e:{for(ge=B.key;b!==null;){if(b.key===ge)if(b.tag===4&&b.stateNode.containerInfo===B.containerInfo&&b.stateNode.implementation===B.implementation){a(U,b.sibling),b=d(b,B.children||[]),b.return=U,U=b;break e}else{a(U,b);break}else i(U,b);b=b.sibling}b=cd(B,U.mode,ne),b.return=U,U=b}return _(U);case dt:return ge=B._init,ot(U,b,ge(B._payload),ne)}if(hr(B))return ue(U,b,B,ne);if(me(B))return ce(U,b,B,ne);nu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,b!==null&&b.tag===6?(a(U,b.sibling),b=d(b,B),b.return=U,U=b):(a(U,b),b=ud(B,U.mode,ne),b.return=U,U=b),_(U)):a(U,b)}return ot}var io=Kp(!0),Gp=Kp(!1),ru=Zr(null),iu=null,so=null,_h=null;function Eh(){_h=so=iu=null}function wh(r){var i=ru.current;Qe(ru),r._currentValue=i}function Th(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function oo(r,i){iu=r,_h=so=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(Xt=!0),r.firstContext=null)}function yn(r){var i=r._currentValue;if(_h!==r)if(r={context:r,memoizedValue:i,next:null},so===null){if(iu===null)throw Error(t(308));so=r,iu.dependencies={lanes:0,firstContext:r}}else so=so.next=r;return i}var Yi=null;function Ih(r){Yi===null?Yi=[r]:Yi.push(r)}function Qp(r,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Ih(i)):(a.next=d.next,d.next=a),i.interleaved=a,Sr(r,c)}function Sr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ni=!1;function Sh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Cr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ri(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Sr(r,a)}return d=c.interleaved,d===null?(i.next=i,Ih(c)):(i.next=d.next,d.next=i),c.interleaved=i,Sr(r,a)}function su(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,qr(r,a)}}function Xp(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ou(r,i,a,c){var d=r.updateQueue;ni=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var N=R,W=N.next;N.next=null,_===null?g=W:_.next=W,_=N;var J=r.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==_&&(R===null?J.firstBaseUpdate=W:R.next=W,J.lastBaseUpdate=N))}if(g!==null){var Z=d.baseState;_=0,J=W=N=null,R=g;do{var X=R.lane,se=R.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ue=r,ce=R;switch(X=i,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,X);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,X=typeof ue=="function"?ue.call(se,Z,X):ue,X==null)break e;Z=oe({},Z,X);break e;case 2:ni=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[R]:X.push(R))}else se={eventTime:se,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(W=J=se,N=Z):J=J.next=se,_|=X;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;X=R,R=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(N=Z),d.baseState=N,d.firstBaseUpdate=W,d.lastBaseUpdate=J,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);Zi|=_,r.lanes=_,r.memoizedState=Z}}function Jp(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ea={},er=Zr(Ea),wa=Zr(Ea),Ta=Zr(Ea);function Xi(r){if(r===Ea)throw Error(t(174));return r}function Ch(r,i){switch(Ke(Ta,i),Ke(wa,r),Ke(er,Ea),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:pt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=pt(i,r)}Qe(er),Ke(er,i)}function ao(){Qe(er),Qe(wa),Qe(Ta)}function Zp(r){Xi(Ta.current);var i=Xi(er.current),a=pt(i,r.type);i!==a&&(Ke(wa,r),Ke(er,a))}function Rh(r){wa.current===r&&(Qe(er),Qe(wa))}var et=Zr(0);function au(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ph=[];function Ah(){for(var r=0;r<Ph.length;r++)Ph[r]._workInProgressVersionPrimary=null;Ph.length=0}var lu=te.ReactCurrentDispatcher,kh=te.ReactCurrentBatchConfig,Ji=0,tt=null,gt=null,It=null,uu=!1,Ia=!1,Sa=0,u1=0;function Lt(){throw Error(t(321))}function xh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!On(r[a],i[a]))return!1;return!0}function Nh(r,i,a,c,d,g){if(Ji=g,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,lu.current=r===null||r.memoizedState===null?f1:p1,r=a(c,d),Ia){g=0;do{if(Ia=!1,Sa=0,25<=g)throw Error(t(301));g+=1,It=gt=null,i.updateQueue=null,lu.current=m1,r=a(c,d)}while(Ia)}if(lu.current=du,i=gt!==null&&gt.next!==null,Ji=0,It=gt=tt=null,uu=!1,i)throw Error(t(300));return r}function Dh(){var r=Sa!==0;return Sa=0,r}function tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?tt.memoizedState=It=r:It=It.next=r,It}function vn(){if(gt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var i=It===null?tt.memoizedState:It.next;if(i!==null)It=i,gt=r;else{if(r===null)throw Error(t(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?tt.memoizedState=It=r:It=It.next=r}return It}function Ca(r,i){return typeof i=="function"?i(r):i}function bh(r){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=gt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var R=_=null,N=null,W=g;do{var J=W.lane;if((Ji&J)===J)N!==null&&(N=N.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:r(c,W.action);else{var Z={lane:J,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};N===null?(R=N=Z,_=c):N=N.next=Z,tt.lanes|=J,Zi|=J}W=W.next}while(W!==null&&W!==g);N===null?_=c:N.next=R,On(c,i.memoizedState)||(Xt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,tt.lanes|=g,Zi|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Oh(r){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do g=r(g,_.action),_=_.next;while(_!==d);On(g,i.memoizedState)||(Xt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function em(){}function tm(r,i){var a=tt,c=vn(),d=i(),g=!On(c.memoizedState,d);if(g&&(c.memoizedState=d,Xt=!0),c=c.queue,Lh(im.bind(null,a,c,r),[r]),c.getSnapshot!==i||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ra(9,rm.bind(null,a,c,d,i),void 0,null),St===null)throw Error(t(349));Ji&30||nm(a,i,d)}return d}function nm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function rm(r,i,a,c){i.value=a,i.getSnapshot=c,sm(i)&&om(r)}function im(r,i,a){return a(function(){sm(i)&&om(r)})}function sm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!On(r,a)}catch{return!0}}function om(r){var i=Sr(r,1);i!==null&&Fn(i,r,1,-1)}function am(r){var i=tr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:r},i.queue=r,r=r.dispatch=d1.bind(null,tt,r),[i.memoizedState,r]}function Ra(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function lm(){return vn().memoizedState}function cu(r,i,a,c){var d=tr();tt.flags|=r,d.memoizedState=Ra(1|i,a,void 0,c===void 0?null:c)}function hu(r,i,a,c){var d=vn();c=c===void 0?null:c;var g=void 0;if(gt!==null){var _=gt.memoizedState;if(g=_.destroy,c!==null&&xh(c,_.deps)){d.memoizedState=Ra(i,a,g,c);return}}tt.flags|=r,d.memoizedState=Ra(1|i,a,g,c)}function um(r,i){return cu(8390656,8,r,i)}function Lh(r,i){return hu(2048,8,r,i)}function cm(r,i){return hu(4,2,r,i)}function hm(r,i){return hu(4,4,r,i)}function dm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function fm(r,i,a){return a=a!=null?a.concat([r]):null,hu(4,4,dm.bind(null,i,r),a)}function Vh(){}function pm(r,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&xh(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function mm(r,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&xh(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function gm(r,i,a){return Ji&21?(On(a,i)||(a=zi(),tt.lanes|=a,Zi|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,Xt=!0),r.memoizedState=a)}function c1(r,i){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var c=kh.transition;kh.transition={};try{r(!1),i()}finally{xe=a,kh.transition=c}}function ym(){return vn().memoizedState}function h1(r,i,a){var c=ai(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},vm(r))_m(i,a);else if(a=Qp(r,i,a,c),a!==null){var d=Wt();Fn(a,r,c,d),Em(a,i,c)}}function d1(r,i,a){var c=ai(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(vm(r))_m(i,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var _=i.lastRenderedState,R=g(_,a);if(d.hasEagerState=!0,d.eagerState=R,On(R,_)){var N=i.interleaved;N===null?(d.next=d,Ih(i)):(d.next=N.next,N.next=d),i.interleaved=d;return}}catch{}finally{}a=Qp(r,i,d,c),a!==null&&(d=Wt(),Fn(a,r,c,d),Em(a,i,c))}}function vm(r){var i=r.alternate;return r===tt||i!==null&&i===tt}function _m(r,i){Ia=uu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Em(r,i,a){if(a&4194240){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,qr(r,a)}}var du={readContext:yn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},f1={readContext:yn,useCallback:function(r,i){return tr().memoizedState=[r,i===void 0?null:i],r},useContext:yn,useEffect:um,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,cu(4194308,4,dm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return cu(4194308,4,r,i)},useInsertionEffect:function(r,i){return cu(4,2,r,i)},useMemo:function(r,i){var a=tr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=tr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=h1.bind(null,tt,r),[c.memoizedState,r]},useRef:function(r){var i=tr();return r={current:r},i.memoizedState=r},useState:am,useDebugValue:Vh,useDeferredValue:function(r){return tr().memoizedState=r},useTransition:function(){var r=am(!1),i=r[0];return r=c1.bind(null,r[1]),tr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=tt,d=tr();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),St===null)throw Error(t(349));Ji&30||nm(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,um(im.bind(null,c,g,r),[r]),c.flags|=2048,Ra(9,rm.bind(null,c,g,a,i),void 0,null),a},useId:function(){var r=tr(),i=St.identifierPrefix;if(Xe){var a=Ir,c=Tr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Sa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=u1++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},p1={readContext:yn,useCallback:pm,useContext:yn,useEffect:Lh,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:hm,useMemo:mm,useReducer:bh,useRef:lm,useState:function(){return bh(Ca)},useDebugValue:Vh,useDeferredValue:function(r){var i=vn();return gm(i,gt.memoizedState,r)},useTransition:function(){var r=bh(Ca)[0],i=vn().memoizedState;return[r,i]},useMutableSource:em,useSyncExternalStore:tm,useId:ym,unstable_isNewReconciler:!1},m1={readContext:yn,useCallback:pm,useContext:yn,useEffect:Lh,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:hm,useMemo:mm,useReducer:Oh,useRef:lm,useState:function(){return Oh(Ca)},useDebugValue:Vh,useDeferredValue:function(r){var i=vn();return gt===null?i.memoizedState=r:gm(i,gt.memoizedState,r)},useTransition:function(){var r=Oh(Ca)[0],i=vn().memoizedState;return[r,i]},useMutableSource:em,useSyncExternalStore:tm,useId:ym,unstable_isNewReconciler:!1};function Vn(r,i){if(r&&r.defaultProps){i=oe({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Mh(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var fu={isMounted:function(r){return(r=r._reactInternals)?Pn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Wt(),d=ai(r),g=Cr(c,d);g.payload=i,a!=null&&(g.callback=a),i=ri(r,g,d),i!==null&&(Fn(i,r,d,c),su(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Wt(),d=ai(r),g=Cr(c,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ri(r,g,d),i!==null&&(Fn(i,r,d,c),su(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Wt(),c=ai(r),d=Cr(a,c);d.tag=2,i!=null&&(d.callback=i),i=ri(r,d,c),i!==null&&(Fn(i,r,c,a),su(i,r,c))}};function wm(r,i,a,c,d,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,_):i.prototype&&i.prototype.isPureReactComponent?!da(a,c)||!da(d,g):!0}function Tm(r,i,a){var c=!1,d=ei,g=i.contextType;return typeof g=="object"&&g!==null?g=yn(g):(d=Yt(i)?Ki:Ot.current,c=i.contextTypes,g=(c=c!=null)?eo(r,d):ei),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fu,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),i}function Im(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&fu.enqueueReplaceState(i,i.state,null)}function jh(r,i,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Sh(r);var g=i.contextType;typeof g=="object"&&g!==null?d.context=yn(g):(g=Yt(i)?Ki:Ot.current,d.context=eo(r,g)),d.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Mh(r,i,g,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&fu.enqueueReplaceState(d,d.state,null),ou(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function lo(r,i){try{var a="",c=i;do a+=Re(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:d,digest:null}}function Fh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Uh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var g1=typeof WeakMap=="function"?WeakMap:Map;function Sm(r,i,a){a=Cr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Eu||(Eu=!0,td=c),Uh(r,i)},a}function Cm(r,i,a){a=Cr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Uh(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Uh(r,i),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Rm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new g1;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),r=x1.bind(null,r,i,a),i.then(r,r))}function Pm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Am(r,i,a,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Cr(-1,1),i.tag=2,ri(a,i,1))),a.lanes|=1),r)}var y1=te.ReactCurrentOwner,Xt=!1;function Ht(r,i,a,c){i.child=r===null?Gp(i,null,a,c):io(i,r.child,a,c)}function km(r,i,a,c,d){a=a.render;var g=i.ref;return oo(i,d),c=Nh(r,i,a,c,g,d),a=Dh(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Rr(r,i,d)):(Xe&&a&&ph(i),i.flags|=1,Ht(r,i,c,d),i.child)}function xm(r,i,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!ld(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Nm(r,i,g,c,d)):(r=Ru(a.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!(r.lanes&d)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:da,a(_,c)&&r.ref===i.ref)return Rr(r,i,d)}return i.flags|=1,r=ui(g,c),r.ref=i.ref,r.return=i,i.child=r}function Nm(r,i,a,c,d){if(r!==null){var g=r.memoizedProps;if(da(g,c)&&r.ref===i.ref)if(Xt=!1,i.pendingProps=c=g,(r.lanes&d)!==0)r.flags&131072&&(Xt=!0);else return i.lanes=r.lanes,Rr(r,i,d)}return zh(r,i,a,c,d)}function Dm(r,i,a){var c=i.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(co,un),un|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ke(co,un),un|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ke(co,un),un|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,Ke(co,un),un|=c;return Ht(r,i,d,a),i.child}function bm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function zh(r,i,a,c,d){var g=Yt(a)?Ki:Ot.current;return g=eo(i,g),oo(i,d),a=Nh(r,i,a,c,g,d),c=Dh(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Rr(r,i,d)):(Xe&&c&&ph(i),i.flags|=1,Ht(r,i,a,d),i.child)}function Om(r,i,a,c,d){if(Yt(a)){var g=!0;Xl(i)}else g=!1;if(oo(i,d),i.stateNode===null)mu(r,i),Tm(i,a,c),jh(i,a,c,d),c=!0;else if(r===null){var _=i.stateNode,R=i.memoizedProps;_.props=R;var N=_.context,W=a.contextType;typeof W=="object"&&W!==null?W=yn(W):(W=Yt(a)?Ki:Ot.current,W=eo(i,W));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==c||N!==W)&&Im(i,_,c,W),ni=!1;var X=i.memoizedState;_.state=X,ou(i,c,_,d),N=i.memoizedState,R!==c||X!==N||Qt.current||ni?(typeof J=="function"&&(Mh(i,a,J,c),N=i.memoizedState),(R=ni||wm(i,a,R,c,X,N,W))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),_.props=c,_.state=N,_.context=W,c=R):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Yp(r,i),R=i.memoizedProps,W=i.type===i.elementType?R:Vn(i.type,R),_.props=W,Z=i.pendingProps,X=_.context,N=a.contextType,typeof N=="object"&&N!==null?N=yn(N):(N=Yt(a)?Ki:Ot.current,N=eo(i,N));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Z||X!==N)&&Im(i,_,c,N),ni=!1,X=i.memoizedState,_.state=X,ou(i,c,_,d);var ue=i.memoizedState;R!==Z||X!==ue||Qt.current||ni?(typeof se=="function"&&(Mh(i,a,se,c),ue=i.memoizedState),(W=ni||wm(i,a,W,c,X,ue,N)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,N)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=N,c=W):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),c=!1)}return Bh(r,i,a,c,g,d)}function Bh(r,i,a,c,d,g){bm(r,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Fp(i,a,!1),Rr(r,i,g);c=i.stateNode,y1.current=i;var R=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&_?(i.child=io(i,r.child,null,g),i.child=io(i,null,R,g)):Ht(r,i,R,g),i.memoizedState=c.state,d&&Fp(i,a,!0),i.child}function Lm(r){var i=r.stateNode;i.pendingContext?Mp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Mp(r,i.context,!1),Ch(r,i.containerInfo)}function Vm(r,i,a,c,d){return ro(),vh(d),i.flags|=256,Ht(r,i,a,c),i.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Mm(r,i,a){var c=i.pendingProps,d=et.current,g=!1,_=(i.flags&128)!==0,R;if((R=_)||(R=r!==null&&r.memoizedState===null?!1:(d&2)!==0),R?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ke(et,d&1),r===null)return yh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,r=c.fallback,g?(c=i.mode,g=i.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Pu(_,c,0,null),r=rs(r,c,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Hh(a),i.memoizedState=$h,r):Wh(i,_));if(d=r.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return v1(r,i,_,c,R,d,a);if(g){g=c.fallback,_=i.mode,d=r.child,R=d.sibling;var N={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ui(d,N),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=ui(R,g):(g=rs(g,_,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,_=r.child.memoizedState,_=_===null?Hh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,i.memoizedState=$h,c}return g=r.child,r=g.sibling,c=ui(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function Wh(r,i){return i=Pu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function pu(r,i,a,c){return c!==null&&vh(c),io(i,r.child,null,a),r=Wh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function v1(r,i,a,c,d,g,_){if(a)return i.flags&256?(i.flags&=-257,c=Fh(Error(t(422))),pu(r,i,_,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=c.fallback,d=i.mode,c=Pu({mode:"visible",children:c.children},d,0,null),g=rs(g,d,_,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&io(i,r.child,null,_),i.child.memoizedState=Hh(_),i.memoizedState=$h,g);if(!(i.mode&1))return pu(r,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=Fh(g,c,void 0),pu(r,i,_,c)}if(R=(_&r.childLanes)!==0,Xt||R){if(c=St,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Sr(r,d),Fn(c,r,d,-1))}return ad(),c=Fh(Error(t(421))),pu(r,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=N1.bind(null,r),d._reactRetry=i,null):(r=g.treeContext,ln=Jr(d.nextSibling),an=i,Xe=!0,Ln=null,r!==null&&(mn[gn++]=Tr,mn[gn++]=Ir,mn[gn++]=Gi,Tr=r.id,Ir=r.overflow,Gi=i),i=Wh(i,c.children),i.flags|=4096,i)}function jm(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Th(r.return,i,a)}function qh(r,i,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Fm(r,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(Ht(r,i,c.children,a),c=et.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jm(r,a,i);else if(r.tag===19)jm(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ke(et,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&au(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),qh(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&au(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}qh(i,!0,a,null,g);break;case"together":qh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Rr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Zi|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=ui(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=ui(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function _1(r,i,a){switch(i.tag){case 3:Lm(i),ro();break;case 5:Zp(i);break;case 1:Yt(i.type)&&Xl(i);break;case 4:Ch(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ke(ru,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ke(et,et.current&1),i.flags|=128,null):a&i.child.childLanes?Mm(r,i,a):(Ke(et,et.current&1),r=Rr(r,i,a),r!==null?r.sibling:null);Ke(et,et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,r.flags&128){if(c)return Fm(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(et,et.current),c)break;return null;case 22:case 23:return i.lanes=0,Dm(r,i,a)}return Rr(r,i,a)}var Um,Kh,zm,Bm;Um=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kh=function(){},zm=function(r,i,a,c){var d=r.memoizedProps;if(d!==c){r=i.stateNode,Xi(er.current);var g=null;switch(a){case"input":d=xi(r,d),c=xi(r,c),g=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":d=zo(r,d),c=zo(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Gl)}Ko(a,c);var _;a=null;for(W in d)if(!c.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var R=d[W];for(_ in R)R.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var N=c[W];if(R=d!=null?d[W]:void 0,c.hasOwnProperty(W)&&N!==R&&(N!=null||R!=null))if(W==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in N)N.hasOwnProperty(_)&&R[_]!==N[_]&&(a||(a={}),a[_]=N[_])}else a||(g||(g=[]),g.push(W,a)),a=N;else W==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(g=g||[]).push(W,N)):W==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(W,""+N):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(N!=null&&W==="onScroll"&&Ge("scroll",r),g||R===N||(g=[])):(g=g||[]).push(W,N))}a&&(g=g||[]).push("style",a);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},Bm=function(r,i,a,c){a!==c&&(i.flags|=4)};function Pa(r,i){if(!Xe)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function E1(r,i,a){var c=i.pendingProps;switch(mh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Yt(i.type)&&Yl(),Vt(i),null;case 3:return c=i.stateNode,ao(),Qe(Qt),Qe(Ot),Ah(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(tu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Ln!==null&&(id(Ln),Ln=null))),Kh(r,i),Vt(i),null;case 5:Rh(i);var d=Xi(Ta.current);if(a=i.type,r!==null&&i.stateNode!=null)zm(r,i,a,c,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(r=Xi(er.current),tu(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Zn]=i,c[ya]=g,r=(i.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<pa.length;d++)Ge(pa[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":Ts(c,g),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",c);break;case"textarea":Ss(c,g),Ge("invalid",c)}Ko(a,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var R=g[_];_==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&Kl(c.textContent,R,r),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Kl(c.textContent,R,r),d=["children",""+R]):o.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&Ge("scroll",c)}switch(a){case"input":cr(c),_l(c,g,!0);break;case"textarea":cr(c),Bo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Gl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ft(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[Zn]=i,r[ya]=c,Um(r,i,!1,!1),i.stateNode=r;e:{switch(_=Go(a,c),a){case"dialog":Ge("cancel",r),Ge("close",r),d=c;break;case"iframe":case"object":case"embed":Ge("load",r),d=c;break;case"video":case"audio":for(d=0;d<pa.length;d++)Ge(pa[d],r);d=c;break;case"source":Ge("error",r),d=c;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),d=c;break;case"details":Ge("toggle",r),d=c;break;case"input":Ts(r,c),d=xi(r,c),Ge("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),Ge("invalid",r);break;case"textarea":Ss(r,c),d=zo(r,c),Ge("invalid",r);break;default:d=c}Ko(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var N=R[g];g==="style"?Wo(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&$o(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&zr(r,N):typeof N=="number"&&zr(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Ge("scroll",r):N!=null&&G(r,g,N,_))}switch(a){case"input":cr(r),_l(r,c,!1);break;case"textarea":cr(r),Bo(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ze(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?dr(r,!!c.multiple,g,!1):c.defaultValue!=null&&dr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(r&&i.stateNode!=null)Bm(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Xi(Ta.current),Xi(er.current),tu(i)){if(c=i.stateNode,a=i.memoizedProps,c[Zn]=i,(g=c.nodeValue!==a)&&(r=an,r!==null))switch(r.tag){case 3:Kl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Kl(c.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Zn]=i,i.stateNode=c}return Vt(i),null;case 13:if(Qe(et),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&ln!==null&&i.mode&1&&!(i.flags&128))Wp(),ro(),i.flags|=98560,g=!1;else if(g=tu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Zn]=i}else ro(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),g=!1}else Ln!==null&&(id(Ln),Ln=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(r===null||et.current&1?yt===0&&(yt=3):ad())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return ao(),Kh(r,i),r===null&&ma(i.stateNode.containerInfo),Vt(i),null;case 10:return wh(i.type._context),Vt(i),null;case 17:return Yt(i.type)&&Yl(),Vt(i),null;case 19:if(Qe(et),g=i.memoizedState,g===null)return Vt(i),null;if(c=(i.flags&128)!==0,_=g.rendering,_===null)if(c)Pa(g,!1);else{if(yt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(_=au(r),_!==null){for(i.flags|=128,Pa(g,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,r=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(et,et.current&1|2),i.child}r=r.sibling}g.tail!==null&&qe()>ho&&(i.flags|=128,c=!0,Pa(g,!1),i.lanes=4194304)}else{if(!c)if(r=au(_),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Pa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Xe)return Vt(i),null}else 2*qe()-g.renderingStartTime>ho&&a!==1073741824&&(i.flags|=128,c=!0,Pa(g,!1),i.lanes=4194304);g.isBackwards?(_.sibling=i.child,i.child=_):(a=g.last,a!==null?a.sibling=_:i.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=qe(),i.sibling=null,a=et.current,Ke(et,c?a&1|2:a&1),i):(Vt(i),null);case 22:case 23:return od(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?un&1073741824&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function w1(r,i){switch(mh(i),i.tag){case 1:return Yt(i.type)&&Yl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ao(),Qe(Qt),Qe(Ot),Ah(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Rh(i),null;case 13:if(Qe(et),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ro()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Qe(et),null;case 4:return ao(),null;case 10:return wh(i.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var gu=!1,Mt=!1,T1=typeof WeakSet=="function"?WeakSet:Set,le=null;function uo(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(r,i,c)}else a.current=null}function Gh(r,i,a){try{a()}catch(c){rt(r,i,c)}}var $m=!1;function I1(r,i){if(oh=Qr,r=wp(),Jc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,R=-1,N=-1,W=0,J=0,Z=r,X=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(R=_+d),Z!==g||c!==0&&Z.nodeType!==3||(N=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===r)break t;if(X===a&&++W===d&&(R=_),X===g&&++J===c&&(N=_),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}a=R===-1||N===-1?null:{start:R,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(ah={focusedElem:r,selectionRange:a},Qr=!1,le=i;le!==null;)if(i=le,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,le=r;else for(;le!==null;){i=le;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,ot=ue.memoizedState,U=i.stateNode,b=U.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Vn(i.type,ce),ot);U.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){rt(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,le=r;break}le=i.return}return ue=$m,$m=!1,ue}function Aa(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&Gh(i,a,g)}d=d.next}while(d!==c)}}function yu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Qh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Hm(r){var i=r.alternate;i!==null&&(r.alternate=null,Hm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Zn],delete i[ya],delete i[hh],delete i[s1],delete i[o1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wm(r){return r.tag===5||r.tag===3||r.tag===4}function qm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gl));else if(c!==4&&(r=r.child,r!==null))for(Yh(r,i,a),r=r.sibling;r!==null;)Yh(r,i,a),r=r.sibling}function Xh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Xh(r,i,a),r=r.sibling;r!==null;)Xh(r,i,a),r=r.sibling}var kt=null,Mn=!1;function ii(r,i,a){for(a=a.child;a!==null;)Km(r,i,a),a=a.sibling}function Km(r,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Fi,a)}catch{}switch(a.tag){case 5:Mt||uo(a,i);case 6:var c=kt,d=Mn;kt=null,ii(r,i,a),kt=c,Mn=d,kt!==null&&(Mn?(r=kt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(Mn?(r=kt,a=a.stateNode,r.nodeType===8?ch(r.parentNode,a):r.nodeType===1&&ch(r,a),Dn(r)):ch(kt,a.stateNode));break;case 4:c=kt,d=Mn,kt=a.stateNode.containerInfo,Mn=!0,ii(r,i,a),kt=c,Mn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&Gh(a,i,_),d=d.next}while(d!==c)}ii(r,i,a);break;case 1:if(!Mt&&(uo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){rt(a,i,R)}ii(r,i,a);break;case 21:ii(r,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ii(r,i,a),Mt=c):ii(r,i,a);break;default:ii(r,i,a)}}function Gm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new T1),i.forEach(function(c){var d=D1.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function jn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,_=i,R=_;e:for(;R!==null;){switch(R.tag){case 5:kt=R.stateNode,Mn=!1;break e;case 3:kt=R.stateNode.containerInfo,Mn=!0;break e;case 4:kt=R.stateNode.containerInfo,Mn=!0;break e}R=R.return}if(kt===null)throw Error(t(160));Km(g,_,d),kt=null,Mn=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(W){rt(d,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Qm(i,r),i=i.sibling}function Qm(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(i,r),nr(r),c&4){try{Aa(3,r,r.return),yu(3,r)}catch(ce){rt(r,r.return,ce)}try{Aa(5,r,r.return)}catch(ce){rt(r,r.return,ce)}}break;case 1:jn(i,r),nr(r),c&512&&a!==null&&uo(a,a.return);break;case 5:if(jn(i,r),nr(r),c&512&&a!==null&&uo(a,a.return),r.flags&32){var d=r.stateNode;try{zr(d,"")}catch(ce){rt(r,r.return,ce)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,R=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Fo(d,g),Go(R,_);var W=Go(R,g);for(_=0;_<N.length;_+=2){var J=N[_],Z=N[_+1];J==="style"?Wo(d,Z):J==="dangerouslySetInnerHTML"?$o(d,Z):J==="children"?zr(d,Z):G(d,J,Z,W)}switch(R){case"input":Uo(d,g);break;case"textarea":Cs(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?dr(d,!!g.multiple,se,!1):X!==!!g.multiple&&(g.defaultValue!=null?dr(d,!!g.multiple,g.defaultValue,!0):dr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ya]=g}catch(ce){rt(r,r.return,ce)}}break;case 6:if(jn(i,r),nr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(ce){rt(r,r.return,ce)}}break;case 3:if(jn(i,r),nr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(i.containerInfo)}catch(ce){rt(r,r.return,ce)}break;case 4:jn(i,r),nr(r);break;case 13:jn(i,r),nr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(ed=qe())),c&4&&Gm(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(Mt=(W=Mt)||J,jn(i,r),Mt=W):jn(i,r),nr(r),c&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!J&&r.mode&1)for(le=r,J=r.child;J!==null;){for(Z=le=J;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:Aa(4,X,X.return);break;case 1:uo(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){c=X,a=X.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){rt(c,a,ce)}}break;case 5:uo(X,X.return);break;case 22:if(X.memoizedState!==null){Jm(Z);continue}}se!==null?(se.return=X,le=se):Jm(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,W?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=Z.stateNode,N=Z.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=Ho("display",_))}catch(ce){rt(r,r.return,ce)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=W?"":Z.memoizedProps}catch(ce){rt(r,r.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:jn(i,r),nr(r),c&4&&Gm(r);break;case 21:break;default:jn(i,r),nr(r)}}function nr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Wm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(zr(d,""),c.flags&=-33);var g=qm(r);Xh(r,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,R=qm(r);Yh(r,R,_);break;default:throw Error(t(161))}}catch(N){rt(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function S1(r,i,a){le=r,Ym(r)}function Ym(r,i,a){for(var c=(r.mode&1)!==0;le!==null;){var d=le,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||gu;if(!_){var R=d.alternate,N=R!==null&&R.memoizedState!==null||Mt;R=gu;var W=Mt;if(gu=_,(Mt=N)&&!W)for(le=d;le!==null;)_=le,N=_.child,_.tag===22&&_.memoizedState!==null?Zm(d):N!==null?(N.return=_,le=N):Zm(d);for(;g!==null;)le=g,Ym(g),g=g.sibling;le=d,gu=R,Mt=W}Xm(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,le=g):Xm(r)}}function Xm(r){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Mt||yu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Jp(i,g,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Jp(i,_,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var J=W.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Dn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&Qh(i)}catch(X){rt(i,i.return,X)}}if(i===r){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function Jm(r){for(;le!==null;){var i=le;if(i===r){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function Zm(r){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{yu(4,i)}catch(N){rt(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(N){rt(i,d,N)}}var g=i.return;try{Qh(i)}catch(N){rt(i,g,N)}break;case 5:var _=i.return;try{Qh(i)}catch(N){rt(i,_,N)}}}catch(N){rt(i,i.return,N)}if(i===r){le=null;break}var R=i.sibling;if(R!==null){R.return=i.return,le=R;break}le=i.return}}var C1=Math.ceil,vu=te.ReactCurrentDispatcher,Jh=te.ReactCurrentOwner,_n=te.ReactCurrentBatchConfig,Ve=0,St=null,ut=null,xt=0,un=0,co=Zr(0),yt=0,ka=null,Zi=0,_u=0,Zh=0,xa=null,Jt=null,ed=0,ho=1/0,Pr=null,Eu=!1,td=null,si=null,wu=!1,oi=null,Tu=0,Na=0,nd=null,Iu=-1,Su=0;function Wt(){return Ve&6?qe():Iu!==-1?Iu:Iu=qe()}function ai(r){return r.mode&1?Ve&2&&xt!==0?xt&-xt:l1.transition!==null?(Su===0&&(Su=zi()),Su):(r=xe,r!==0||(r=window.event,r=r===void 0?16:sa(r.type)),r):1}function Fn(r,i,a,c){if(50<Na)throw Na=0,nd=null,Error(t(185));Wr(r,a,c),(!(Ve&2)||r!==St)&&(r===St&&(!(Ve&2)&&(_u|=a),yt===4&&li(r,xt)),Zt(r,c),a===1&&Ve===0&&!(i.mode&1)&&(ho=qe()+500,Jl&&ti()))}function Zt(r,i){var a=r.callbackNode;mr(r,i);var c=Ui(r,r===St?xt:0);if(c===0)a!==null&&ea(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&ea(a),i===1)r.tag===0?a1(tg.bind(null,r)):Up(tg.bind(null,r)),r1(function(){!(Ve&6)&&ti()}),a=null;else{switch(Kr(c)){case 1:a=ji;break;case 4:a=Br;break;case 16:a=dn;break;case 536870912:a=Sl;break;default:a=dn}a=ug(a,eg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function eg(r,i){if(Iu=-1,Su=0,Ve&6)throw Error(t(327));var a=r.callbackNode;if(fo()&&r.callbackNode!==a)return null;var c=Ui(r,r===St?xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||i)i=Cu(r,c);else{i=c;var d=Ve;Ve|=2;var g=rg();(St!==r||xt!==i)&&(Pr=null,ho=qe()+500,ts(r,i));do try{A1();break}catch(R){ng(r,R)}while(!0);Eh(),vu.current=g,Ve=d,ut!==null?i=0:(St=null,xt=0,i=yt)}if(i!==0){if(i===2&&(d=rn(r),d!==0&&(c=d,i=rd(r,d))),i===1)throw a=ka,ts(r,0),li(r,c),Zt(r,qe()),a;if(i===6)li(r,c);else{if(d=r.current.alternate,!(c&30)&&!R1(d)&&(i=Cu(r,c),i===2&&(g=rn(r),g!==0&&(c=g,i=rd(r,g))),i===1))throw a=ka,ts(r,0),li(r,c),Zt(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:ns(r,Jt,Pr);break;case 3:if(li(r,c),(c&130023424)===c&&(i=ed+500-qe(),10<i)){if(Ui(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Wt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=uh(ns.bind(null,r,Jt,Pr),i);break}ns(r,Jt,Pr);break;case 4:if(li(r,c),(c&4194240)===c)break;for(i=r.eventTimes,d=-1;0<c;){var _=31-Bt(c);g=1<<_,_=i[_],_>d&&(d=_),c&=~g}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*C1(c/1960))-c,10<c){r.timeoutHandle=uh(ns.bind(null,r,Jt,Pr),c);break}ns(r,Jt,Pr);break;case 5:ns(r,Jt,Pr);break;default:throw Error(t(329))}}}return Zt(r,qe()),r.callbackNode===a?eg.bind(null,r):null}function rd(r,i){var a=xa;return r.current.memoizedState.isDehydrated&&(ts(r,i).flags|=256),r=Cu(r,i),r!==2&&(i=Jt,Jt=a,i!==null&&id(i)),r}function id(r){Jt===null?Jt=r:Jt.push.apply(Jt,r)}function R1(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!On(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function li(r,i){for(i&=~Zh,i&=~_u,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Bt(i),c=1<<a;r[a]=-1,i&=~c}}function tg(r){if(Ve&6)throw Error(t(327));fo();var i=Ui(r,0);if(!(i&1))return Zt(r,qe()),null;var a=Cu(r,i);if(r.tag!==0&&a===2){var c=rn(r);c!==0&&(i=c,a=rd(r,c))}if(a===1)throw a=ka,ts(r,0),li(r,i),Zt(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ns(r,Jt,Pr),Zt(r,qe()),null}function sd(r,i){var a=Ve;Ve|=1;try{return r(i)}finally{Ve=a,Ve===0&&(ho=qe()+500,Jl&&ti())}}function es(r){oi!==null&&oi.tag===0&&!(Ve&6)&&fo();var i=Ve;Ve|=1;var a=_n.transition,c=xe;try{if(_n.transition=null,xe=1,r)return r()}finally{xe=c,_n.transition=a,Ve=i,!(Ve&6)&&ti()}}function od(){un=co.current,Qe(co)}function ts(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,n1(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(mh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Yl();break;case 3:ao(),Qe(Qt),Qe(Ot),Ah();break;case 5:Rh(c);break;case 4:ao();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:wh(c.type._context);break;case 22:case 23:od()}a=a.return}if(St=r,ut=r=ui(r.current,null),xt=un=i,yt=0,ka=null,Zh=_u=Zi=0,Jt=xa=null,Yi!==null){for(i=0;i<Yi.length;i++)if(a=Yi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}a.pending=c}Yi=null}return r}function ng(r,i){do{var a=ut;try{if(Eh(),lu.current=du,uu){for(var c=tt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}uu=!1}if(Ji=0,It=gt=tt=null,Ia=!1,Sa=0,Jh.current=null,a===null||a.return===null){yt=1,ka=i,ut=null;break}e:{var g=r,_=a.return,R=a,N=i;if(i=xt,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=N,J=R,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Pm(_);if(se!==null){se.flags&=-257,Am(se,_,R,g,i),se.mode&1&&Rm(g,W,i),i=se,N=W;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(N),i.updateQueue=ce}else ue.add(N);break e}else{if(!(i&1)){Rm(g,W,i),ad();break e}N=Error(t(426))}}else if(Xe&&R.mode&1){var ot=Pm(_);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),Am(ot,_,R,g,i),vh(lo(N,R));break e}}g=N=lo(N,R),yt!==4&&(yt=2),xa===null?xa=[g]:xa.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var U=Sm(g,N,i);Xp(g,U);break e;case 1:R=N;var b=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(si===null||!si.has(B)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=Cm(g,R,i);Xp(g,ne);break e}}g=g.return}while(g!==null)}sg(a)}catch(he){i=he,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function rg(){var r=vu.current;return vu.current=du,r===null?du:r}function ad(){(yt===0||yt===3||yt===2)&&(yt=4),St===null||!(Zi&268435455)&&!(_u&268435455)||li(St,xt)}function Cu(r,i){var a=Ve;Ve|=2;var c=rg();(St!==r||xt!==i)&&(Pr=null,ts(r,i));do try{P1();break}catch(d){ng(r,d)}while(!0);if(Eh(),Ve=a,vu.current=c,ut!==null)throw Error(t(261));return St=null,xt=0,yt}function P1(){for(;ut!==null;)ig(ut)}function A1(){for(;ut!==null&&!Tl();)ig(ut)}function ig(r){var i=lg(r.alternate,r,un);r.memoizedProps=r.pendingProps,i===null?sg(r):ut=i,Jh.current=null}function sg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=w1(a,i),a!==null){a.flags&=32767,ut=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,ut=null;return}}else if(a=E1(a,i,un),a!==null){ut=a;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=r}while(i!==null);yt===0&&(yt=5)}function ns(r,i,a){var c=xe,d=_n.transition;try{_n.transition=null,xe=1,k1(r,i,a,c)}finally{_n.transition=d,xe=c}return null}function k1(r,i,a,c){do fo();while(oi!==null);if(Ve&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(r,g),r===St&&(ut=St=null,xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wu||(wu=!0,ug(dn,function(){return fo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=_n.transition,_n.transition=null;var _=xe;xe=1;var R=Ve;Ve|=4,Jh.current=null,I1(r,a),Qm(a,r),Q0(ah),Qr=!!oh,ah=oh=null,r.current=a,S1(a),Hc(),Ve=R,xe=_,_n.transition=g}else r.current=a;if(wu&&(wu=!1,oi=r,Tu=d),g=r.pendingLanes,g===0&&(si=null),Cl(a.stateNode),Zt(r,qe()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Eu)throw Eu=!1,r=td,td=null,r;return Tu&1&&r.tag!==0&&fo(),g=r.pendingLanes,g&1?r===nd?Na++:(Na=0,nd=r):Na=0,ti(),null}function fo(){if(oi!==null){var r=Kr(Tu),i=_n.transition,a=xe;try{if(_n.transition=null,xe=16>r?16:r,oi===null)var c=!1;else{if(r=oi,oi=null,Tu=0,Ve&6)throw Error(t(331));var d=Ve;for(Ve|=4,le=r.current;le!==null;){var g=le,_=g.child;if(le.flags&16){var R=g.deletions;if(R!==null){for(var N=0;N<R.length;N++){var W=R[N];for(le=W;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:Aa(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var X=J.sibling,se=J.return;if(Hm(J),J===W){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var ot=ce.sibling;ce.sibling=null,ce=ot}while(ce!==null)}}le=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,le=_;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Aa(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,le=U;break e}le=g.return}}var b=r.current;for(le=b;le!==null;){_=le;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,le=B;else e:for(_=b;le!==null;){if(R=le,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:yu(9,R)}}catch(he){rt(R,R.return,he)}if(R===_){le=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,le=ne;break e}le=R.return}}if(Ve=d,ti(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Fi,r)}catch{}c=!0}return c}finally{xe=a,_n.transition=i}}return!1}function og(r,i,a){i=lo(a,i),i=Sm(r,i,1),r=ri(r,i,1),i=Wt(),r!==null&&(Wr(r,1,i),Zt(r,i))}function rt(r,i,a){if(r.tag===3)og(r,r,a);else for(;i!==null;){if(i.tag===3){og(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(si===null||!si.has(c))){r=lo(a,r),r=Cm(i,r,1),i=ri(i,r,1),r=Wt(),i!==null&&(Wr(i,1,r),Zt(i,r));break}}i=i.return}}function x1(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Wt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(xt&a)===a&&(yt===4||yt===3&&(xt&130023424)===xt&&500>qe()-ed?ts(r,0):Zh|=a),Zt(r,i)}function ag(r,i){i===0&&(r.mode&1?(i=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):i=1);var a=Wt();r=Sr(r,i),r!==null&&(Wr(r,i,a),Zt(r,a))}function N1(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),ag(r,a)}function D1(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),ag(r,a)}var lg;lg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Qt.current)Xt=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return Xt=!1,_1(r,i,a);Xt=!!(r.flags&131072)}else Xt=!1,Xe&&i.flags&1048576&&zp(i,eu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;mu(r,i),r=i.pendingProps;var d=eo(i,Ot.current);oo(i,a),d=Nh(null,i,c,r,d,a);var g=Dh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yt(c)?(g=!0,Xl(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Sh(i),d.updater=fu,i.stateNode=d,d._reactInternals=i,jh(i,c,r,a),i=Bh(null,i,c,!0,g,a)):(i.tag=0,Xe&&g&&ph(i),Ht(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(mu(r,i),r=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=O1(c),r=Vn(c,r),d){case 0:i=zh(null,i,c,r,a);break e;case 1:i=Om(null,i,c,r,a);break e;case 11:i=km(null,i,c,r,a);break e;case 14:i=xm(null,i,c,Vn(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),zh(r,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Om(r,i,c,d,a);case 3:e:{if(Lm(i),r===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,d=g.element,Yp(r,i),ou(i,c,null,a);var _=i.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=lo(Error(t(423)),i),i=Vm(r,i,c,a,d);break e}else if(c!==d){d=lo(Error(t(424)),i),i=Vm(r,i,c,a,d);break e}else for(ln=Jr(i.stateNode.containerInfo.firstChild),an=i,Xe=!0,Ln=null,a=Gp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ro(),c===d){i=Rr(r,i,a);break e}Ht(r,i,c,a)}i=i.child}return i;case 5:return Zp(i),r===null&&yh(i),c=i.type,d=i.pendingProps,g=r!==null?r.memoizedProps:null,_=d.children,lh(c,d)?_=null:g!==null&&lh(c,g)&&(i.flags|=32),bm(r,i),Ht(r,i,_,a),i.child;case 6:return r===null&&yh(i),null;case 13:return Mm(r,i,a);case 4:return Ch(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=io(i,null,c,a):Ht(r,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),km(r,i,c,d,a);case 7:return Ht(r,i,i.pendingProps,a),i.child;case 8:return Ht(r,i,i.pendingProps.children,a),i.child;case 12:return Ht(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,g=i.memoizedProps,_=d.value,Ke(ru,c._currentValue),c._currentValue=_,g!==null)if(On(g.value,_)){if(g.children===d.children&&!Qt.current){i=Rr(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var R=g.dependencies;if(R!==null){_=g.child;for(var N=R.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=Cr(-1,a&-a),N.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var J=W.pending;J===null?N.next=N:(N.next=J.next,J.next=N),W.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Th(g.return,a,i),R.lanes|=a;break}N=N.next}}else if(g.tag===10)_=g.type===i.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,R=_.alternate,R!==null&&(R.lanes|=a),Th(_,a,i),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ht(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,oo(i,a),d=yn(d),c=c(d),i.flags|=1,Ht(r,i,c,a),i.child;case 14:return c=i.type,d=Vn(c,i.pendingProps),d=Vn(c.type,d),xm(r,i,c,d,a);case 15:return Nm(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),mu(r,i),i.tag=1,Yt(c)?(r=!0,Xl(i)):r=!1,oo(i,a),Tm(i,c,d),jh(i,c,d,a),Bh(null,i,c,!0,r,a);case 19:return Fm(r,i,a);case 22:return Dm(r,i,a)}throw Error(t(156,i.tag))};function ug(r,i){return bs(r,i)}function b1(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(r,i,a,c){return new b1(r,i,a,c)}function ld(r){return r=r.prototype,!(!r||!r.isReactComponent)}function O1(r){if(typeof r=="function")return ld(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===ht)return 14}return 2}function ui(r,i){var a=r.alternate;return a===null?(a=En(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ru(r,i,a,c,d,g){var _=2;if(c=r,typeof r=="function")ld(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case k:return rs(a.children,d,g,i);case I:_=8,d|=8;break;case C:return r=En(12,a,i,d|2),r.elementType=C,r.lanes=g,r;case A:return r=En(13,a,i,d),r.elementType=A,r.lanes=g,r;case Ze:return r=En(19,a,i,d),r.elementType=Ze,r.lanes=g,r;case Me:return Pu(a,d,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:_=10;break e;case D:_=9;break e;case V:_=11;break e;case ht:_=14;break e;case dt:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=En(_,a,i,d),i.elementType=r,i.type=c,i.lanes=g,i}function rs(r,i,a,c){return r=En(7,r,c,i),r.lanes=a,r}function Pu(r,i,a,c){return r=En(22,r,c,i),r.elementType=Me,r.lanes=a,r.stateNode={isHidden:!1},r}function ud(r,i,a){return r=En(6,r,null,i),r.lanes=a,r}function cd(r,i,a){return i=En(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function L1(r,i,a,c,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hr(0),this.expirationTimes=Hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function hd(r,i,a,c,d,g,_,R,N){return r=new L1(r,i,a,R,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=En(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(g),r}function V1(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function cg(r){if(!r)return ei;r=r._reactInternals;e:{if(Pn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Yt(a))return jp(r,a,i)}return i}function hg(r,i,a,c,d,g,_,R,N){return r=hd(a,c,!0,r,d,g,_,R,N),r.context=cg(null),a=r.current,c=Wt(),d=ai(a),g=Cr(c,d),g.callback=i??null,ri(a,g,d),r.current.lanes=d,Wr(r,d,c),Zt(r,c),r}function Au(r,i,a,c){var d=i.current,g=Wt(),_=ai(d);return a=cg(a),i.context===null?i.context=a:i.pendingContext=a,i=Cr(g,_),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=ri(d,i,_),r!==null&&(Fn(r,d,_,g),su(r,d,_)),_}function ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function dg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function dd(r,i){dg(r,i),(r=r.alternate)&&dg(r,i)}var fg=typeof reportError=="function"?reportError:function(r){console.error(r)};function fd(r){this._internalRoot=r}xu.prototype.render=fd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Au(r,i,null,null)},xu.prototype.unmount=fd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;es(function(){Au(null,r,null,null)}),i[Er]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var i=xl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Qn.length&&i!==0&&i<Qn[a].priority;a++);Qn.splice(a,0,r),a===0&&bl(r)}};function pd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Nu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function pg(){}function M1(r,i,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var W=ku(_);g.call(W)}}var _=hg(i,c,r,0,null,!1,!1,"",pg);return r._reactRootContainer=_,r[Er]=_.current,ma(r.nodeType===8?r.parentNode:r),es(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var W=ku(N);R.call(W)}}var N=hd(r,0,!1,null,null,!1,!1,"",pg);return r._reactRootContainer=N,r[Er]=N.current,ma(r.nodeType===8?r.parentNode:r),es(function(){Au(i,N,a,c)}),N}function Du(r,i,a,c,d){var g=a._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var R=d;d=function(){var N=ku(_);R.call(N)}}Au(i,_,r,d)}else _=M1(a,i,r,d,c);return ku(_)}Al=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=$r(i.pendingLanes);a!==0&&(qr(i,a|1),Zt(i,qe()),!(Ve&6)&&(ho=qe()+500,ti()))}break;case 13:es(function(){var c=Sr(r,1);if(c!==null){var d=Wt();Fn(c,r,1,d)}}),dd(r,1)}},Vs=function(r){if(r.tag===13){var i=Sr(r,134217728);if(i!==null){var a=Wt();Fn(i,r,134217728,a)}dd(r,134217728)}},kl=function(r){if(r.tag===13){var i=ai(r),a=Sr(r,i);if(a!==null){var c=Wt();Fn(a,r,i,c)}dd(r,i)}},xl=function(){return xe},Nl=function(r,i){var a=xe;try{return xe=r,i()}finally{xe=a}},Ps=function(r,i,a){switch(i){case"input":if(Uo(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var d=Ql(c);if(!d)throw Error(t(90));ws(c),Uo(c,d)}}}break;case"textarea":Cs(r,a);break;case"select":i=a.value,i!=null&&dr(r,!!a.multiple,i,!1)}},Oi=sd,Yo=es;var j1={usingClientEntryPoint:!1,Events:[va,Js,Ql,Kn,Qo,sd]},Da={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F1={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Zo(r),r===null?null:r.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Fi=bu.inject(F1),nn=bu}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1,en.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(i))throw Error(t(200));return V1(r,i,null,a)},en.createRoot=function(r,i){if(!pd(r))throw Error(t(299));var a=!1,c="",d=fg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=hd(r,1,!1,null,null,a,!1,c,d),r[Er]=i.current,ma(r.nodeType===8?r.parentNode:r),new fd(i)},en.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Zo(i),r=r===null?null:r.stateNode,r},en.flushSync=function(r){return es(r)},en.hydrate=function(r,i,a){if(!Nu(i))throw Error(t(200));return Du(null,r,i,!0,a)},en.hydrateRoot=function(r,i,a){if(!pd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",_=fg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=hg(i,null,r,1,a??null,d,!1,g,_),r[Er]=i.current,ma(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new xu(i)},en.render=function(r,i,a){if(!Nu(i))throw Error(t(200));return Du(null,r,i,!1,a)},en.unmountComponentAtNode=function(r){if(!Nu(r))throw Error(t(40));return r._reactRootContainer?(es(function(){Du(null,null,r,!1,function(){r._reactRootContainer=null,r[Er]=null})}),!0):!1},en.unstable_batchedUpdates=sd,en.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Nu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Du(r,i,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var Tg;function G1(){if(Tg)return yd.exports;Tg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yd.exports=K1(),yd.exports}var Ig;function Q1(){if(Ig)return Ou;Ig=1;var n=G1();return Ou.createRoot=n.createRoot,Ou.hydrateRoot=n.hydrateRoot,Ou}var Y1=Q1(),Ky={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sg=Fe.createContext&&Fe.createContext(Ky),X1=["attr","size","title"];function J1(n,e){if(n==null)return{};var t=Z1(n,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Z1(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function ec(){return ec=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ec.apply(this,arguments)}function Cg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function tc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cg(Object(t),!0).forEach(function(s){eE(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function eE(n,e,t){return e=tE(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tE(n){var e=nE(n,"string");return typeof e=="symbol"?e:e+""}function nE(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gy(n){return n&&n.map((e,t)=>Fe.createElement(e.tag,tc({key:t},e.attr),Gy(e.child)))}function $n(n){return e=>Fe.createElement(rE,ec({attr:tc({},n.attr)},e),Gy(n.child))}function rE(n){var e=t=>{var{attr:s,size:o,title:l}=n,h=J1(n,X1),f=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Fe.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:tc(tc({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),n.children)};return Sg!==void 0?Fe.createElement(Sg.Consumer,null,t=>e(t)):e(Ky)}function iE(n){return $n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}var Oa={},Rg;function sE(){if(Rg)return Oa;Rg=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.parse=h,Oa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const P=function(){};return P.prototype=Object.create(null),P})();function h(P,O){const M=new l,z=P.length;if(z<2)return M;const L=(O==null?void 0:O.decode)||E;let q=0;do{const H=P.indexOf("=",q);if(H===-1)break;const G=P.indexOf(";",q),te=G===-1?z:G;if(H>te){q=P.lastIndexOf(";",H-1)+1;continue}const de=f(P,q,H),fe=p(P,H,de),k=P.slice(de,fe);if(M[k]===void 0){let I=f(P,H+1,te),C=p(P,te,I);const x=L(P.slice(I,C));M[k]=x}q=te+1}while(q<z);return M}function f(P,O,M){do{const z=P.charCodeAt(O);if(z!==32&&z!==9)return O}while(++O<M);return M}function p(P,O,M){for(;O>M;){const z=P.charCodeAt(--O);if(z!==32&&z!==9)return O+1}return M}function y(P,O,M){const z=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(P))throw new TypeError(`argument name is invalid: ${P}`);const L=z(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let q=P+"="+L;if(!M)return q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);q+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);q+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);q+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(q+="; HttpOnly"),M.secure&&(q+="; Secure"),M.partitioned&&(q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return q}function E(P){if(P.indexOf("%")===-1)return P;try{return decodeURIComponent(P)}catch{return P}}function S(P){return o.call(P)==="[object Date]"}return Oa}sE();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pg="popstate";function oE(n={}){function e(o,l){let{pathname:h="/",search:f="",hash:p=""}=ps(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ld("",{pathname:h,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:qa(l))}function s(o,l){Sn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return lE(e,t,s,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aE(){return Math.random().toString(36).substring(2,10)}function Ag(n,e){return{usr:n.state,key:n.key,idx:e}}function Ld(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ps(e):e,state:t,key:e&&e.key||s||aE()}}function qa({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ps(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function lE(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function S(){f="POP";let L=E(),q=L==null?null:L-y;y=L,p&&p({action:f,location:z.location,delta:q})}function P(L,q){f="PUSH";let H=Ld(z.location,L,q);t(H,L),y=E()+1;let G=Ag(H,y),te=z.createHref(H);try{h.pushState(G,"",te)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(te)}l&&p&&p({action:f,location:z.location,delta:1})}function O(L,q){f="REPLACE";let H=Ld(z.location,L,q);t(H,L),y=E();let G=Ag(H,y),te=z.createHref(H);h.replaceState(G,"",te),l&&p&&p({action:f,location:z.location,delta:0})}function M(L){let q=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof L=="string"?L:qa(L);return H=H.replace(/ $/,"%20"),Je(q,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,q)}let z={get action(){return f},get location(){return n(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Pg,S),p=L,()=>{o.removeEventListener(Pg,S),p=null}},createHref(L){return e(o,L)},createURL:M,encodeLocation(L){let q=M(L);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:P,replace:O,go(L){return h.go(L)}};return z}function Qy(n,e,t="/"){return uE(n,e,t,!1)}function uE(n,e,t,s){let o=typeof e=="string"?ps(e):e,l=wi(o.pathname||"/",t);if(l==null)return null;let h=Yy(n);cE(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=wE(l);f=_E(h[p],y,s)}return f}function Yy(n,e=[],t=[],s=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Nr([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(Je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Yy(l.children,e,E,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:yE(y,l.index),routesMeta:E})};return n.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of Xy(l.path))o(l,h,p)}),e}function Xy(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Xy(s.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function cE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var hE=/^:[\w-]+$/,dE=3,fE=2,pE=1,mE=10,gE=-2,kg=n=>n==="*";function yE(n,e){let t=n.split("/"),s=t.length;return t.some(kg)&&(s+=gE),e&&(s+=fE),t.filter(o=>!kg(o)).reduce((o,l)=>o+(hE.test(l)?dE:l===""?pE:mE),s)}function vE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function _E(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],y=f===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",S=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),P=p.route;if(!S&&y&&t&&!s[s.length-1].route.index&&(S=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Nr([l,S.pathname]),pathnameBase:CE(Nr([l,S.pathnameBase])),route:P}),S.pathnameBase!=="/"&&(l=Nr([l,S.pathnameBase]))}return h}function nc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=EE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},P)=>{if(E==="*"){let M=f[P]||"";h=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const O=f[P];return S&&!O?y[E]=void 0:y[E]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function EE(n,e=!1,t=!0){Sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function TE(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?ps(n):n;return{pathname:t?t.startsWith("/")?t:IE(t,e):e,search:RE(s),hash:PE(o)}}function IE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ed(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ff(n){let e=SE(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function pf(n,e,t,s=!1){let o;typeof n=="string"?o=ps(n):(o={...n},Je(!o.pathname||!o.pathname.includes("?"),Ed("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Ed("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Ed("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let P=h.split("/");for(;P[0]==="..";)P.shift(),S-=1;o.pathname=P.join("/")}f=S>=0?e[S]:"/"}let p=TE(o,f),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Nr=n=>n.join("/").replace(/\/\/+/g,"/"),CE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jy=["POST","PUT","PATCH","DELETE"];new Set(Jy);var kE=["GET",...Jy];new Set(kE);var No=$.createContext(null);No.displayName="DataRouter";var wc=$.createContext(null);wc.displayName="DataRouterState";var Zy=$.createContext({isTransitioning:!1});Zy.displayName="ViewTransition";var xE=$.createContext(new Map);xE.displayName="Fetchers";var NE=$.createContext(null);NE.displayName="Await";var Hn=$.createContext(null);Hn.displayName="Navigation";var sl=$.createContext(null);sl.displayName="Location";var Wn=$.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var mf=$.createContext(null);mf.displayName="RouteError";function DE(n,{relative:e}={}){Je(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(Hn),{hash:o,pathname:l,search:h}=ol(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Nr([t,l])),s.createHref({pathname:f,search:h,hash:o})}function Do(){return $.useContext(sl)!=null}function Pi(){return Je(Do(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(sl).location}var ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tv(n){$.useContext(Hn).static||$.useLayoutEffect(n)}function nv(){let{isDataRoute:n}=$.useContext(Wn);return n?qE():bE()}function bE(){Je(Do(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(No),{basename:e,navigator:t}=$.useContext(Hn),{matches:s}=$.useContext(Wn),{pathname:o}=Pi(),l=JSON.stringify(ff(s)),h=$.useRef(!1);return tv(()=>{h.current=!0}),$.useCallback((p,y={})=>{if(Sn(h.current,ev),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=pf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Nr([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,l,o,n])}$.createContext(null);function OE(){let{matches:n}=$.useContext(Wn),e=n[n.length-1];return e?e.params:{}}function ol(n,{relative:e}={}){let{matches:t}=$.useContext(Wn),{pathname:s}=Pi(),o=JSON.stringify(ff(t));return $.useMemo(()=>pf(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function LE(n,e){return rv(n,e)}function rv(n,e,t,s){var q;Je(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Hn),{matches:l}=$.useContext(Wn),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let H=E&&E.path||"";iv(p,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Pi(),P;if(e){let H=typeof e=="string"?ps(e):e;Je(y==="/"||((q=H.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),P=H}else P=S;let O=P.pathname||"/",M=O;if(y!=="/"){let H=y.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let z=Qy(n,{pathname:M});Sn(E||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Sn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=UE(z&&z.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Nr([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Nr([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,s);return e&&L?$.createElement(sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},L):L}function VE(){let n=WE(),e=AE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,h)}var ME=$.createElement(VE,null),jE=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Wn.Provider,{value:this.props.routeContext},$.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FE({routeContext:n,match:e,children:t}){let s=$.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Wn.Provider,{value:n},t)}function UE(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:E,errors:S}=t,P=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||P){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,P=!1,O=null,M=null;t&&(S=l&&y.route.id?l[y.route.id]:void 0,O=y.route.errorElement||ME,h&&(f<0&&E===0?(iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,M=null):f===E&&(P=!0,M=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),L=()=>{let q;return S?q=O:P?q=M:y.route.Component?q=$.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,$.createElement(FE,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?$.createElement(jE,{location:t.location,revalidation:t.revalidation,component:O,error:S,children:L(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):L()},null)}function gf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zE(n){let e=$.useContext(No);return Je(e,gf(n)),e}function BE(n){let e=$.useContext(wc);return Je(e,gf(n)),e}function $E(n){let e=$.useContext(Wn);return Je(e,gf(n)),e}function yf(n){let e=$E(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function HE(){return yf("useRouteId")}function WE(){var s;let n=$.useContext(mf),e=BE("useRouteError"),t=yf("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function qE(){let{router:n}=zE("useNavigate"),e=yf("useNavigate"),t=$.useRef(!1);return tv(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{Sn(t.current,ev),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var xg={};function iv(n,e,t){!e&&!xg[n]&&(xg[n]=!0,Sn(!1,t))}$.memo(KE);function KE({routes:n,future:e,state:t}){return rv(n,void 0,t,e)}function GE({to:n,replace:e,state:t,relative:s}){Je(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(Hn);Sn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(Wn),{pathname:h}=Pi(),f=nv(),p=pf(n,ff(l),h,s==="path"),y=JSON.stringify(p);return $.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:s})},[f,y,s,e,t]),null}function wn(n){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QE({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Je(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ps(t));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:P="default"}=t,O=$.useMemo(()=>{let M=wi(p,h);return M==null?null:{location:{pathname:M,search:y,hash:E,state:S,key:P},navigationType:s}},[h,p,y,E,S,P,s]);return Sn(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:$.createElement(Hn.Provider,{value:f},$.createElement(sl.Provider,{children:e,value:O}))}function YE({children:n,location:e}){return LE(Vd(n),e)}function Vd(n,e=[]){let t=[];return $.Children.forEach(n,(s,o)=>{if(!$.isValidElement(s))return;let l=[...e,o];if(s.type===$.Fragment){t.push.apply(t,Vd(s.props.children,l));return}Je(s.type===wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Vd(s.props.children,l)),t.push(h)}),t}var $u="get",Hu="application/x-www-form-urlencoded";function Tc(n){return n!=null&&typeof n.tagName=="string"}function XE(n){return Tc(n)&&n.tagName.toLowerCase()==="button"}function JE(n){return Tc(n)&&n.tagName.toLowerCase()==="form"}function ZE(n){return Tc(n)&&n.tagName.toLowerCase()==="input"}function ew(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tw(n,e){return n.button===0&&(!e||e==="_self")&&!ew(n)}var Lu=null;function nw(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var rw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(n){return n!=null&&!rw.has(n)?(Sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):n}function iw(n,e){let t,s,o,l,h;if(JE(n)){let f=n.getAttribute("action");s=f?wi(f,e):null,t=n.getAttribute("method")||$u,o=wd(n.getAttribute("enctype"))||Hu,l=new FormData(n)}else if(XE(n)||ZE(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(s=p?wi(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||$u,o=wd(n.getAttribute("formenctype"))||wd(f.getAttribute("enctype"))||Hu,l=new FormData(f,n),!nw()){let{name:y,type:E,value:S}=n;if(E==="image"){let P=y?`${y}.`:"";l.append(`${P}x`,"0"),l.append(`${P}y`,"0")}else y&&l.append(y,S)}}else{if(Tc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$u,s=null,o=Hu,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function vf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sw(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ow(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aw(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await sw(l,t);return h.links?h.links():[]}return[]}));return hw(s.flat(1).filter(ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ng(n,e,t,s,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var E;return t[y].pathname!==p.pathname||((E=t[y].route.path)==null?void 0:E.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let P=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function lw(n,e){return uw(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function uw(n){return[...new Set(n)]}function cw(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function hw(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(cw(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function dw(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function fw(){let n=$.useContext(No);return vf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pw(){let n=$.useContext(wc);return vf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _f=$.createContext(void 0);_f.displayName="FrameworkContext";function sv(){let n=$.useContext(_f);return vf(n,"You must render this element inside a <HydratedRouter> element"),n}function mw(n,e){let t=$.useContext(_f),[s,o]=$.useState(!1),[l,h]=$.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,P=$.useRef(null);$.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=q=>{q.forEach(H=>{h(H.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return P.current&&L.observe(P.current),()=>{L.disconnect()}}},[n]),$.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,P,{}]:[l,P,{onFocus:La(f,O),onBlur:La(p,M),onMouseEnter:La(y,O),onMouseLeave:La(E,M),onTouchStart:La(S,O)}]:[!1,P,{}]}function La(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gw({page:n,...e}){let{router:t}=fw(),s=$.useMemo(()=>Qy(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?$.createElement(vw,{page:n,matches:s,...e}):null}function yw(n){let{manifest:e,routeModules:t}=sv(),[s,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return aw(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),s}function vw({page:n,matches:e,...t}){let s=Pi(),{manifest:o,routeModules:l}=sv(),{loaderData:h,matches:f}=pw(),p=$.useMemo(()=>Ng(n,e,f,o,s,"data"),[n,e,f,o,s]),y=$.useMemo(()=>Ng(n,e,f,o,s,"assets"),[n,e,f,o,s]),E=$.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let O=new Set,M=!1;if(e.forEach(L=>{var H;let q=o.routes[L.route.id];!q||!q.hasLoader||(!p.some(G=>G.route.id===L.route.id)&&L.route.id in h&&((H=l[L.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?M=!0:O.add(L.route.id))}),O.size===0)return[];let z=dw(n);return M&&O.size>0&&z.searchParams.set("_routes",e.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[z.pathname+z.search]},[h,s,o,p,e,n,l]),S=$.useMemo(()=>lw(y,o),[y,o]),P=yw(y);return $.createElement($.Fragment,null,E.map(O=>$.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>$.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),P.map(({key:O,link:M})=>$.createElement("link",{key:O,...M})))}function _w(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ov&&(window.__reactRouterVersion="7.1.1")}catch{}function Ew({basename:n,children:e,window:t}){let s=$.useRef();s.current==null&&(s.current=oE({window:t,v5Compat:!0}));let o=s.current,[l,h]=$.useState({action:o.action,location:o.location}),f=$.useCallback(p=>{$.startTransition(()=>h(p))},[h]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.createElement(QE,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:E,viewTransition:S,...P},O){let{basename:M}=$.useContext(Hn),z=typeof y=="string"&&av.test(y),L,q=!1;if(typeof y=="string"&&z&&(L=y,ov))try{let C=new URL(window.location.href),x=y.startsWith("//")?new URL(C.protocol+y):new URL(y),D=wi(x.pathname,M);x.origin===C.origin&&D!=null?y=D+x.search+x.hash:q=!0}catch{Sn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=DE(y,{relative:o}),[G,te,de]=mw(s,P),fe=Sw(y,{replace:h,state:f,target:p,preventScrollReset:E,relative:o,viewTransition:S});function k(C){e&&e(C),C.defaultPrevented||fe(C)}let I=$.createElement("a",{...P,...de,href:L||H,onClick:q||l?e:k,ref:_w(O,te),target:p,"data-discover":!z&&t==="render"?"true":void 0});return G&&!z?$.createElement($.Fragment,null,I,$.createElement(gw,{page:H})):I});cn.displayName="Link";var ww=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},E){let S=ol(h,{relative:y.relative}),P=Pi(),O=$.useContext(wc),{navigator:M,basename:z}=$.useContext(Hn),L=O!=null&&kw(S)&&f===!0,q=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,H=P.pathname,G=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(H=H.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&z&&(G=wi(G,z)||G);const te=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let de=H===q||!o&&H.startsWith(q)&&H.charAt(te)==="/",fe=G!=null&&(G===q||!o&&G.startsWith(q)&&G.charAt(q.length)==="/"),k={isActive:de,isPending:fe,isTransitioning:L},I=de?e:void 0,C;typeof s=="function"?C=s(k):C=[s,de?"active":null,fe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return $.createElement(cn,{...y,"aria-current":I,className:C,ref:E,style:x,to:h,viewTransition:f},typeof p=="function"?p(k):p)});ww.displayName="NavLink";var Tw=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=$u,action:f,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...P},O)=>{let M=Pw(),z=Aw(f,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&av.test(f),H=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,de=(te==null?void 0:te.getAttribute("formmethod"))||h;M(te||G.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:l,relative:y,preventScrollReset:E,viewTransition:S})};return $.createElement("form",{ref:O,method:L,action:z,onSubmit:s?p:H,...P,"data-discover":!q&&n==="render"?"true":void 0})});Tw.displayName="Form";function Iw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lv(n){let e=$.useContext(No);return Je(e,Iw(n)),e}function Sw(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=nv(),p=Pi(),y=ol(n,{relative:l});return $.useCallback(E=>{if(tw(E,e)){E.preventDefault();let S=t!==void 0?t:qa(p)===qa(y);f(n,{replace:S,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,s,e,n,o,l,h])}var Cw=0,Rw=()=>`__${String(++Cw)}__`;function Pw(){let{router:n}=lv("useSubmit"),{basename:e}=$.useContext(Hn),t=HE();return $.useCallback(async(s,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=iw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Rw();await n.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Aw(n,{relative:e}={}){let{basename:t}=$.useContext(Hn),s=$.useContext(Wn);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ol(n||".",{relative:e})},h=Pi();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(E=>E==="")){f.delete("index"),p.filter(S=>S).forEach(S=>f.append("index",S));let E=f.toString();l.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Nr([t,l.pathname])),qa(l)}function kw(n,e={}){let t=$.useContext(Zy);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=lv("useViewTransitionState"),o=ol(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=wi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=wi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return nc(o.pathname,h)!=null||nc(o.pathname,l)!=null}new TextEncoder;const uv="/Ecommerce-Website2/assets/logo2-D3TDPlT3.png",xw="/Ecommerce-Website2/assets/kid1-DuvoOsYE.webp",cv="/Ecommerce-Website2/assets/kid2-DgO0nRkA.jpeg",hv="/Ecommerce-Website2/assets/kid3-CPat7c4w.webp",Nw="/Ecommerce-Website2/assets/kid4-ZbQCFEHa.jpeg",Dw="/Ecommerce-Website2/assets/kid5-6B5eBSA2.avif",bw="/Ecommerce-Website2/assets/kid6-C19Koh6a.webp",Ow="/Ecommerce-Website2/assets/kid7-Dsqjo7dk.jpeg",Lw="/Ecommerce-Website2/assets/kid8-StpK4i-N.jpeg",Vw="/Ecommerce-Website2/assets/men1-C56ETcn6.jpeg",dv="/Ecommerce-Website2/assets/men2-CrShKdGI.jpeg",Mw="/Ecommerce-Website2/assets/men3-CbGUyBsq.jpeg",jw="/Ecommerce-Website2/assets/men4-Ka-FDkBa.jpeg",fv="/Ecommerce-Website2/assets/men5-J0LNLnuI.jpeg",Fw="/Ecommerce-Website2/assets/men6-OiZtYexQ.jpeg",Uw="/Ecommerce-Website2/assets/men7-CA3ejPnl.jpeg",zw="/Ecommerce-Website2/assets/men8-YPOXGwcV.jpeg",Ef="/Ecommerce-Website2/assets/women1-BJnVfmym.avif",wf="/Ecommerce-Website2/assets/women2-D1O0vmLb.webp",pv="/Ecommerce-Website2/assets/women3-OYXbNSEE.jpeg",mv="/Ecommerce-Website2/assets/women4-CgeugqLy.webp",Bw="/Ecommerce-Website2/assets/women5-DdSpGVk3.webp",gv="/Ecommerce-Website2/assets/women6-BcnupP80.webp",$w="/Ecommerce-Website2/assets/women7-TlRdBjnF.jpg",yv="/Ecommerce-Website2/assets/women8-DW2waZjg.webp";let Md=[{id:1,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:Ef,new_price:50,old_price:80.5},{id:2,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:wf,new_price:50,old_price:80.5},{id:3,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:cv,new_price:50,old_price:80.5},{id:4,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:hv,new_price:50,old_price:80.5},{id:5,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:dv,new_price:50,old_price:80.5},{id:6,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:gv,new_price:50,old_price:80.5},{id:7,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:fv,new_price:50,old_price:80.5},{id:8,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:yv,new_price:50,old_price:80.5},{id:9,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:xw,new_price:50,old_price:80.5},{id:10,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:pv,new_price:50,old_price:80.5},{id:11,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:mv,new_price:50,old_price:80.5},{id:12,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:Nw,new_price:50,old_price:80.5},{id:13,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:Dw,new_price:50,old_price:80.5},{id:14,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:bw,new_price:50,old_price:80.5},{id:15,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:Ow,new_price:50,old_price:80.5},{id:16,name:"Boys Orange Colourblocked Hooded Sweatshirt",category:"kid",image:Lw,new_price:50,old_price:80.5},{id:17,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:Vw,new_price:50,old_price:80.5},{id:18,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:Bw,new_price:50,old_price:80.5},{id:19,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:Mw,new_price:50,old_price:80.5},{id:20,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:jw,new_price:50,old_price:80.5},{id:21,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"women",image:$w,new_price:50,old_price:80.5},{id:22,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:Fw,new_price:50,old_price:80.5},{id:23,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:Uw,new_price:50,old_price:80.5},{id:24,name:"Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",category:"men",image:zw,new_price:50,old_price:80.5}];const ms=$.createContext(null),Hw=()=>{let n={};for(let e=0;e<Md.length+1;e++)n[e]=0;return n},Ww=n=>{const[e,t]=$.useState(Hw()),f={getTotalCartItems:()=>{let p=0;for(const y in e)e[y]>0&&(p+=e[y]);return p},getTotalCartAmount:()=>{let p=0;for(const y in e)if(e[y]>0){let E=Md.find(S=>S.id===Number(y));p+=E.new_price*e[y]}return p},allProduct:Md,cartItems:e,addToCart:p=>{t(y=>({...y,[p]:y[p]+1})),console.log(e)},removeFromCart:p=>{t(y=>({...y,[p]:y[p]-1}))}};return w.jsx(ms.Provider,{value:f,children:n.children})};var Dg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qw=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,E=l>>2,S=(l&3)<<4|f>>4;let P=(f&15)<<2|y>>6,O=y&63;p||(O=64,h||(P=64)),s.push(t[E],t[S],t[P],t[O])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new Kw;const P=l<<2|f>>4;if(s.push(P),y!==64){const O=f<<4&240|y>>2;if(s.push(O),S!==64){const M=y<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(n){const e=vv(n);return _v.encodeByteArray(e,!0)},rc=function(n){return Gw(n).replace(/\./g,"")},Ev=function(n){try{return _v.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=()=>Qw().__FIREBASE_DEFAULTS__,Xw=()=>{if(typeof process>"u"||typeof Dg>"u")return;const n=Dg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ev(n[1]);return e&&JSON.parse(e)},Ic=()=>{try{return Yw()||Xw()||Jw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wv=n=>{var e,t;return(t=(e=Ic())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Zw=n=>{const e=wv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Tv=()=>{var n;return(n=Ic())===null||n===void 0?void 0:n.config},Iv=n=>{var e;return(e=Ic())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rc(JSON.stringify(t)),rc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function rT(){var n;const e=(n=Ic())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aT(){const n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class Fr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=hT,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?dT(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Fr(o,f,s)}}function dT(n,e){return n.replace(fT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fT=/\{\$([^}]+)}/g;function pT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ic(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],h=e[o];if(bg(l)&&bg(h)){if(!ic(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function bg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Va(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ma(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mT(n,e){const t=new gT(n,e);return t.subscribe.bind(t)}class gT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");yT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n){return n&&n._delegate?n._delegate:n}class ls{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new eT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(n){return n===is?void 0:n}function ET(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ae||(Ae={}));const TT={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},IT=Ae.INFO,ST={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},CT=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=ST[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=IT,this._logHandler=CT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const RT=(n,e)=>e.some(t=>n instanceof t);let Og,Lg;function PT(){return Og||(Og=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AT(){return Lg||(Lg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,jd=new WeakMap,Cv=new WeakMap,Id=new WeakMap,If=new WeakMap;function kT(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(yi(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Sv.set(t,n)}).catch(()=>{}),If.set(e,n),e}function xT(n){if(jd.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});jd.set(n,e)}let Fd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NT(n){Fd=n(Fd)}function DT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Sd(this),e,...t);return Cv.set(s,e.sort?e.sort():[e]),yi(s)}:AT().includes(n)?function(...e){return n.apply(Sd(this),e),yi(Sv.get(this))}:function(...e){return yi(n.apply(Sd(this),e))}}function bT(n){return typeof n=="function"?DT(n):(n instanceof IDBTransaction&&xT(n),RT(n,PT())?new Proxy(n,Fd):n)}function yi(n){if(n instanceof IDBRequest)return kT(n);if(Id.has(n))return Id.get(n);const e=bT(n);return e!==n&&(Id.set(n,e),If.set(e,n)),e}const Sd=n=>If.get(n);function OT(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=yi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(yi(h.result),p.oldVersion,p.newVersion,yi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const LT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],Cd=new Map;function Vg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cd.get(e))return Cd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=VT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LT.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Cd.set(e,l),l}NT(n=>({...n,get:(e,t,s)=>Vg(e,t)||n.get(e,t,s),has:(e,t)=>!!Vg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function jT(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",Mg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Tf("@firebase/app"),FT="@firebase/app-compat",UT="@firebase/analytics-compat",zT="@firebase/analytics",BT="@firebase/app-check-compat",$T="@firebase/app-check",HT="@firebase/auth",WT="@firebase/auth-compat",qT="@firebase/database",KT="@firebase/data-connect",GT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",XT="@firebase/installations",JT="@firebase/installations-compat",ZT="@firebase/messaging",eI="@firebase/messaging-compat",tI="@firebase/performance",nI="@firebase/performance-compat",rI="@firebase/remote-config",iI="@firebase/remote-config-compat",sI="@firebase/storage",oI="@firebase/storage-compat",aI="@firebase/firestore",lI="@firebase/vertexai",uI="@firebase/firestore-compat",cI="firebase",hI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",dI={[Ud]:"fire-core",[FT]:"fire-core-compat",[zT]:"fire-analytics",[UT]:"fire-analytics-compat",[$T]:"fire-app-check",[BT]:"fire-app-check-compat",[HT]:"fire-auth",[WT]:"fire-auth-compat",[qT]:"fire-rtdb",[KT]:"fire-data-connect",[GT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[XT]:"fire-iid",[JT]:"fire-iid-compat",[ZT]:"fire-fcm",[eI]:"fire-fcm-compat",[tI]:"fire-perf",[nI]:"fire-perf-compat",[rI]:"fire-rc",[iI]:"fire-rc-compat",[sI]:"fire-gcs",[oI]:"fire-gcs-compat",[aI]:"fire-fst",[uI]:"fire-fst-compat",[lI]:"fire-vertex","fire-js":"fire-js",[cI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,fI=new Map,Bd=new Map;function jg(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Io(n){const e=n.name;if(Bd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,n);for(const t of sc.values())jg(t,n);for(const t of fI.values())jg(t,n);return!0}function Sf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new al("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=hI;function Rv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(t||(t=Tv()),!t)throw vi.create("no-options");const l=sc.get(o);if(l){if(ic(t,l.options)&&ic(s,l.config))return l;throw vi.create("duplicate-app",{appName:o})}const h=new wT(o);for(const p of Bd.values())h.addComponent(p);const f=new mI(t,s,h);return sc.set(o,f),f}function Pv(n=zd){const e=sc.get(n);if(!e&&n===zd&&Tv())return Rv();if(!e)throw vi.create("no-app",{appName:n});return e}function _i(n,e,t){var s;let o=(s=dI[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}Io(new ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebase-heartbeat-database",yI=1,Ka="firebase-heartbeat-store";let Rd=null;function Av(){return Rd||(Rd=OT(gI,yI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ka)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),Rd}async function vI(n){try{const t=(await Av()).transaction(Ka),s=await t.objectStore(Ka).get(kv(n));return await t.done,s}catch(e){if(e instanceof Fr)Or.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(t.message)}}}async function Fg(n,e){try{const s=(await Av()).transaction(Ka,"readwrite");await s.objectStore(Ka).put(e,kv(n)),await s.done}catch(t){if(t instanceof Fr)Or.warn(t.message);else{const s=vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Or.warn(s.message)}}}function kv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1024,EI=30*24*60*60*1e3;class wI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new II(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ug();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=EI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ug(),{heartbeatsToSend:s,unsentEntries:o}=TI(this._heartbeatsCache.heartbeats),l=rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Or.warn(t),""}}}function Ug(){return new Date().toISOString().substring(0,10)}function TI(n,e=_I){const t=[];let s=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),zg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),zg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class II{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function zg(n){return rc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){Io(new ls("platform-logger",e=>new MT(e),"PRIVATE")),Io(new ls("heartbeat",e=>new wI(e),"PRIVATE")),_i(Ud,Mg,n),_i(Ud,Mg,"esm2017"),_i("fire-js","")}SI("");var CI="firebase",RI="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(CI,RI,"app");function Cf(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function xv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PI=xv,Nv=new al("auth","Firebase",xv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Tf("@firebase/auth");function AI(n,...e){oc.logLevel<=Ae.WARN&&oc.warn(`Auth (${bo}): ${n}`,...e)}function Wu(n,...e){oc.logLevel<=Ae.ERROR&&oc.error(`Auth (${bo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(n,...e){throw Rf(n,...e)}function ir(n,...e){return Rf(n,...e)}function Dv(n,e,t){const s=Object.assign(Object.assign({},PI()),{[e]:t});return new al("auth","Firebase",s).create(e,{appName:n.name})}function Dr(n){return Dv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Nv.create(n,...e)}function Ee(n,e,...t){if(!n)throw Rf(e,...t)}function Ar(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wu(e),new Error(e)}function Lr(n,e){n||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kI(){return Bg()==="http:"||Bg()==="https:"}function Bg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kI()||sT()||"connection"in navigator)?navigator.onLine:!0}function NI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lr(t>e,"Short delay should be less than long delay!"),this.isMobile=nT()||oT()}get(){return xI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n,e){Lr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new ul(3e4,6e4);function Ai(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ki(n,e,t,s,o={}){return Ov(n,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=ll(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return iT()||(y.referrerPolicy="no-referrer"),bv.fetch()(Lv(n,n.config.apiHost,t,f),y)})}async function Ov(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},DI),e);try{const o=new LI(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Vu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Vu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Vu(n,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Dv(n,E,y);Bn(n,E)}}catch(o){if(o instanceof Fr)throw o;Bn(n,"network-request-failed",{message:String(o)})}}async function cl(n,e,t,s,o={}){const l=await ki(n,e,t,s,o);return"mfaPendingCredential"in l&&Bn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Lv(n,e,t,s){const o=`${e}${t}?${s}`;return n.config.emulator?Pf(n.config,o):`${n.config.apiScheme}://${o}`}function OI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ir(this.auth,"network-request-failed")),bI.get())})}}function Vu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ir(n,e,s);return o.customData._tokenResponse=t,o}function $g(n){return n!==void 0&&n.enterprise!==void 0}class VI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MI(n,e){return ki(n,"GET","/v2/recaptchaConfig",Ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(n,e){return ki(n,"POST","/v1/accounts:delete",e)}async function Vv(n,e){return ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FI(n,e=!1){const t=zn(n),s=await t.getIdToken(e),o=Af(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:za(Pd(o.auth_time)),issuedAtTime:za(Pd(o.iat)),expirationTime:za(Pd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pd(n){return Number(n)*1e3}function Af(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ev(t);return o?JSON.parse(o):(Wu("Failed to decode base64 JWT payload"),null)}catch(o){return Wu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Hg(n){const e=Af(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Fr&&UI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function UI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Ga(n,Vv(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Mv(l.providerUserInfo):[],f=$I(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),E=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function BI(n){const e=zn(n);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $I(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Mv(n){return n.map(e=>{var{providerId:t}=e,s=Cf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e){const t=await Ov(n,{},async()=>{const s=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=Lv(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",bv.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WI(n,e){return ki(n,"POST","/v2/accounts:revokeToken",Ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Hg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await HI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new _o;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FI(this,e)}reload(){return BI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ac(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Ga(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,p,y,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,P=(o=t.email)!==null&&o!==void 0?o:void 0,O=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(f=t.tenantId)!==null&&f!==void 0?f:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,H=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:te,isAnonymous:de,providerData:fe,stsTokenManager:k}=t;Ee(G&&k,e,"internal-error");const I=_o.fromJSON(this.name,k);Ee(typeof G=="string",e,"internal-error"),hi(S,e.name),hi(P,e.name),Ee(typeof te=="boolean",e,"internal-error"),Ee(typeof de=="boolean",e,"internal-error"),hi(O,e.name),hi(M,e.name),hi(z,e.name),hi(L,e.name),hi(q,e.name),hi(H,e.name);const C=new kr({uid:G,auth:e,email:P,emailVerified:te,displayName:S,isAnonymous:de,photoURL:M,phoneNumber:O,tenantId:z,stsTokenManager:I,createdAt:q,lastLoginAt:H});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(x=>Object.assign({},x))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new _o;o.updateFromServerResponse(t);const l=new kr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ac(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Mv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new _o;f.updateFromIdToken(s);const p=new kr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Hd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map;function xr(n){Lr(n instanceof Function,"Expected a class definition");let e=Wg.get(n);return e?(Lr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wg.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jv.type="NONE";const qg=jv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n,e,t){return`firebase:${n}:${e}:${t}`}class Eo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=qu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Eo(xr(qg),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||xr(qg);const h=qu(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const E=await y._get(h);if(E){const S=kr._fromJSON(e,E);y!==l&&(f=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Eo(l,e,s):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Eo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hv(e))return"Blackberry";if(Wv(e))return"Webos";if(Uv(e))return"Safari";if((e.includes("chrome/")||zv(e))&&!e.includes("edge/"))return"Chrome";if($v(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Fv(n=zt()){return/firefox\//i.test(n)}function Uv(n=zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zv(n=zt()){return/crios\//i.test(n)}function Bv(n=zt()){return/iemobile/i.test(n)}function $v(n=zt()){return/android/i.test(n)}function Hv(n=zt()){return/blackberry/i.test(n)}function Wv(n=zt()){return/webos/i.test(n)}function kf(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qI(n=zt()){var e;return kf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KI(){return aT()&&document.documentMode===10}function qv(n=zt()){return kf(n)||$v(n)||Wv(n)||Hv(n)||/windows phone/i.test(n)||Bv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n,e=[]){let t;switch(n){case"Browser":t=Kg(zt());break;case"Worker":t=`${Kg(zt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e={}){return ki(n,"GET","/v2/passwordPolicy",Ai(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=6;class XI{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:YI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gg(this),this.idTokenSubscription=new Gg(this),this.beforeStateQueue=new GI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vv(this,{idToken:e}),s=await kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Dr(this));const t=e?zn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),t=new XI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await WI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gs(n){return zn(n)}class Gg{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(n){Sc=n}function Gv(n){return Sc.loadJS(n)}function eS(){return Sc.recaptchaEnterpriseScript}function tS(){return Sc.gapiScript}function nS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rS{constructor(){this.enterprise=new iS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sS="recaptcha-enterprise",Qv="NO_RECAPTCHA";class oS{constructor(e){this.type=sS,this.auth=gs(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{MI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new VI(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;$g(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(Qv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rS().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&$g(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eS();p.length!==0&&(p+=f),Gv(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function Qg(n,e,t,s=!1,o=!1){const l=new oS(n);let h;if(o)h=Qv;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Wd(n,e,t,s,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Qg(n,e,t,t==="getOobCode");return s(n,h)}else return s(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Qg(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,e){const t=Sf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ic(l,e??{}))return o;Bn(o,"already-initialized")}return t.initialize({options:e})}function lS(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function uS(n,e,t){const s=gs(n);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Yv(e),{host:h,port:f}=cS(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),hS()}function Yv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cS(n){const e=Yv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Yg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Yg(h)}}}function Yg(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function dS(n,e){return ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(n,e){return cl(n,"POST","/v1/accounts:signInWithPassword",Ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(n,e){return cl(n,"POST","/v1/accounts:signInWithEmailLink",Ai(n,e))}async function mS(n,e){return cl(n,"POST","/v1/accounts:signInWithEmailLink",Ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends xf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Qa(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Qa(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,t,"signInWithPassword",fS);case"emailLink":return pS(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,s,"signUpPassword",dS);case"emailLink":return mS(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n,e){return cl(n,"POST","/v1/accounts:signInWithIdp",Ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="http://localhost";class us extends xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Cf(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new us(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:gS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ll(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vS(n){const e=Va(Ma(n)).link,t=e?Va(Ma(e)).deep_link_id:null,s=Va(Ma(n)).deep_link_id;return(s?Va(Ma(s)).link:null)||s||t||e||n}class Nf{constructor(e){var t,s,o,l,h,f;const p=Va(Ma(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=yS((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&E&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=vS(e);try{return new Nf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,t){return Qa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Nf.parseLink(t);return Ee(s,"argument-error"),Qa._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends hl{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return us._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fi.credential(t,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends hl{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends hl{constructor(){super("twitter.com")}static credential(e,t){return us._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return mi.credential(t,s)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n,e){return cl(n,"POST","/v1/accounts:signUp",Ai(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await kr._fromIdTokenResponse(e,s,o),h=Xg(s);return new cs({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Xg(s);return new cs({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Xg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Fr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new lc(e,t,s,o)}}function Jv(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(n,l,e,s):l})}async function ES(n,e,t=!1){const s=await Ga(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cs._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(n,e,t=!1){const{auth:s}=n;if(rr(s.app))return Promise.reject(Dr(s));const o="reauthenticate";try{const l=await Ga(n,Jv(s,o,e,n),t);Ee(l.idToken,s,"internal-error");const h=Af(l.idToken);Ee(h,s,"internal-error");const{sub:f}=h;return Ee(n.uid===f,s,"user-mismatch"),cs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(n,e,t=!1){if(rr(n.app))return Promise.reject(Dr(n));const s="signIn",o=await Jv(n,s,e),l=await cs._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function TS(n,e){return Zv(gs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(n){const e=gs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IS(n,e,t){if(rr(n.app))return Promise.reject(Dr(n));const s=gs(n),h=await Wd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_S).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&e_(n),p}),f=await cs._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function SS(n,e,t){return rr(n.app)?Promise.reject(Dr(n)):TS(zn(n),Oo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&e_(n),s})}function CS(n,e,t,s){return zn(n).onIdTokenChanged(e,t,s)}function RS(n,e,t){return zn(n).beforeAuthStateChanged(e,t)}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1e3,AS=10;class n_ extends t_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);KI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AS):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},PS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}n_.type="LOCAL";const kS=n_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends t_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}r_.type="SESSION";const i_=r_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await xS(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Df("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const P=S;if(P.data.eventId===y)switch(P.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(P.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function DS(n){sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function bS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OS(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LS(){return s_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="firebaseLocalStorageDb",VS=1,cc="firebaseLocalStorage",a_="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rc(n,e){return n.transaction([cc],e?"readwrite":"readonly").objectStore(cc)}function MS(){const n=indexedDB.deleteDatabase(o_);return new dl(n).toPromise()}function qd(){const n=indexedDB.open(o_,VS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(cc,{keyPath:a_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(cc)?e(s):(s.close(),await MS(),e(await qd()))})})}async function Jg(n,e,t){const s=Rc(n,!0).put({[a_]:e,value:t});return new dl(s).toPromise()}async function jS(n,e){const t=Rc(n,!1).get(e),s=await new dl(t).toPromise();return s===void 0?null:s.value}function Zg(n,e){const t=Rc(n,!0).delete(e);return new dl(t).toPromise()}const FS=800,US=3;class l_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>US)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(LS()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bS(),!this.activeServiceWorker)return;this.sender=new NS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qd();return await Jg(e,uc,"1"),await Zg(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Jg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>jS(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Rc(o,!1).getAll();return new dl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l_.type="LOCAL";const zS=l_;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n,e){return e?xr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $S(n){return Zv(n.auth,new bf(n),n.bypassAuthState)}function HS(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),wS(t,new bf(n),n.bypassAuthState)}async function WS(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),ES(t,new bf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $S;case"linkViaPopup":case"linkViaRedirect":return WS;case"reauthViaPopup":case"reauthViaRedirect":return HS;default:Bn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new ul(2e3,1e4);class vo extends u_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qS.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="pendingRedirect",Ku=new Map;class GS extends u_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const s=await QS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QS(n,e){const t=JS(e),s=XS(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function YS(n,e){Ku.set(n._key(),e)}function XS(n){return xr(n._redirectPersistence)}function JS(n){return qu(KS,n.config.apiKey,n.name)}async function ZS(n,e,t=!1){if(rr(n.app))return Promise.reject(Dr(n));const s=gs(n),o=BS(s,e),h=await new GS(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=10*60*1e3;class tC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!c_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ey(e))}saveEventToCache(e){this.cachedEventUids.add(ey(e)),this.lastProcessedEventTime=Date.now()}}function ey(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function c_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e={}){return ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sC=/^https?/;async function oC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rC(n);for(const t of e)try{if(aC(t))return}catch{}Bn(n,"unauthorized-domain")}function aC(n){const e=$d(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!sC.test(t))return!1;if(iC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new ul(3e4,6e4);function ty(){const n=sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uC(n){return new Promise((e,t)=>{var s,o,l;function h(){ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ty(),t(ir(n,"network-request-failed"))},timeout:lC.get()})}if(!((o=(s=sr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=sr().gapi)===null||l===void 0)&&l.load)h();else{const f=nS("iframefcb");return sr()[f]=()=>{gapi.load?h():t(ir(n,"network-request-failed"))},Gv(`${tS()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function cC(n){return Gu=Gu||uC(n),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new ul(5e3,15e3),dC="__/auth/iframe",fC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gC(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Pf(e,fC):`https://${n.config.authDomain}/${dC}`,s={apiKey:e.apiKey,appName:n.name,v:bo},o=mC.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ll(s).slice(1)}`}async function yC(n){const e=await cC(n),t=sr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:gC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=ir(n,"network-request-failed"),f=sr().setTimeout(()=>{l(h)},hC.get());function p(){sr().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_C=500,EC=600,wC="_blank",TC="http://localhost";class ny{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IC(n,e,t,s=_C,o=EC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},vC),{width:s.toString(),height:o.toString(),top:l,left:h}),y=zt().toLowerCase();t&&(f=zv(y)?wC:t),Fv(y)&&(e=e||TC,p.scrollbars="yes");const E=Object.entries(p).reduce((P,[O,M])=>`${P}${O}=${M},`,"");if(qI(y)&&f!=="_self")return SC(e||"",f),new ny(null);const S=window.open(e||"",f,E);Ee(S,n,"popup-blocked");try{S.focus()}catch{}return new ny(S)}function SC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__/auth/handler",RC="emulator/auth/handler",PC=encodeURIComponent("fac");async function ry(n,e,t,s,o,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:bo,eventId:o};if(e instanceof Xv){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",pT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof hl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const p=await n._getAppCheckToken(),y=p?`#${PC}=${encodeURIComponent(p)}`:"";return`${AC(n)}?${ll(f).slice(1)}${y}`}function AC({config:n}){return n.emulator?Pf(n,RC):`https://${n.authDomain}/${CC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class kC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i_,this._completeRedirectFn=ZS,this._overrideRedirectResult=YS}async _openPopup(e,t,s,o){var l;Lr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await ry(e,t,s,$d(),o);return IC(e,h,Df())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await ry(e,t,s,$d(),o);return DS(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Lr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await yC(e),s=new tC(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ad,{type:Ad},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ad];h!==void 0&&t(!!h),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qv()||Uv()||kf()}}const xC=kC;var iy="@firebase/auth",sy="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bC(n){Io(new ls("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kv(n)},y=new JI(s,o,l,p);return lS(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Io(new ls("auth-internal",e=>{const t=gs(e.getProvider("auth").getImmediate());return(s=>new NC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(iy,sy,DC(n)),_i(iy,sy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=5*60,LC=Iv("authIdTokenMaxAge")||OC;let oy=null;const VC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>LC)return;const o=t==null?void 0:t.token;oy!==o&&(oy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(n=Pv()){const e=Sf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aS(n,{popupRedirectResolver:xC,persistence:[zS,kS,i_]}),s=Iv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=VC(l.toString());RS(t,h,()=>h(t.currentUser)),CS(t,f=>h(f))}}const o=wv("auth");return o&&uS(t,`http://${o}`),t}function jC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=ir("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",jC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bC("Browser");var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,h_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function C(){}C.prototype=I.prototype,k.D=I.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(x,D,V){for(var A=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)A[Ze-2]=arguments[Ze];return I.prototype[D].apply(x,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,C){C||(C=0);var x=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)x[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;16>D;++D)x[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=k.g[0],C=k.g[1],D=k.g[2];var V=k.g[3],A=I+(V^C&(D^V))+x[0]+3614090360&4294967295;I=C+(A<<7&4294967295|A>>>25),A=V+(D^I&(C^D))+x[1]+3905402710&4294967295,V=I+(A<<12&4294967295|A>>>20),A=D+(C^V&(I^C))+x[2]+606105819&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(I^D&(V^I))+x[3]+3250441966&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(V^C&(D^V))+x[4]+4118548399&4294967295,I=C+(A<<7&4294967295|A>>>25),A=V+(D^I&(C^D))+x[5]+1200080426&4294967295,V=I+(A<<12&4294967295|A>>>20),A=D+(C^V&(I^C))+x[6]+2821735955&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(I^D&(V^I))+x[7]+4249261313&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(V^C&(D^V))+x[8]+1770035416&4294967295,I=C+(A<<7&4294967295|A>>>25),A=V+(D^I&(C^D))+x[9]+2336552879&4294967295,V=I+(A<<12&4294967295|A>>>20),A=D+(C^V&(I^C))+x[10]+4294925233&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(I^D&(V^I))+x[11]+2304563134&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(V^C&(D^V))+x[12]+1804603682&4294967295,I=C+(A<<7&4294967295|A>>>25),A=V+(D^I&(C^D))+x[13]+4254626195&4294967295,V=I+(A<<12&4294967295|A>>>20),A=D+(C^V&(I^C))+x[14]+2792965006&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(I^D&(V^I))+x[15]+1236535329&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(D^V&(C^D))+x[1]+4129170786&4294967295,I=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(I^C))+x[6]+3225465664&4294967295,V=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(V^I))+x[11]+643717713&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^I&(D^V))+x[0]+3921069994&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(D^V&(C^D))+x[5]+3593408605&4294967295,I=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(I^C))+x[10]+38016083&4294967295,V=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(V^I))+x[15]+3634488961&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^I&(D^V))+x[4]+3889429448&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(D^V&(C^D))+x[9]+568446438&4294967295,I=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(I^C))+x[14]+3275163606&4294967295,V=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(V^I))+x[3]+4107603335&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^I&(D^V))+x[8]+1163531501&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(D^V&(C^D))+x[13]+2850285829&4294967295,I=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(I^C))+x[2]+4243563512&4294967295,V=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(V^I))+x[7]+1735328473&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^I&(D^V))+x[12]+2368359562&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(C^D^V)+x[5]+4294588738&4294967295,I=C+(A<<4&4294967295|A>>>28),A=V+(I^C^D)+x[8]+2272392833&4294967295,V=I+(A<<11&4294967295|A>>>21),A=D+(V^I^C)+x[11]+1839030562&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^I)+x[14]+4259657740&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(C^D^V)+x[1]+2763975236&4294967295,I=C+(A<<4&4294967295|A>>>28),A=V+(I^C^D)+x[4]+1272893353&4294967295,V=I+(A<<11&4294967295|A>>>21),A=D+(V^I^C)+x[7]+4139469664&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^I)+x[10]+3200236656&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(C^D^V)+x[13]+681279174&4294967295,I=C+(A<<4&4294967295|A>>>28),A=V+(I^C^D)+x[0]+3936430074&4294967295,V=I+(A<<11&4294967295|A>>>21),A=D+(V^I^C)+x[3]+3572445317&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^I)+x[6]+76029189&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(C^D^V)+x[9]+3654602809&4294967295,I=C+(A<<4&4294967295|A>>>28),A=V+(I^C^D)+x[12]+3873151461&4294967295,V=I+(A<<11&4294967295|A>>>21),A=D+(V^I^C)+x[15]+530742520&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^I)+x[2]+3299628645&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(D^(C|~V))+x[0]+4096336452&4294967295,I=C+(A<<6&4294967295|A>>>26),A=V+(C^(I|~D))+x[7]+1126891415&4294967295,V=I+(A<<10&4294967295|A>>>22),A=D+(I^(V|~C))+x[14]+2878612391&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~I))+x[5]+4237533241&4294967295,C=D+(A<<21&4294967295|A>>>11),A=I+(D^(C|~V))+x[12]+1700485571&4294967295,I=C+(A<<6&4294967295|A>>>26),A=V+(C^(I|~D))+x[3]+2399980690&4294967295,V=I+(A<<10&4294967295|A>>>22),A=D+(I^(V|~C))+x[10]+4293915773&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~I))+x[1]+2240044497&4294967295,C=D+(A<<21&4294967295|A>>>11),A=I+(D^(C|~V))+x[8]+1873313359&4294967295,I=C+(A<<6&4294967295|A>>>26),A=V+(C^(I|~D))+x[15]+4264355552&4294967295,V=I+(A<<10&4294967295|A>>>22),A=D+(I^(V|~C))+x[6]+2734768916&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~I))+x[13]+1309151649&4294967295,C=D+(A<<21&4294967295|A>>>11),A=I+(D^(C|~V))+x[4]+4149444226&4294967295,I=C+(A<<6&4294967295|A>>>26),A=V+(C^(I|~D))+x[11]+3174756917&4294967295,V=I+(A<<10&4294967295|A>>>22),A=D+(I^(V|~C))+x[2]+718787259&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~I))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var C=I-this.blockSize,x=this.B,D=this.h,V=0;V<I;){if(D==0)for(;V<=C;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<I;)if(x[D++]=k.charCodeAt(V++),D==this.blockSize){o(this,x),D=0;break}}else for(;V<I;)if(x[D++]=k[V++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var C=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=C&255,C/=256;for(this.u(k),k=Array(16),I=C=0;4>I;++I)for(var x=0;32>x;x+=8)k[C++]=this.g[I]>>>x&255;return k};function l(k,I){var C=f;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=I(k)}function h(k,I){this.h=I;for(var C=[],x=!0,D=k.length-1;0<=D;D--){var V=k[D]|0;x&&V==I||(C[D]=V,x=!1)}this.g=C}var f={};function p(k){return-128<=k&&128>k?l(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return L(y(-k));for(var I=[],C=1,x=0;k>=C;x++)I[x]=k/C|0,C*=4294967296;return new h(I,0)}function E(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return L(E(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(I,8)),x=S,D=0;D<k.length;D+=8){var V=Math.min(8,k.length-D),A=parseInt(k.substring(D,D+V),I);8>V?(V=y(Math.pow(I,V)),x=x.j(V).add(y(A))):(x=x.j(C),x=x.add(y(A)))}return x}var S=p(0),P=p(1),O=p(16777216);n=h.prototype,n.m=function(){if(z(this))return-L(this).m();for(var k=0,I=1,C=0;C<this.g.length;C++){var x=this.i(C);k+=(0<=x?x:4294967296+x)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(z(this))return"-"+L(this).toString(k);for(var I=y(Math.pow(k,6)),C=this,x="";;){var D=te(C,I).g;C=q(C,D.j(I));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=D,M(C))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function z(k){return k.h==-1}n.l=function(k){return k=q(this,k),z(k)?-1:M(k)?0:1};function L(k){for(var I=k.g.length,C=[],x=0;x<I;x++)C[x]=~k.g[x];return new h(C,~k.h).add(P)}n.abs=function(){return z(this)?L(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],x=0,D=0;D<=I;D++){var V=x+(this.i(D)&65535)+(k.i(D)&65535),A=(V>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);x=A>>>16,V&=65535,A&=65535,C[D]=A<<16|V}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(k,I){return k.add(L(I))}n.j=function(k){if(M(this)||M(k))return S;if(z(this))return z(k)?L(this).j(L(k)):L(L(this).j(k));if(z(k))return L(this.j(L(k)));if(0>this.l(O)&&0>k.l(O))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,C=[],x=0;x<2*I;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<k.g.length;D++){var V=this.i(x)>>>16,A=this.i(x)&65535,Ze=k.i(D)>>>16,ht=k.i(D)&65535;C[2*x+2*D]+=A*ht,H(C,2*x+2*D),C[2*x+2*D+1]+=V*ht,H(C,2*x+2*D+1),C[2*x+2*D+1]+=A*Ze,H(C,2*x+2*D+1),C[2*x+2*D+2]+=V*Ze,H(C,2*x+2*D+2)}for(x=0;x<I;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=I;x<2*I;x++)C[x]=0;return new h(C,0)};function H(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function G(k,I){this.g=k,this.h=I}function te(k,I){if(M(I))throw Error("division by zero");if(M(k))return new G(S,S);if(z(k))return I=te(L(k),I),new G(L(I.g),L(I.h));if(z(I))return I=te(k,L(I)),new G(L(I.g),I.h);if(30<k.g.length){if(z(k)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=P,x=I;0>=x.l(k);)C=de(C),x=de(x);var D=fe(C,1),V=fe(x,1);for(x=fe(x,2),C=fe(C,2);!M(x);){var A=V.add(x);0>=A.l(k)&&(D=D.add(C),V=A),x=fe(x,1),C=fe(C,1)}return I=q(k,D.j(I)),new G(D,I)}for(D=S;0<=k.l(I);){for(C=Math.max(1,Math.floor(k.m()/I.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=y(C),A=V.j(I);z(A)||0<A.l(k);)C-=x,V=y(C),A=V.j(I);M(V)&&(V=P),D=D.add(V),k=q(k,A)}return new G(D,k)}n.A=function(k){return te(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)&k.i(x);return new h(C,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)|k.i(x);return new h(C,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)^k.i(x);return new h(C,this.h^k.h)};function de(k){for(var I=k.g.length+1,C=[],x=0;x<I;x++)C[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(C,k.h)}function fe(k,I){var C=I>>5;I%=32;for(var x=k.g.length-C,D=[],V=0;V<x;V++)D[V]=0<I?k.i(V+C)>>>I|k.i(V+C+1)<<32-I:k.i(V+C);return new h(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,os=h}).apply(typeof ay<"u"?ay:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d_,ja,f_,Qu,Kd,p_,m_,g_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in v))break e;v=v[F]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,T=!1,F={next:function(){if(!T&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function P(u,m,v){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,P.apply(null,arguments)}function O(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function M(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,F,K){for(var ie=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ie[$e-2]=arguments[$e];return m.prototype[F].apply(T,ie)}}function z(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function L(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const F=u.length||0,K=T.length||0;u.length=F+K;for(let ie=0;ie<K;ie++)u[F+ie]=T[ie]}else u.push(T)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var de=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function fe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(v in T)u[v]=T[v];for(let K=0;K<C.length;K++)v=C[K],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function D(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function V(u){f.setTimeout(()=>{throw u},0)}function A(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ze{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new q(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,re=!1,me=new Ze,oe=()=>{const u=f.Promise.resolve(void 0);Me=()=>{u.then(j)}};var j=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){V(v)}var m=ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Re(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(de){e:{try{te(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}M(Re,pe);var be={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function We(u,m,v,T,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=F,this.key=++ze,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cr(u){this.src=u,this.g={},this.h=0}cr.prototype.add=function(u,m,v,T,F){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=Ur(u,m,T,F);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new We(m,this.src,K,!!T,F),m.fa=v,u.push(m)),m};function ws(u,m){var v=m.type;if(v in u.g){var T=u.g[v],F=Array.prototype.indexOf.call(T,m,void 0),K;(K=0<=F)&&Array.prototype.splice.call(T,F,1),K&&(wt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ur(u,m,v,T){for(var F=0;F<u.length;++F){var K=u[F];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==T)return F}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Ts={};function Fo(u,m,v,T,F){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Fo(u,m[K],v,T,F);return null}return v=Bo(v),u&&u[Ue]?u.K(m,v,y(T)?!!T.capture:!!T,F):Uo(u,m,v,!1,T,F)}function Uo(u,m,v,T,F,K){if(!m)throw Error("Invalid event type");var ie=y(F)?!!F.capture:!!F,$e=Ss(u);if($e||(u[xi]=$e=new cr(u)),v=$e.add(m,v,T,ie,K),v.proxy)return v;if(T=_l(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ce||(F=ie),F===void 0&&(F=!1),u.addEventListener(m.toString(),T,F);else if(u.attachEvent)u.attachEvent(dr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _l(){function u(v){return m.call(u.src,u.listener,v)}const m=zo;return u}function Is(u,m,v,T,F){if(Array.isArray(m))for(var K=0;K<m.length;K++)Is(u,m[K],v,T,F);else T=y(T)?!!T.capture:!!T,v=Bo(v),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=Ur(K,v,T,F),-1<v&&(wt(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ur(m,v,T,F)),(v=-1<u?m[u]:null)&&hr(v))}function hr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])ws(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(dr(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ss(m))?(ws(v,u),v.h==0&&(v.src=null,m[xi]=null)):wt(u)}}}function dr(u){return u in Ts?Ts[u]:Ts[u]="on"+u}function zo(u,m){if(u.da)u=!0;else{m=new Re(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&hr(u),u=v.call(T,m)}return u}function Ss(u){return u=u[xi],u instanceof cr?u:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(u){return typeof u=="function"?u:(u[Cs]||(u[Cs]=function(m){return u.handleEvent(m)}),u[Cs])}function ft(){Y.call(this),this.i=new cr(this),this.M=this,this.F=null}M(ft,Y),ft.prototype[Ue]=!0,ft.prototype.removeEventListener=function(u,m,v,T){Is(this,u,m,v,T)};function pt(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var F=m;m=new pe(T,u),x(m,F)}if(F=!0,v)for(var K=v.length-1;0<=K;K--){var ie=m.g=v[K];F=fr(ie,T,!0,m)&&F}if(ie=m.g=u,F=fr(ie,T,!0,m)&&F,F=fr(ie,T,!1,m)&&F,v)for(K=0;K<v.length;K++)ie=m.g=v[K],F=fr(ie,T,!1,m)&&F}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)wt(v[T]);delete u.g[m],u.h--}}this.F=null},ft.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ft.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,K=0;K<m.length;++K){var ie=m[K];if(ie&&!ie.da&&ie.capture==v){var $e=ie.listener,mt=ie.ha||ie.src;ie.fa&&ws(u.i,ie),F=$e.call(mt,T)!==!1&&F}}return F&&!T.defaultPrevented}function $o(u,m,v){if(typeof u=="function")v&&(u=P(u,v));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function zr(u){u.g=$o(()=>{u.g=null,u.i&&(u.i=!1,zr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ni extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(u){Y.call(this),this.h=u,this.g={}}M(Di,Y);var Ho=[];function Wo(u){fe(u.g,function(m,v){this.g.hasOwnProperty(v)&&hr(m)},u),u.g={}}Di.prototype.N=function(){Di.aa.N.call(this),Wo(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=f.JSON.stringify,Ko=f.JSON.parse,Go=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function bi(){}bi.prototype.h=null;function Rs(u){return u.h||(u.h=u.i())}function Ps(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){pe.call(this,"d")}M(qn,pe);function As(){pe.call(this,"c")}M(As,pe);var Kn={},Qo=null;function Oi(){return Qo=Qo||new ft}Kn.La="serverreachability";function Yo(u){pe.call(this,Kn.La,u)}M(Yo,pe);function pr(u){const m=Oi();pt(m,new Yo(m))}Kn.STAT_EVENT="statevent";function Xo(u,m){pe.call(this,Kn.STAT_EVENT,u),this.stat=m}M(Xo,pe);function st(u){const m=Oi();pt(m,new Xo(m,u))}Kn.Ma="timingevent";function ks(u,m){pe.call(this,Kn.Ma,u),this.size=m}M(ks,pe);function Cn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Vi(u,m,v,T,F,K){u.info(function(){if(u.g)if(K)for(var ie="",$e=K.split("&"),mt=0;mt<$e.length;mt++){var Oe=$e[mt].split("=");if(1<Oe.length){var Tt=Oe[0];Oe=Oe[1];var lt=Tt.split("_");ie=2<=lt.length&&lt[1]=="type"?ie+(Tt+"="+Oe+"&"):ie+(Tt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+v+`
`+ie})}function xs(u,m,v,T,F,K,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+v+`
`+K+" "+ie})}function Rn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$c(u,v)+(T?" "+T:"")})}function Jo(u,m){u.info(function(){return"TIMEOUT: "+m})}Li.prototype.info=function(){};function $c(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return qo(v)}catch{return m}}var Ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Mi(){}M(Mi,bi),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},Pn=new Mi;function An(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wl}function wl(){this.i=null,this.g="",this.h=!1}var Zo={},Ds={};function bs(u,m,v){u.L=1,u.v=qr(rn(m)),u.m=v,u.P=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),qe(u),u.A=rn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gr(v.i,"t",T),u.C=0,v=u.j.J,u.h=new wl,u.g=Fl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ni(P(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ho[0]=F.toString()),F=Ho);for(var K=0;K<F.length;K++){var ie=Fo(v,F[K],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pr(),Vi(u.i,u.u,u.A,u.l,u.R,u.m)}An.prototype.ca=function(u){u=u.target;const m=this.M;m&&Gt(u)==3?m.j():this.Y(u)},An.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Gt(this.g);var m=this.g.Ba();const pn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||lt!=4||m==7||(m==8||0>=pn?pr(3):pr(2)),ji(this);var v=this.g.Z();this.X=v;t:if(Tl(this)){var T=oa(this.g);u="";var F=T.length,K=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Br(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(K&&m==F-1)});T.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,xs(this.i,this.u,this.A,this.l,this.R,lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,mt=this.g;if(($e=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H($e)){var Oe=$e;break t}}Oe=null}if(v=Oe)Rn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,v);else{this.o=!1,this.s=3,st(12),dn(this),Br(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<ie.length;)if(on=Hc(this,ie),on==Ds){lt==4&&(this.s=4,st(14),v=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Zo){this.s=4,st(15),Rn(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Rn(this.i,this.l,on,null),ta(this,on);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ie.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)Rn(this.i,this.l,ie,"[Invalid Chunked Response]"),dn(this),Br(this);else if(0<ie.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),la(Tt),Tt.M=!0,st(11))}}else Rn(this.i,this.l,ie,null),ta(this,ie);lt==4&&dn(this),this.o&&!this.J&&(lt==4?Hs(this.j,this):(this.o=!1,qe(this)))}else Fs(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),dn(this),Br(this)}}}catch{}finally{}};function Tl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hc(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ds:(v=Number(m.substring(v,T)),isNaN(v)?Zo:(T+=1,T+v>m.length?Ds:(m=m.slice(T,T+v),u.C=T+v,m)))}An.prototype.cancel=function(){this.J=!0,dn(this)};function qe(u){u.S=Date.now()+u.I,Il(u,u.I)}function Il(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Cn(P(u.ba,u),m)}function ji(u){u.B&&(f.clearTimeout(u.B),u.B=null)}An.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jo(this.i,this.A),this.L!=2&&(pr(),st(17)),dn(this),this.s=2,Br(this)):Il(this,this.S-u)};function Br(u){u.j.G==0||u.J||Hs(u.j,u)}function dn(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ta(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Bt(v.h,u))){if(!u.K&&Bt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)$s(v),bn(v);else break e;Bs(v),st(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Cn(P(v.Za,v),6e3));if(1>=Cl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else _r(v,11)}else if((u.K||v.g==u)&&$s(v),!H(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let Oe=F[m];if(v.T=Oe[0],Oe=Oe[1],v.G==2)if(Oe[0]=="c"){v.K=Oe[1],v.ia=Oe[2];const Tt=Oe[3];Tt!=null&&(v.la=Tt,v.j.info("VER="+v.la));const lt=Oe[4];lt!=null&&(v.Aa=lt,v.j.info("SVER="+v.Aa));const pn=Oe[5];pn!=null&&typeof pn=="number"&&0<pn&&(T=1.5*pn,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const on=u.g;if(on){const Wi=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var K=T.h;K.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(na(K,K.h),K.h=null))}if(T.D){const qs=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(T.ya=qs,He(T.I,T.D,qs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ie=u;if(T.qa=jl(T,T.J?T.ia:null,T.W),ie.K){Rl(T.h,ie);var $e=ie,mt=T.L;mt&&($e.I=mt),$e.B&&(ji($e),qe($e)),T.g=ie}else Hi(T);0<v.i.length&&Xn(v)}else Oe[0]!="stop"&&Oe[0]!="close"||_r(v,7);else v.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?_r(v,7):At(v):Oe[0]!="noop"&&v.l&&v.l.ta(Oe),v.v=0)}}pr(4)}catch{}}var Sl=class{constructor(u,m){this.g=u,this.map=m}};function Fi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function na(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fi.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return z(u.i)}function Os(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function Ls(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ls(u),T=Os(u),F=T.length,K=0;K<F;K++)m.call(void 0,T[K],v&&v[K],u)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),F=null;if(0<=T){var K=u[v].substring(0,T);F=u[v].substring(T+1)}else K=u[v];m(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mr){this.h=u.h,zi(this,u.j),this.o=u.o,this.g=u.g,Hr(this,u.s),this.l=u.l;var m=u.i,v=new Gn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Wr(this,v),this.m=u.m}else u&&(m=String(u).match(Ui))?(this.h=!1,zi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Hr(this,m[4]),this.l=xe(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Kr(m,Vs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Kr(m,Vs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Kr(v,v.charAt(0)=="/"?xl:kl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Kr(v,ra)),u.join("")};function rn(u){return new mr(u)}function zi(u,m,v){u.j=v?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wr(u,m,v){m instanceof Gn?(u.i=m,Qn(u.i,u.h)):(v||(m=Kr(m,Nl)),u.i=new Gn(m,u.h))}function He(u,m,v){u.i.set(m,v)}function qr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Al),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Al(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vs=/[#\/\?@]/g,kl=/[#\?:]/g,xl=/[#\?]/g,Nl=/[#\?@]/g,ra=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&Wc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Gn.prototype,n.add=function(u,m){Pt(this),this.i=null,u=fn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function kn(u,m){Pt(u),m=fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xn(u,m){return Pt(u),m=fn(u,m),u.g.has(m)}n.forEach=function(u,m){Pt(this),this.g.forEach(function(v,T){v.forEach(function(F){u.call(m,F,T,this)},this)},this)},n.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const F=u[T];for(let K=0;K<F.length;K++)v.push(m[T])}return v},n.V=function(u){Pt(this);let m=[];if(typeof u=="string")xn(this,u)&&(m=m.concat(this.g.get(fn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Pt(this),this.i=null,u=fn(this,u),xn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gr(u,m,v){kn(u,m),0<v.length&&(u.i=null,u.g.set(fn(u,m),z(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const K=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var F=K;ie[T]!==""&&(F+="="+encodeURIComponent(String(ie[T]))),u.push(F)}}return this.i=u.join("&")};function fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qn(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(v,T){var F=T.toLowerCase();T!=F&&(kn(this,T),Gr(this,F,v))},u)),u.j=m}function qc(u,m){const v=new Li;if(f.Image){const T=new Image;T.onload=O(Kt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=O(Kt,v,"TestLoadImage: error",!1,m,T),T.onabort=O(Kt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=O(Kt,v,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dl(u,m){const v=new Li,T=new AbortController,F=setTimeout(()=>{T.abort(),Kt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(K=>{clearTimeout(F),K.ok?Kt(v,"TestPingServer: ok",!0,m):Kt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Kt(v,"TestPingServer: error",!1,m)})}function Kt(u,m,v,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(v)}catch{}}function Kc(){this.g=new Go}function bl(u,m,v){const T=v||"";try{$r(u,function(F,K){let ie=F;y(F)&&(ie=qo(F)),m.push(T+K+"="+encodeURIComponent(ie))})}catch(F){throw m.push(T+"type="+encodeURIComponent("_badmap")),F}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(gr,bi),gr.prototype.g=function(){return new Bi(this.l,this.j)},gr.prototype.i=function(u){return function(){return u}}({});function Bi(u,m){ft.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Bi,ft),n=Bi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Dn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Nn(this):Dn(this),this.readyState==3&&Ol(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Nn(this))},n.Qa=function(u){this.g&&(this.response=u,Nn(this))},n.ga=function(){this.g&&Nn(this)};function Nn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yr(u){let m="";return fe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Qr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=yr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):He(u,m,v))}function Ye(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ye,ft);var Gc=/^https?$/i,ia=["POST","PUT"];n=Ye.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Rs(this.o):Rs(Pn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){$i(this,K);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)v.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const K of T.keys())v.set(K,T.get(K));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ia,m,void 0))||T||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of v)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){$i(this,K)}};function $i(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ms(u),sn(u)}function Ms(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),sn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Gt(u)!=4||u.Z()!=2)){if(u.u&&Gt(u)==4)$o(u.Ea,0,u);else if(pt(u,"readystatechange"),Gt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ie===0){var F=String(u.D).match(Ui)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),T=!Gc.test(F?F.toLowerCase():"")}v=T}if(v)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var K=2<Gt(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Ms(u)}}finally{sn(u)}}}}function sn(u,m){if(u.g){js(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{v.onreadystatechange=T}catch{}}}function js(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Gt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ko(m)}};function oa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(u){const m={};u=(u.g&&2<=Gt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(H(u[T]))continue;var v=D(u[T]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[F]||[];m[F]=K,K.push(v)}k(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function aa(u){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,u),this.cb=Yn("retryDelaySeedMs",1e4,u),this.Wa=Yn("forwardChannelMaxRetries",2,u),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(u&&u.concurrentRequestLimit),this.Da=new Kc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){st(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=jl(this,null,this.W),Xn(this)};function At(u){if(Us(u),u.G==3){var m=u.U++,v=rn(u.I);if(He(v,"SID",u.K),He(v,"RID",m),He(v,"TYPE","terminate"),vr(u,v),m=new An(u,u.j,m),m.L=2,m.v=qr(rn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Fl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}Ml(u)}function bn(u){u.g&&(la(u),u.g.cancel(),u.g=null)}function Us(u){bn(u),u.u&&(f.clearTimeout(u.u),u.u=null),$s(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Xn(u){if(!nn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Me||oe(),re||(Me(),re=!0),me.add(m,u),u.B=0}}function Qc(u,m){return Cl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Cn(P(u.Ga,u,m),Vl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new An(this,this.j,u);let K=this.o;if(this.S&&(K?(K=I(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Yr(this,F,m),v=rn(this.I),He(v,"RID",u),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),vr(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(yr(K)))+"&"+m:this.m&&Qr(v,this.m,K)),na(this.h,F),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",m),He(v,"SID","null"),F.T=!0,bs(F,v,null)):bs(F,v,m),this.G=2}}else this.G==3&&(u?zs(this,u):this.i.length==0||nn(this.h)||zs(this))};function zs(u,m){var v;m?v=m.l:v=u.U++;const T=rn(u.I);He(T,"SID",u.K),He(T,"RID",v),He(T,"AID",u.T),vr(u,T),u.m&&u.o&&Qr(T,u.m,u.o),v=new An(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),na(u.h,v),bs(v,T,m)}function vr(u,m){u.H&&fe(u.H,function(v,T){He(m,T,v)}),u.l&&$r({},function(v,T){He(m,T,v)})}function Yr(u,m,v){v=Math.min(u.i.length,v);var T=u.l?P(u.l.Na,u.l,u):null;e:{var F=u.i;let K=-1;for(;;){const ie=["count="+v];K==-1?0<v?(K=F[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let $e=!0;for(let mt=0;mt<v;mt++){let Oe=F[mt].g;const Tt=F[mt].map;if(Oe-=K,0>Oe)K=Math.max(0,F[mt].g-100),$e=!1;else try{bl(Tt,ie,"req"+Oe+"_")}catch{T&&T(Tt)}}if($e){T=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Hi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Me||oe(),re||(Me(),re=!0),me.add(m,u),u.v=0}}function Bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Cn(P(u.Fa,u),Vl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Cn(P(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),bn(this),Ll(this))};function la(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ll(u){u.g=new An(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),vr(u,m),u.m&&u.o&&Qr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=qr(rn(m)),v.m=null,v.P=!0,ea(v,u)}n.Za=function(){this.C!=null&&(this.C=null,bn(this),Bs(this),st(19))};function $s(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Hs(u,m){var v=null;if(u.g==m){$s(u),la(u),u.g=null;var T=2}else if(Bt(u.h,m))v=m.D,Rl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;T=Oi(),pt(T,new ks(T,v)),Xn(u)}else Hi(u);else if(F=m.s,F==3||F==0&&0<m.X||!(T==1&&Qc(u,m)||T==2&&Bs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:_r(u,5);break;case 4:_r(u,10);break;case 3:_r(u,6);break;default:_r(u,2)}}}function Vl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function _r(u,m){if(u.j.info("Error code "+m),m==2){var v=P(u.fb,u),T=u.Xa;const F=!T;T=new mr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zi(T,"https"),qr(T),F?qc(T.toString(),v):Dl(T.toString(),v)}else st(2);u.G=0,u.l&&u.l.sa(m),Ml(u),Us(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ml(u){if(u.G=0,u.ka=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function jl(u,m,v){var T=v instanceof mr?rn(v):new mr(v);if(T.g!="")m&&(T.g=m+"."+T.g),Hr(T,T.s);else{var F=f.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var K=new mr(null);T&&zi(K,T),m&&(K.g=m),F&&Hr(K,F),v&&(K.l=v),T=K}return v=u.D,m=u.ya,v&&m&&He(T,v,m),He(T,"VER",u.la),vr(u,T),T}function Fl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new gr({eb:v})):new Ye(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ua(){}n=ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ws(){}Ws.prototype.g=function(u,m){return new $t(u,m)};function $t(u,m){ft.call(this),this.g=new aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!H(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}M($t,ft),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){At(this.g)},$t.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=qo(u),u=v);m.i.push(new Sl(m.Ya++,u)),m.G==3&&Xn(m)},$t.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,$t.aa.N.call(this)};function Ul(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M(Ul,qn);function zl(){As.call(this),this.status=1}M(zl,As);function Jn(u){this.g=u}M(Jn,ua),Jn.prototype.ua=function(){pt(this.g,"a")},Jn.prototype.ta=function(u){pt(this.g,new Ul(u))},Jn.prototype.sa=function(u){pt(this.g,new zl)},Jn.prototype.ra=function(){pt(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,g_=function(){return new Ws},m_=function(){return Oi()},p_=Kn,Kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Qu=Ns,El.COMPLETE="complete",f_=El,Ps.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ja=Ps,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,d_=Ye}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Tf("@firebase/firestore");function po(){return hs.logLevel}function ae(n,...e){if(hs.logLevel<=Ae.DEBUG){const t=e.map(Of);hs.debug(`Firestore (${Lo}): ${n}`,...t)}}function Vr(n,...e){if(hs.logLevel<=Ae.ERROR){const t=e.map(Of);hs.error(`Firestore (${Lo}): ${n}`,...t)}}function So(n,...e){if(hs.logLevel<=Ae.WARN){const t=e.map(Of);hs.warn(`Firestore (${Lo}): ${n}`,...t)}}function Of(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function Be(n,e){n||Te()}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ei,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ei)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string"),new y_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ft(e)}}class BC{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $C{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new BC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new HC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=qC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Ne(n,e){return n<e?-1:n>e?1:0}function Co(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _t(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends Ya{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const KC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ya{construct(e,t,s){return new Dt(e,t,s)}static isValidIdentifier(e){return KC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function GC(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new Ti(o,_e.empty(),e)}function QC(n){return new Ti(n.readTime,n.key,-1)}class Ti{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ti(Ie.min(),_e.empty(),-1)}static max(){return new Ti(Ie.max(),_e.empty(),-1)}}function YC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==XC)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,s)=>{t(e)})}static reject(e){return new Q((t,s)=>{s(e)})}static waitFor(e){return new Q((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next(o=>o?Q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Q((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(E=>{h[y]=E,++f,f===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Q((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function ZC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pc.oe=-1;function Ac(n){return n==null}function hc(n){return n===0&&1/n==-1/0}function eR(n){return typeof n=="number"&&Number.isInteger(n)&&!hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uy(e)),e=nR(n.get(t),e);return uy(e)}function nR(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function uy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ys(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function __(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Nt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hy(this.data.getIterator())}getIteratorFrom(e){return new hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Et(Dt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new E_("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(Be(!!n),typeof n=="string"){let e=0;const t=rR.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Si(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function kc(n){const e=n.mapValue.fields.__previous_value__;return Lf(e)?kc(e):e}function Xa(n){const e=Ii(n.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,s,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lf(n)?4:oR(n)?9007199254740991:sR(n)?10:11:Te()}function lr(n,e){if(n===e)return!0;const t=Ci(n);if(t!==Ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xa(n).isEqual(Xa(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ii(o.timestampValue),f=Ii(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Si(o.bytesValue).isEqual(Si(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),f=at(l.doubleValue);return h===f?hc(h)===hc(f):isNaN(h)&&isNaN(f)}return!1}(n,e);case 9:return Co(n.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(cy(h)!==cy(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!lr(h[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function Za(n,e){return(n.values||[]).find(t=>lr(t,e))!==void 0}function Ro(n,e){if(n===e)return 0;const t=Ci(n),s=Ci(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(l,h){const f=at(l.integerValue||l.doubleValue),p=at(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return dy(n.timestampValue,e.timestampValue);case 4:return dy(Xa(n),Xa(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(l,h){const f=Si(l),p=Si(h);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const E=Ne(f[y],p[y]);if(E!==0)return E}return Ne(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Ne(at(l.latitude),at(h.latitude));return f!==0?f:Ne(at(l.longitude),at(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fy(n.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,E;const S=l.fields||{},P=h.fields||{},O=(f=S.value)===null||f===void 0?void 0:f.arrayValue,M=(p=P.value)===null||p===void 0?void 0:p.arrayValue,z=Ne(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:fy(O,M)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Fu.mapValue&&h===Fu.mapValue)return 0;if(l===Fu.mapValue)return 1;if(h===Fu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const P=Ne(p[S],E[S]);if(P!==0)return P;const O=Ro(f[p[S]],y[E[S]]);if(O!==0)return O}return Ne(p.length,E.length)}(n.mapValue,e.mapValue);default:throw Te()}}function dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Ii(n),s=Ii(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function fy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Ro(t[o],s[o]);if(l)return l}return Ne(t.length,s.length)}function Po(n){return Gd(n)}function Gd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ii(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Si(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Gd(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Gd(t.fields[h])}`;return o+"}"}(n.mapValue):Te()}function Yu(n){switch(Ci(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(n);return e?16+Yu(e):16;case 5:return 2*n.stringValue.length;case 6:return Si(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Yu(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(l,h)=>{o+=l.length+Yu(h)}),o}(n.mapValue);default:throw Te()}}function Qd(n){return!!n&&"integerValue"in n}function Vf(n){return!!n&&"arrayValue"in n}function py(n){return!!n&&"nullValue"in n}function my(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function sR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ba(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ys(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ba(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ba(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}setAll(e){let t=Dt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Ba(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ys(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Tn(Ba(this.value))}}function w_(n){const e=[];return ys(n.fields,(t,s)=>{const o=new Dt([t]);if(Xu(s)){const l=w_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Ie.min(),Ie.min(),Ie.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Ie.min(),Ie.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Ie.min(),Ie.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function gy(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Ro(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function aR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{}class vt extends T_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uR(e,t,s):t==="array-contains"?new dR(e,s):t==="in"?new fR(e,s):t==="not-in"?new pR(e,s):t==="array-contains-any"?new mR(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cR(e,s):new hR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ro(t,this.value)):t!==null&&Ci(this.value)===Ci(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends T_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ur(e,t)}matches(e){return I_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function I_(n){return n.op==="and"}function S_(n){return lR(n)&&I_(n)}function lR(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function Yd(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Po(n.value);if(S_(n))return n.filters.map(e=>Yd(e)).join(",");{const e=n.filters.map(t=>Yd(t)).join(",");return`${n.op}(${e})`}}function C_(n,e){return n instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&lr(s.value,o.value)}(n,e):n instanceof ur?function(s,o){return o instanceof ur&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&C_(h,o.filters[f]),!0):!1}(n,e):void Te()}function R_(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`}(n):n instanceof ur?function(t){return t.op.toString()+" {"+t.getFilters().map(R_).join(" ,")+"}"}(n):"Filter"}class uR extends vt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class cR extends vt{constructor(e,t){super(e,"in",t),this.keys=P_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hR extends vt{constructor(e,t){super(e,"not-in",t),this.keys=P_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function P_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class dR extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vf(t)&&Za(t.arrayValue,this.value)}}class fR extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Za(this.value.arrayValue,t)}}class pR extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Za(this.value.arrayValue,t)}}class mR extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Za(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function vy(n,e=null,t=[],s=[],o=null,l=null,h=null){return new gR(n,e,t,s,o,l,h)}function Mf(n){const e=Se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Yd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ac(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Po(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Po(s)).join(",")),e.ue=t}return e.ue}function jf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yy(n.startAt,e.startAt)&&yy(n.endAt,e.endAt)}function Xd(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yR(n,e,t,s,o,l,h,f){return new xc(n,e,t,s,o,l,h,f)}function Ff(n){return new xc(n)}function _y(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vR(n){return n.collectionGroup!==null}function $a(n){const e=Se(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Et(Dt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new fc(l,s))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new fc(Dt.keyField(),s))}return e.ce}function or(n){const e=Se(n);return e.le||(e.le=_R(e,$a(n))),e.le}function _R(n,e){if(n.limitType==="F")return vy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new fc(o.field,l)});const t=n.endAt?new dc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new dc(n.startAt.position,n.startAt.inclusive):null;return vy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Jd(n,e,t){return new xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nc(n,e){return jf(or(n),or(e))&&n.limitType===e.limitType}function A_(n){return`${Mf(or(n))}|lt:${n.limitType}`}function mo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>R_(o)).join(", ")}]`),Ac(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Po(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Po(o)).join(",")),`Target(${s})`}(or(n))}; limitType=${n.limitType})`}function Dc(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of $a(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const y=gy(h,f,p);return h.inclusive?y<=0:y<0}(s.startAt,$a(s),o)||s.endAt&&!function(h,f,p){const y=gy(h,f,p);return h.inclusive?y>=0:y>0}(s.endAt,$a(s),o))}(n,e)}function ER(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k_(n){return(e,t)=>{let s=!1;for(const o of $a(n)){const l=wR(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function wR(n,e,t){const s=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Ro(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return __(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new nt(_e.comparator);function Mr(){return TR}const x_=new nt(_e.comparator);function Fa(...n){let e=x_;for(const t of n)e=e.insert(t.key,t);return e}function N_(n){let e=x_;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ss(){return Ha()}function D_(){return Ha()}function Ha(){return new vs(n=>n.toString(),(n,e)=>n.isEqual(e))}const IR=new nt(_e.comparator),SR=new Et(_e.comparator);function ke(...n){let e=SR;for(const t of n)e=e.add(t);return e}const CR=new Et(Ne);function RR(){return CR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function b_(n){return{integerValue:""+n}}function PR(n,e){return eR(e)?b_(e):Uf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function AR(n,e,t){return n instanceof pc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Lf(l)&&(l=kc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof el?L_(n,e):n instanceof tl?V_(n,e):function(o,l){const h=O_(o,l),f=Ey(h)+Ey(o.Pe);return Qd(h)&&Qd(o.Pe)?b_(f):Uf(o.serializer,f)}(n,e)}function kR(n,e,t){return n instanceof el?L_(n,e):n instanceof tl?V_(n,e):t}function O_(n,e){return n instanceof mc?function(s){return Qd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class pc extends bc{}class el extends bc{constructor(e){super(),this.elements=e}}function L_(n,e){const t=M_(e);for(const s of n.elements)t.some(o=>lr(o,s))||t.push(s);return{arrayValue:{values:t}}}class tl extends bc{constructor(e){super(),this.elements=e}}function V_(n,e){let t=M_(e);for(const s of n.elements)t=t.filter(o=>!lr(o,s));return{arrayValue:{values:t}}}class mc extends bc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ey(n){return at(n.integerValue||n.doubleValue)}function M_(n){return Vf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xR(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof el&&o instanceof el||s instanceof tl&&o instanceof tl?Co(s.elements,o.elements,lr):s instanceof mc&&o instanceof mc?lr(s.Pe,o.Pe):s instanceof pc&&o instanceof pc}(n.transform,e.transform)}class NR{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oc{}function j_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new U_(n.key,br.none()):new fl(n.key,n.data,br.none());{const t=n.data,s=Tn.empty();let o=new Et(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new _s(n.key,s,new Un(o.toArray()),br.none())}}function DR(n,e,t){n instanceof fl?function(o,l,h){const f=o.value.clone(),p=Ty(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(o,l,h){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Ty(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(F_(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Wa(n,e,t,s){return n instanceof fl?function(l,h,f,p){if(!Ju(l.precondition,h))return f;const y=l.value.clone(),E=Iy(l.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof _s?function(l,h,f,p){if(!Ju(l.precondition,h))return f;const y=Iy(l.fieldTransforms,p,h),E=h.data;return E.setAll(F_(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,s):function(l,h,f){return Ju(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(n,e,t)}function bR(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=O_(s.transform,o||null);l!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,l))}return t||null}function wy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,(l,h)=>xR(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fl extends Oc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Oc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function F_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function Ty(n,e,t){const s=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,kR(h,f,t[o]))}return s}function Iy(n,e,t){const s=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);s.set(o.field,AR(l,h,e))}return s}class U_ extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&DR(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=D_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=j_(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,s)=>wy(t,s))&&Co(this.baseMutations,e.baseMutations,(t,s)=>wy(t,s))}}class zf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length);let o=function(){return IR}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new zf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Le;function jR(n){switch(n){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function z_(n){if(n===void 0)return Vr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case ct.OK:return ee.OK;case ct.CANCELLED:return ee.CANCELLED;case ct.UNKNOWN:return ee.UNKNOWN;case ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ct.INTERNAL:return ee.INTERNAL;case ct.UNAVAILABLE:return ee.UNAVAILABLE;case ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ct.NOT_FOUND:return ee.NOT_FOUND;case ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ct.ABORTED:return ee.ABORTED;case ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ct.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Le=ct||(ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new os([4294967295,4294967295],0);function Sy(n){const e=FR().encode(n),t=new h_;return t.update(e),new Uint8Array(t.digest())}function Cy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new os([t,s],0),new os([o,l],0)]}class Bf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ua(`Invalid padding: ${t}`);if(s<0)throw new Ua(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=os.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(os.fromNumber(s)));return o.compare(UR)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Sy(e),[s,o]=Cy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Bf(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Sy(e),[s,o]=Cy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Lc(Ie.min(),o,new nt(Ne),Mr(),ke())}}class pl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pl(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class B_{constructor(e,t){this.targetId=e,this.me=t}}class $_{constructor(e,t,s=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ry{constructor(){this.fe=0,this.ge=Py(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),s=ke();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new pl(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Py()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=Uu(),this.Qe=Uu(),this.Ke=new nt(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Xd(l))if(s===0){const h=new _e(l.path);this.We(t,h,Ut.newNoDocument(h,Ie.min()))}else Be(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Si(s).toUint8Array()}catch(p){if(p instanceof E_)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Bf(h,o,l)}catch(p){return So(p instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&Xd(f.target)){const p=new _e(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Ut.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=ke();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Lc(e,t,this.Ke,this.ke,s);return this.ke=Mr(),this.qe=Uu(),this.Qe=Uu(),this.Ke=new nt(Ne),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ry,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ry),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Uu(){return new nt(_e.comparator)}function Py(){return new nt(_e.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HR={and:"AND",or:"OR"};class WR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zd(n,e){return n.useProto3Json||Ac(e)?e:{value:e}}function gc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qR(n,e){return gc(n,e.toTimestamp())}function ar(n){return Be(!!n),Ie.fromTimestamp(function(t){const s=Ii(t);return new _t(s.seconds,s.nanos)}(n))}function $f(n,e){return ef(n,e).canonicalString()}function ef(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function W_(n){const e=it.fromString(n);return Be(Y_(e)),e}function tf(n,e){return $f(n.databaseId,e.path)}function kd(n,e){const t=W_(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(K_(t))}function q_(n,e){return $f(n.databaseId,e)}function KR(n){const e=W_(n);return e.length===4?it.emptyPath():K_(e)}function nf(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function K_(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ay(n,e,t){return{name:tf(n,e),fields:t.value.mapValue.fields}}function GR(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(Be(E===void 0||typeof E=="string"),bt.fromBase64String(E||"")):(Be(E===void 0||E instanceof Buffer||E instanceof Uint8Array),bt.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const E=y.code===void 0?ee.UNKNOWN:z_(y.code);return new ve(E,y.message||"")}(h);t=new $_(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=kd(n,s.document.name),l=ar(s.document.updateTime),h=s.document.createTime?ar(s.document.createTime):Ie.min(),f=new Tn({mapValue:{fields:s.document.fields}}),p=Ut.newFoundDocument(o,l,h,f),y=s.targetIds||[],E=s.removedTargetIds||[];t=new Zu(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=kd(n,s.document),l=s.readTime?ar(s.readTime):Ie.min(),h=Ut.newNoDocument(o,l),f=s.removedTargetIds||[];t=new Zu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=kd(n,s.document),l=s.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new MR(o,l),f=s.targetId;t=new B_(f,h)}}return t}function QR(n,e){let t;if(e instanceof fl)t={update:Ay(n,e.key,e.value)};else if(e instanceof U_)t={delete:tf(n,e.key)};else if(e instanceof _s)t={update:Ay(n,e.key,e.data),updateMask:i2(e.fieldMask)};else{if(!(e instanceof OR))return Te();t={verify:tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof el)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:qR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function YR(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?ar(o.updateTime):ar(l);return h.isEqual(Ie.min())&&(h=ar(l)),new NR(h,o.transformResults||[])}(t,e))):[]}function XR(n,e){return{documents:[q_(n,e.path)]}}function JR(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=q_(n,o);const l=function(y){if(y.length!==0)return Q_(ur.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(P){return{field:go(P.field),direction:t2(P.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Zd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function ZR(n){let e=KR(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(S){const P=G_(S);return P instanceof ur&&S_(P)?P.getFilters():[P]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(P=>function(M){return new fc(yo(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(P))}(t.orderBy));let f=null;t.limit&&(f=function(S){let P;return P=typeof S=="object"?S.value:S,Ac(P)?null:P}(t.limit));let p=null;t.startAt&&(p=function(S){const P=!!S.before,O=S.values||[];return new dc(O,P)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const P=!S.before,O=S.values||[];return new dc(O,P)}(t.endAt)),yR(e,o,h,l,f,"F",p,y)}function e2(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=yo(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ur.create(t.compositeFilter.filters.map(s=>G_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function t2(n){return BR[n]}function n2(n){return $R[n]}function r2(n){return HR[n]}function go(n){return{fieldPath:n.canonicalString()}}function yo(n){return Dt.fromServerFormat(n.fieldPath)}function Q_(n){return n instanceof vt?function(t){if(t.op==="=="){if(my(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(py(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(my(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(py(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:n2(t.op),value:t.value}}}(n):n instanceof ur?function(t){const s=t.getFilters().map(o=>Q_(o));return s.length===1?s[0]:{compositeFilter:{op:r2(t.op),filters:s}}}(n):Te()}function i2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Y_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t,s,o,l=Ie.min(),h=Ie.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.ht=e}}function o2(n){const e=ZR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ln=new l2}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Ti.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class l2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(it.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ao(0)}static Qn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy([n,e],[t,s]){const o=Ne(n,t);return o===0?Ne(e,s):o}class u2{constructor(e){this.Gn=e,this.buffer=new Et(xy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Yn(3e5)})}}class h2{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Pc.oe);const s=new u2(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(ky)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ky):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,f,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,f=Date.now(),this.removeTargets(e,s,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),po()<=Ae.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function d2(n,e){return new h2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Wa(s.mutation,o,Un.empty(),_t.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=ss();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Fa();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ss();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=Mr();const h=Ha(),f=function(){return Ha()}();return t.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof _s)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Wa(E.mutation,y,E.mutation.getFieldMask(),_t.now())):h.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var S;return f.set(y,new p2(E,(S=h.get(y))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Ha();let o=new nt((h,f)=>h-f),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let E=s.get(p)||Un.empty();E=f.applyToLocalView(y,E),s.set(p,E);const S=(o.get(f.batchId)||ke()).add(p);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,E=p.value,S=D_();E.forEach(P=>{if(!l.has(P)){const O=j_(t.get(P),s.get(P));O!==null&&S.set(P,O),l=l.add(P)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Q.resolve(ss());let f=-1,p=l;return h.next(y=>Q.forEach(y,(E,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(P=>{p=p.insert(E,P)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,ke())).next(E=>({batchId:f,changes:N_(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Fa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Fa();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,p=>{const y=function(S,P){return new xc(P,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,P)=>{h=h.insert(S,P)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Ut.newInvalidDocument(E)))});let f=Fa();return h.forEach((p,y)=>{const E=l.get(p);E!==void 0&&Wa(E.mutation,y,Un.empty(),_t.now()),Dc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:o2(o.bundledQuery),readTime:ar(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.overlays=new nt(_e.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ss();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=ss(),l=t.length+1,h=new _e(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new nt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=l.get(y.largestBatchId);E===null&&(E=ss(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=ss(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>f.set(y,E)),!(f.size()>=o)););return Q.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new VR(t,s));let l=this.Er.get(t);l===void 0&&(l=ke(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.dr=new Et(Rt.Ar),this.Rr=new Et(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Rt(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new _e(new it([])),s=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new it([])),s=new Rt(t,e),o=new Rt(t,e+1);let l=ke();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Rt(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Rt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new LR(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new Rt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(Ne);return t.forEach(o=>{const l=new Rt(o,0),h=new Rt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{s=s.add(f.br)})}),Q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const h=new Rt(new _e(l),0);let f=new Et(Ne);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Q.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Rt(t,0),o=this.vr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Nr=e,this.docs=function(){return new nt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Mr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ut.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Mr();const h=t.path,f=new _e(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||YC(QC(E),s)<=0||(o.has(E.key)||Dc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te()}Lr(e,t){return Q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new w2(this)}getSize(e){return Q.resolve(this.size)}}class w2 extends f2{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.persistence=e,this.Br=new vs(t=>Mf(t),jf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hf,this.targetCount=0,this.Qr=Ao.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Pc(0),this.Ur=!1,this.Ur=!0,this.Wr=new v2,this.referenceDelegate=e(this),this.Gr=new T2(this),this.indexManager=new a2,this.remoteDocumentCache=function(o){return new E2(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new s2(t),this.jr=new g2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new _2(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new I2(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class I2 extends JC{constructor(e){super(),this.currentSequenceNumber=e}}class Wf{constructor(e){this.persistence=e,this.Zr=new Hf,this.Xr=null}static ei(e){return new Wf(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,s=>{const o=_e.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.ri=new vs(s=>tR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=d2(this,t)}static ei(e,t){return new yc(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yu(e.data.value)),t}ir(e,t,s){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new qf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return lT()?8:ZC(zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new S2;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(po()<=Ae.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(po()<=Ae.DEBUG&&ae("QueryEngine","Query:",mo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(po()<=Ae.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):Q.resolve())}Xi(e,t){if(_y(t))return Q.resolve(null);let s=or(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Jd(t,null,"F"),s=or(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,Jd(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,s,o){return _y(t)||o.isEqual(Ie.min())?Q.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?Q.resolve(null):(po()<=Ae.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.os(e,h,t,GC(o,-1)).next(f=>f))})}rs(e,t){let s=new Et(k_(e));return t.forEach((o,l)=>{Dc(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return po()<=Ae.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",mo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ti.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ne),this.cs=new vs(l=>Mf(l),jf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function P2(n,e,t,s){return new R2(n,e,t,s)}async function J_(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let p=ke();for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function A2(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,E){const S=y.batch,P=S.keys();let O=Q.resolve();return P.forEach(M=>{O=O.next(()=>E.getEntry(p,M)).next(z=>{const L=y.docVersions.get(M);Be(L!==null),z.version.compareTo(L)<0&&(S.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),E.addEntry(z)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(p,S))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=ke();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Z_(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function k2(n,e){const t=Se(n),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((E,S)=>{const P=o.get(S);if(!P)return;f.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,S)));let O=P.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(bt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),function(z,L,q){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(P,O,E)&&f.push(t.Gr.updateTargetData(l,O))});let p=Mr(),y=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(x2(l,h,e.documentUpdates).next(E=>{p=E.Is,y=E.Es})),!s.isEqual(Ie.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(E)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function x2(n,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let h=Mr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function N2(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function D2(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new gi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function rf(n,e,t){const s=Se(n),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Mo(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Ny(n,e,t){const s=Se(n);let o=Ie.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,E){const S=Se(p),P=S.cs.get(E);return P!==void 0?Q.resolve(S.us.get(P)):S.Gr.getTargetData(y,E)}(s,h,or(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:ke())).next(f=>(b2(s,ER(e),f),{documents:f,ds:l})))}function b2(n,e,t){let s=n.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.ls.set(e,s)}class Dy{constructor(){this.activeTargetIds=RR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(){this._o=new Dy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Dy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function xd(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class j2 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const f=xd(),p=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(E=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,E),E),E=>{throw So("RestConnection",`RPC '${t}' ${f} failed with error: `,E,"url: ",p,"request:",o),E})}ko(t,s,o,l,h,f){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=V2[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=xd();return new Promise((h,f)=>{const p=new d_;p.setWithCredentials(!0),p.listenOnce(f_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qu.NO_ERROR:const E=p.getResponseJson();ae(jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Qu.TIMEOUT:ae(jt,`RPC '${e}' ${l} timed out`),f(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const S=p.getStatus();if(ae(jt,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const O=P==null?void 0:P.error;if(O&&O.status&&O.message){const M=function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN}(O.status);f(new ve(M,O.message))}else f(new ve(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(jt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(jt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)})}qo(e,t,s){const o=xd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=g_(),f=m_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");ae(jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);let P=!1,O=!1;const M=new M2({Eo:L=>{O?ae(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(P||(ae(jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),P=!0),ae(jt,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Ao:()=>S.close()}),z=(L,q,H)=>{L.listen(q,G=>{try{H(G)}catch(te){setTimeout(()=>{throw te},0)}})};return z(S,ja.EventType.OPEN,()=>{O||(ae(jt,`RPC '${e}' stream ${o} transport opened.`),M.So())}),z(S,ja.EventType.CLOSE,()=>{O||(O=!0,ae(jt,`RPC '${e}' stream ${o} transport closed`),M.Do())}),z(S,ja.EventType.ERROR,L=>{O||(O=!0,So(jt,`RPC '${e}' stream ${o} transport errored:`,L),M.Do(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),z(S,ja.EventType.MESSAGE,L=>{var q;if(!O){const H=L.data[0];Be(!!H);const G=H,te=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(te){ae(jt,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let fe=function(C){const x=ct[C];if(x!==void 0)return z_(x)}(de),k=te.message;fe===void 0&&(fe=ee.INTERNAL,k="Unknown error status: "+de+" with message "+te.message),O=!0,M.Do(new ve(fe,k)),S.close()}else ae(jt,`RPC '${e}' stream ${o} received:`,H),M.vo(H)}}),z(f,p_.STAT_EVENT,L=>{L.stat===Kd.PROXY?ae(jt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Kd.NOPROXY&&ae(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){return new WR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,s,o,l,h,f,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new e0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ve(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F2 extends t0{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=GR(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?ar(h.readTime):Ie.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=nf(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=Xd(p)?{documents:XR(l,p)}:{query:JR(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=H_(l,h.resumeToken);const y=Zd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=gc(l,h.snapshotVersion.toTimestamp());const y=Zd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=e2(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=nf(this.serializer),t.removeTarget=e,this.c_(t)}}class U2 extends t0{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=YR(e.writeResults,e.commitTime),s=ar(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=nf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>QR(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,ef(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ee.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,ef(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ee.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class B2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Vr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Es(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await ml(y),y.K_.set("Unknown"),y.k_.delete(4),await Mc(y)}(this))})}),this.K_=new B2(s,o)}}async function Mc(n){if(Es(n))for(const e of n.q_)await e(!0)}async function ml(n){for(const e of n.q_)await e(!1)}function n0(n,e){const t=Se(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Yf(t)?Qf(t):jo(t).s_()&&Gf(t,e))}function Kf(n,e){const t=Se(n),s=jo(t);t.B_.delete(e),s.s_()&&r0(t,e),t.B_.size===0&&(s.s_()?s.a_():Es(t)&&t.K_.set("Unknown"))}function Gf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(n).V_(e)}function r0(n,e){n.U_.xe(e),jo(n).m_(e)}function Qf(n){n.U_=new zR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),jo(n).start(),n.K_.F_()}function Yf(n){return Es(n)&&!jo(n).i_()&&n.B_.size>0}function Es(n){return Se(n).k_.size===0}function i0(n){n.U_=void 0}async function H2(n){n.K_.set("Online")}async function W2(n){n.B_.forEach((e,t)=>{Gf(n,e)})}async function q2(n,e){i0(n),Yf(n)?(n.K_.O_(e),Qf(n)):n.K_.set("Unknown")}async function K2(n,e,t){if(n.K_.set("Online"),e instanceof $_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vc(n,s)}else if(e instanceof Zu?n.U_.$e(e):e instanceof B_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const s=await Z_(n.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.B_.get(y);E&&l.B_.set(y,E.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const E=l.B_.get(p);if(!E)return;l.B_.set(p,E.withResumeToken(bt.EMPTY_BYTE_STRING,E.snapshotVersion)),r0(l,p);const S=new gi(E.target,p,y,E.sequenceNumber);Gf(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await vc(n,s)}}async function vc(n,e,t){if(!Mo(e))throw e;n.k_.add(1),await ml(n),n.K_.set("Offline"),t||(t=()=>Z_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Mc(n)})}function s0(n,e){return e().catch(t=>vc(n,t,e))}async function jc(n){const e=Se(n),t=Ri(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;G2(e);)try{const o=await N2(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,Q2(e,o)}catch(o){await vc(e,o)}o0(e)&&a0(e)}function G2(n){return Es(n)&&n.L_.length<10}function Q2(n,e){n.L_.push(e);const t=Ri(n);t.s_()&&t.f_&&t.g_(e.mutations)}function o0(n){return Es(n)&&!Ri(n).i_()&&n.L_.length>0}function a0(n){Ri(n).start()}async function Y2(n){Ri(n).w_()}async function X2(n){const e=Ri(n);for(const t of n.L_)e.g_(t.mutations)}async function J2(n,e,t){const s=n.L_.shift(),o=zf.from(s,e,t);await s0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await jc(n)}async function Z2(n,e){e&&Ri(n).f_&&await async function(s,o){if(function(h){return jR(h)&&h!==ee.ABORTED}(o.code)){const l=s.L_.shift();Ri(s).__(),await s0(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await jc(s)}}(n,e),o0(n)&&a0(n)}async function Oy(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=Es(t);t.k_.add(3),await ml(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Mc(t)}async function eP(n,e){const t=Se(n);e?(t.k_.delete(2),await Mc(t)):e||(t.k_.add(2),await ml(t),t.K_.set("Unknown"))}function jo(n){return n.W_||(n.W_=function(t,s,o){const l=Se(t);return l.b_(),new F2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:H2.bind(null,n),mo:W2.bind(null,n),po:q2.bind(null,n),R_:K2.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Yf(n)?Qf(n):n.K_.set("Unknown")):(await n.W_.stop(),i0(n))})),n.W_}function Ri(n){return n.G_||(n.G_=function(t,s,o){const l=Se(t);return l.b_(),new U2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Y2.bind(null,n),po:Z2.bind(null,n),p_:X2.bind(null,n),y_:J2.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await jc(n)):(await n.G_.stop(),n.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Xf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jf(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),Mo(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Fa(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.z_=new nt(_e.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new ko(e,t,To.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class nP{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Se(t),l=o.queries;o.queries=Vy(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(s)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function Vy(){return new vs(n=>A_(n),Nc)}async function rP(n,e){const t=Se(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new tP,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Jf(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Zf(t)}async function iP(n,e){const t=Se(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function sP(n,e){const t=Se(n);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&Zf(t)}function oP(n,e,t){const s=Se(n),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function Zf(n){n.X_.forEach(e=>{e.next()})}var sf,My;(My=sf||(sf={})).na="default",My.Cache="cache";class aP{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class lP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=k_(e),this.ma=new To(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Ly,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const P=o.get(E),O=Dc(this.query,S)?S:null,M=!!P&&this.mutatedKeys.has(P.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;P&&O?P.data.isEqual(O.data)?M!==z&&(s.track({type:3,doc:O}),L=!0):this.ya(P,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.Va(O,p)>0||y&&this.Va(O,y)<0)&&(f=!0)):!P&&O?(s.track({type:0,doc:O}),L=!0):P&&!O&&(s.track({type:1,doc:P}),L=!0,(p||y)&&(f=!0)),L&&(O?(h=h.add(O),l=z?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,S)=>function(O,M){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return z(O)-z(M)}(E.type,S.type)||this.Va(E.doc,S.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new ko(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ly,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new u0(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new l0(s))}),t}va(e){this.da=e.ds,this.Ra=ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class cP{constructor(e){this.key=e,this.Fa=!1}}class hP{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new vs(f=>A_(f),Nc),this.Oa=new Map,this.Na=new Set,this.La=new nt(_e.comparator),this.Ba=new Map,this.ka=new Hf,this.qa={},this.Qa=new Map,this.Ka=Ao.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dP(n,e,t=!0){const s=m0(n);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await c0(s,e,t,!0),o}async function fP(n,e){const t=m0(n);await c0(t,e,!0,!1)}async function c0(n,e,t,s){const o=await D2(n.localStore,or(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await pP(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&n0(n.remoteStore,o),f}async function pP(n,e,t,s,o){n.Ua=(S,P,O)=>async function(z,L,q,H){let G=L.view.ga(q);G.ss&&(G=await Ny(z.localStore,L.query,!1).then(({documents:k})=>L.view.ga(k,G)));const te=H&&H.targetChanges.get(L.targetId),de=H&&H.targetMismatches.get(L.targetId)!=null,fe=L.view.applyChanges(G,z.isPrimaryClient,te,de);return Fy(z,L.targetId,fe.ba),fe.snapshot}(n,S,P,O);const l=await Ny(n.localStore,e,!0),h=new lP(e,l.ds),f=h.ga(l.documents),p=pl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,p);Fy(n,t,y.ba);const E=new uP(e,t,h);return n.xa.set(e,E),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function mP(n,e,t){const s=Se(n),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!Nc(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Kf(s.remoteStore,o.targetId),of(s,o.targetId)}).catch(Vo)):(of(s,o.targetId),await rf(s.localStore,o.targetId,!0))}async function gP(n,e){const t=Se(n),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Kf(t.remoteStore,s.targetId))}async function yP(n,e,t){const s=SP(n);try{const o=await function(h,f){const p=Se(h),y=_t.now(),E=f.reduce((O,M)=>O.add(M.key),ke());let S,P;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=Mr(),z=ke();return p.hs.getEntries(O,E).next(L=>{M=L,M.forEach((q,H)=>{H.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,M)).next(L=>{S=L;const q=[];for(const H of f){const G=bR(H,S.get(H.key).overlayedDocument);G!=null&&q.push(new _s(H.key,G,w_(G.value.mapValue),br.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,q,f)}).next(L=>{P=L;const q=L.applyToLocalDocumentSet(S,z);return p.documentOverlayCache.saveOverlays(O,L.batchId,q)})}).then(()=>({batchId:P.batchId,changes:N_(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new nt(Ne)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await gl(s,o.changes),await jc(s.remoteStore)}catch(o){const l=Jf(o,"Failed to persist write");t.reject(l)}}async function h0(n,e){const t=Se(n);try{const s=await k2(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Be(h.Fa):o.removedDocuments.size>0&&(Be(h.Fa),h.Fa=!1))}),await gl(t,s,e)}catch(s){await Vo(s)}}function jy(n,e,t){const s=Se(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Se(h);p.onlineState=f;let y=!1;p.queries.forEach((E,S)=>{for(const P of S.J_)P.ea(f)&&(y=!0)}),y&&Zf(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vP(n,e,t){const s=Se(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new nt(_e.comparator);h=h.insert(l,Ut.newNoDocument(l,Ie.min()));const f=ke().add(l),p=new Lc(Ie.min(),new Map,new nt(Ne),h,f);await h0(s,p),s.La=s.La.remove(l),s.Ba.delete(e),ep(s)}else await rf(s.localStore,e,!1).then(()=>of(s,e,t)).catch(Vo)}async function _P(n,e){const t=Se(n),s=e.batch.batchId;try{const o=await A2(t.localStore,e);f0(t,s,null),d0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gl(t,o)}catch(o){await Vo(o)}}async function EP(n,e,t){const s=Se(n);try{const o=await function(h,f){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,f).next(S=>(Be(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);f0(s,e,t),d0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gl(s,o)}catch(o){await Vo(o)}}function d0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function f0(n,e,t){const s=Se(n);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function of(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Oa.get(e))n.xa.delete(s),t&&n.Ma.Wa(s,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(s=>{n.ka.containsKey(s)||p0(n,s)})}function p0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Kf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),ep(n))}function Fy(n,e,t){for(const s of t)s instanceof l0?(n.ka.addReference(s.key,e),wP(n,s)):s instanceof u0?(ae("SyncEngine","Document no longer in limbo: "+s.key),n.ka.removeReference(s.key,e),n.ka.containsKey(s.key)||p0(n,s.key)):Te()}function wP(n,e){const t=e.key,s=t.path.canonicalString();n.La.get(t)||n.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(s),ep(n))}function ep(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e(it.fromString(e)),s=n.Ka.next();n.Ba.set(s,new cP(t)),n.La=n.La.insert(t,s),n0(n.remoteStore,new gi(or(Ff(t.path)),s,"TargetPurposeLimboResolution",Pc.oe))}}async function gl(n,e,t){const s=Se(n),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,p)=>{h.push(s.Ua(p,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=qf.zi(p.targetId,y);l.push(S)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,y){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(y,P=>Q.forEach(P.Wi,O=>E.persistence.referenceDelegate.addReference(S,P.targetId,O)).next(()=>Q.forEach(P.Gi,O=>E.persistence.referenceDelegate.removeReference(S,P.targetId,O)))))}catch(S){if(!Mo(S))throw S;ae("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const P=S.targetId;if(!S.fromCache){const O=E.us.get(P),M=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(M);E.us=E.us.insert(P,z)}}}(s.localStore,l))}async function TP(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await J_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ve(ee.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gl(t,s.Ts)}}function IP(n,e){const t=Se(n),s=t.Ba.get(e);if(s&&s.Fa)return ke().add(s.key);{let o=ke();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function m0(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vP.bind(null,e),e.Ma.R_=sP.bind(null,e.eventManager),e.Ma.Wa=oP.bind(null,e.eventManager),e}function SP(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_P.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EP.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return P2(this.persistence,new C2,e.initialUser,this.serializer)}ja(e){return new X_(Wf.ei,this.serializer)}za(e){return new O2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class CP extends _c{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof yc);const s=this.persistence.referenceDelegate.garbageCollector;return new c2(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new X_(s=>yc.ei(s,t),this.serializer)}}class af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TP.bind(null,this.syncEngine),await eP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nP}()}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),s=function(l){return new j2(l)}(e.databaseInfo);return function(l,h,f,p){return new z2(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new $2(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>jy(this.syncEngine,t,0),function(){return by.p()?new by:new L2}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,E){const S=new hP(o,l,h,f,p,y);return E&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await ml(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}af.provider={build:()=>new af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dd(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await J_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Uy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AP(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>Oy(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>Oy(e.remoteStore,o)),n._onlineComponents=e}async function AP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await Dd(n,new _c)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Dd(n,new CP(void 0));return n._offlineComponents}async function g0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Uy(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Uy(n,new af))),n._onlineComponents}function kP(n){return g0(n).then(e=>e.syncEngine)}async function xP(n){const e=await g0(n),t=e.eventManager;return t.onListen=dP.bind(null,e.syncEngine),t.onUnlisten=mP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gP.bind(null,e.syncEngine),t}function NP(n,e,t={}){const s=new Ei;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const E=new RP({next:P=>{E.eu(),h.enqueueAndForget(()=>iP(l,S));const O=P.docs.has(f);!O&&P.fromCache?y.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&P.fromCache&&p&&p.source==="server"?y.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(P)},error:P=>y.reject(P)}),S=new aP(Ff(f.path),E,{includeMetadataChanges:!0,ua:!0});return rP(l,S)}(await xP(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bP(n,e,t,s){if(e===!0&&s===!0)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function By(n){if(!_e.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function nl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tp(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class np{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new FC;switch(s.type){case"firstParty":return new $C(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=zy.get(t);s&&(ae("ComponentProvider","Removing Datastore"),zy.delete(t),s.terminate())}(this),Promise.resolve()}}function OP(n,e,t,s={}){var o;const l=(n=nl(n,np))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=Ft.MOCK_USER;else{f=tT(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ft(y)}n._authCredentials=new UC(new y_(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class In{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class rl extends rp{constructor(e,t,s){super(e,t,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new _e(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function v0(n,e,...t){if(n=zn(n),arguments.length===1&&(e=v_.newId()),DP("doc","path",e),n instanceof np){const s=it.fromString(e,...t);return By(s),new In(n,null,new _e(s))}{if(!(n instanceof In||n instanceof rl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return By(s),new In(n.firestore,n instanceof rl?n.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new e0(this,"async_queue_retry"),this.fu=()=>{const s=Nd();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Nd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Nd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ei;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Mo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Vr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Xf.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ip extends np{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Hy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function LP(n,e){const t=typeof n=="object"?n:Pv(),s=typeof n=="string"?n:"(default)",o=Sf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Zw("firestore");l&&OP(o,...l)}return o}function _0(n){if(n._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VP(n),n._firestoreClient}function VP(n){var e,t,s;const o=n._freezeSettings(),l=function(f,p,y,E){return new iR(f,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,y0(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new PP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(bt.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=/^__.*__$/;class jP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new fl(e,this.data,t,this.fieldTransforms)}}function w0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class lp{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ec(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(w0(this.Mu)&&MP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class FP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Vc(e)}$u(e,t,s,o=!1){return new lp({Mu:e,methodName:t,Ku:s,path:Dt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UP(n){const e=n._freezeSettings(),t=Vc(n._databaseId);return new FP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zP(n,e,t,s,o,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,o);C0("Data must be an object, but it was:",h,s);const f=I0(s,h);let p,y;if(l.merge)p=new Un(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const S of l.mergeFields){const P=BP(e,S,t);if(!h.contains(P))throw new ve(ee.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);HP(E,P)||E.push(P)}p=new Un(E),y=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=h.fieldTransforms;return new jP(new Tn(f),p,y)}function T0(n,e){if(S0(n=zn(n)))return C0("Unsupported field value:",e,n),I0(n,e);if(n instanceof E0)return function(s,o){if(!w0(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let p=T0(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=zn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=_t.fromDate(s);return{timestampValue:gc(o.serializer,l)}}if(s instanceof _t){const l=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(s instanceof op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xo)return{bytesValue:H_(o.serializer,s._byteString)};if(s instanceof In){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$f(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ap)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Uf(f.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${tp(s)}`)}(n,e)}function I0(n,e){const t={};return __(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(n,(s,o)=>{const l=T0(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function S0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof op||n instanceof xo||n instanceof In||n instanceof E0||n instanceof ap)}function C0(n,e,t){if(!S0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=tp(t);throw s==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+s)}}function BP(n,e,t){if((e=zn(e))instanceof sp)return e._internalPath;if(typeof e=="string")return R0(n,e);throw Ec("Field path arguments must be of type string or ",n,!1,void 0,t)}const $P=new RegExp("[~\\*/\\[\\]]");function R0(n,e,t){if(e.search($P)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sp(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ec(n,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ve(ee.INVALID_ARGUMENT,f+n+p)}function HP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(A0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WP extends P0{data(){return super.data()}}function A0(n,e){return typeof e=="string"?R0(n,e):e instanceof sp?e._internalPath:e._delegate._internalPath}class qP{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ys(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new ap(l)}convertGeoPoint(e){return new op(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Be(Y_(s));const o=new Ja(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return o.isEqual(t)||Vr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k0 extends P0{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(A0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class QP extends k0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n){n=nl(n,In);const e=nl(n.firestore,ip);return NP(_0(e),n._key).then(t=>eA(e,n,t))}class XP extends qP{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function JP(n,e,t){n=nl(n,In);const s=nl(n.firestore,ip),o=KP(n.converter,e);return ZP(s,[zP(UP(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,br.none())])}function ZP(n,e){return function(s,o){const l=new Ei;return s.asyncQueue.enqueueAndForget(async()=>yP(await kP(s),o,l)),l.promise}(_0(n),e)}function eA(n,e,t){const s=t.docs.get(e._key),o=new XP(n);return new k0(n,o,e._key,s,new GP(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Lo=o})(bo),Io(new ls("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new ip(new zC(s.getProvider("auth-internal")),new WC(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),_i(ly,"4.7.5",e),_i(ly,"4.7.5","esm2017")})();const tA={apiKey:"AIzaSyDoKYZgc0l86-HfSJWzGLDka33vck3MGlM",authDomain:"login-7f0d3.firebaseapp.com",projectId:"login-7f0d3",storageBucket:"login-7f0d3.firebasestorage.app",messagingSenderId:"473202580729",appId:"1:473202580729:web:cdcfc5e68fc131f5b59628"},nA=Rv(tA),ds=MC(),x0=LP(nA),rA=()=>{const[n,e]=$.useState("shop"),{getTotalCartItems:t}=$.useContext(ms),[s,o]=$.useState();return $.useEffect(()=>{ds.onAuthStateChanged(l=>{o(l)})}),w.jsxs("div",{className:"navbar",children:[w.jsxs("div",{className:"logo",children:[w.jsx("img",{src:uv}),w.jsx("p",{children:"Shopify"})]}),w.jsxs("ul",{className:"nav-menu",children:[w.jsxs("li",{onClick:()=>{e("shop")},children:[w.jsx(cn,{to:"/",className:"link",children:" Shop "}),n==="shop"?w.jsx("hr",{}):w.jsx(w.Fragment,{})]}),w.jsxs("li",{onClick:()=>{e("men")},children:[w.jsx(cn,{to:"/men",className:"link",children:" Men "})," ",n==="men"?w.jsx("hr",{}):w.jsx(w.Fragment,{})]}),w.jsxs("li",{onClick:()=>{e("women")},children:[w.jsx(cn,{to:"/women",className:"link",children:" Women"})," ",n==="women"?w.jsx("hr",{}):w.jsx(w.Fragment,{})]}),w.jsxs("li",{onClick:()=>{e("kids")},children:[w.jsx(cn,{to:"/kids",className:"link",children:" Kids "})," ",n==="kids"?w.jsx("hr",{}):w.jsx(w.Fragment,{})]})]}),w.jsxs("div",{className:"buttons",children:[s?w.jsx(cn,{to:"/profile",className:"link",children:w.jsx("button",{children:"Logout"})}):w.jsx(cn,{to:"/login",className:"link",children:w.jsx("button",{children:"Login"})}),w.jsxs(cn,{to:"/cart",className:"link",children:[w.jsx(iE,{className:"cart"})," "]}),w.jsx("div",{className:"counter",children:t()})]})]})};function iA(n){return $n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(n)}function sA(n){return $n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 16l0 64c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64c0-8.8 7.2-16 16-16s16 7.2 16 16zm-98.7 7.1l32 48c4.9 7.4 2.9 17.3-4.4 22.2s-17.3 2.9-22.2-4.4l-32-48c-4.9-7.4-2.9-17.3 4.4-22.2s17.3-2.9 22.2 4.4zM135 119c9.4-9.4 24.6-9.4 33.9 0L292.7 242.7c10.1 10.1 27.3 2.9 27.3-11.3l0-39.4c0-17.7 14.3-32 32-32s32 14.3 32 32l0 153.6c0 57.1-30 110-78.9 139.4c-64 38.4-145.8 28.3-198.5-24.4L7 361c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l53 53c6.1 6.1 16 6.1 22.1 0s6.1-16 0-22.1L23 265c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l93 93c6.1 6.1 16 6.1 22.1 0s6.1-16 0-22.1L55 185c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l117 117c6.1 6.1 16 6.1 22.1 0s6.1-16 0-22.1l-93-93c-9.4-9.4-9.4-24.6 0-33.9zM433.1 484.9c-24.2 14.5-50.9 22.1-77.7 23.1c48.1-39.6 76.6-99 76.6-162.4l0-98.1c8.2-.1 16-6.4 16-16l0-39.4c0-17.7 14.3-32 32-32s32 14.3 32 32l0 153.6c0 57.1-30 110-78.9 139.4zM424.9 18.7c7.4 4.9 9.3 14.8 4.4 22.2l-32 48c-4.9 7.4-14.8 9.3-22.2 4.4s-9.3-14.8-4.4-22.2l32-48c4.9-7.4 14.8-9.3 22.2-4.4z"},child:[]}]})(n)}const oA="/Ecommerce-Website2/assets/hero3-Dmd98jIr.avif",aA=()=>w.jsxs("div",{className:"hero",children:[w.jsxs("div",{className:"hero-left",children:[w.jsx("h2",{children:"New Arrivals Only"}),w.jsxs("div",{children:[w.jsxs("div",{className:"hands",children:[w.jsx("p",{children:"New"}),w.jsx(sA,{className:"hand-icon"})]}),w.jsx("p",{children:"Collections"}),w.jsx("p",{children:"for Everyone"})]}),w.jsxs("div",{className:"latest",children:[w.jsx("div",{children:"Latest Collection"}),w.jsx(iA,{})]})]}),w.jsx("div",{className:"hero-right",children:w.jsx("img",{src:oA})})]});let N0=[{id:1,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:Ef,new_price:50,old_price:80.5},{id:2,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:wf,new_price:50,old_price:80.5},{id:3,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:pv,new_price:50,old_price:80.5},{id:4,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:mv,new_price:50,old_price:80.5}];const Fc=n=>w.jsxs("div",{className:"item",children:[w.jsx(cn,{to:`/product/${n.id}`,children:w.jsx("img",{onClick:window.scrollTo(0,0),src:n.image})}),w.jsx("p",{children:n.name}),w.jsxs("div",{className:"item-prices",children:[w.jsxs("div",{className:"item-new",children:["$",n.new_price]}),w.jsxs("div",{className:"item-old",children:["$",n.old_price]})]})]}),lA=()=>w.jsxs("div",{className:"popular",children:[w.jsx("h1",{children:"Popular in Women"}),w.jsx("hr",{}),w.jsx("div",{className:"popular_item",children:N0.map((n,e)=>w.jsx(Fc,{id:n.id,name:n.name,image:n.image,new_price:n.new_price,old_price:n.old_price},e))})]}),uA="/Ecommerce-Website2/assets/hero2-DR5XXvNc.jpg",cA=()=>w.jsxs("div",{className:"offer",children:[w.jsxs("div",{className:"offer-left",children:[w.jsx("h1",{children:"Exclusive"}),w.jsx("h1",{children:"Offers For You"}),w.jsx("p",{children:"Only On Best Seller Products"}),w.jsx("button",{children:"Check Now"})]}),w.jsx("div",{className:"offer-right",children:w.jsx("img",{src:uA})})]});let hA=[{id:1,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:Ef,new_price:50,old_price:80.5},{id:2,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:wf,new_price:50,old_price:80.5},{id:3,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:cv,new_price:40,old_price:70.5},{id:4,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:hv,new_price:50,old_price:80.5},{id:5,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:dv,new_price:50,old_price:80.5},{id:6,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:gv,new_price:50,old_price:80.5},{id:7,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:fv,new_price:50,old_price:80.5},{id:8,name:"Stripped Flutter Sleeve Overlap Collar Peplum",image:yv,new_price:50,old_price:80.5}];const dA=()=>w.jsxs("div",{className:"new-collection",children:[w.jsx("h1",{children:"New Collection"}),w.jsx("hr",{}),w.jsx("div",{className:"collections",children:hA.map((n,e)=>w.jsx(Fc,{id:n.id,name:n.name,image:n.image,new_price:n.new_price,old_price:n.old_price},e))})]}),fA=()=>w.jsxs("div",{className:"newsletter",children:[w.jsx("h1",{children:"Get Exclusive Offers on Your Email"}),w.jsx("p",{children:"Subscribe to our Newsletter and Stay Updated"}),w.jsxs("div",{children:[w.jsx("input",{type:"email",placeholder:"Your Email Id"}),w.jsx("button",{children:"Subscribe"})]})]}),pA=()=>w.jsxs("div",{children:[w.jsx(aA,{}),w.jsx(lA,{}),w.jsx(cA,{}),w.jsx(dA,{}),w.jsx(fA,{})]});function mA(n){return $n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M147.6 210.7c-7.5 7.5-7.5 19.8 0 27.3l95.7 95.4c7.3 7.3 19.1 7.5 26.6.6l94.3-94c3.8-3.8 5.7-8.7 5.7-13.7 0-4.9-1.9-9.9-5.6-13.6-7.5-7.5-19.7-7.6-27.3 0l-81 79.8-81.1-81.9c-7.5-7.5-19.7-7.5-27.3.1z"},child:[]},{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm332.4-124.4C413.7 164.8 432 209 432 256s-18.3 91.2-51.6 124.4C347.2 413.7 303 432 256 432s-91.2-18.3-124.4-51.6C98.3 347.2 80 303 80 256s18.3-91.2 51.6-124.4C164.8 98.3 209 80 256 80s91.2 18.3 124.4 51.6z"},child:[]}]})(n)}const bd=n=>{const{allProduct:e}=$.useContext(ms);return w.jsxs("div",{className:"shop-category",children:[w.jsx("img",{src:n.banner}),w.jsxs("div",{className:"shopcategory-index",children:[w.jsxs("p",{children:[w.jsx("span",{children:"Showing 1-12"})," out of 36 products"]}),w.jsxs("div",{className:"shop-category",children:["Sort by ",w.jsx(mA,{})]})]}),w.jsx("div",{className:"shop-products",children:e.map((t,s)=>n.category===t.category?w.jsx(Fc,{id:t.id,name:t.name,image:t.image,new_price:t.new_price,old_price:t.old_price},s):null)}),w.jsx("div",{className:"loadmore",children:"Explore More"})]})};function D0(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=D0(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function as(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=D0(n))&&(s&&(s+=" "),s+=e);return s}function gA(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}gA(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yl=n=>typeof n=="number"&&!isNaN(n),fs=n=>typeof n=="string",jr=n=>typeof n=="function",yA=n=>fs(n)||yl(n),lf=n=>fs(n)||jr(n)?n:null,vA=(n,e)=>n===!1||yl(n)&&n>0?n:e,uf=n=>$.isValidElement(n)||fs(n)||jr(n)||yl(n);function _A(n,e,t=300){let{scrollHeight:s,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function EA({enter:n,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:h,preventExitTransition:f,done:p,nodeRef:y,isIn:E,playToast:S}){let P=t?`${n}--${h}`:n,O=t?`${e}--${h}`:e,M=$.useRef(0);return $.useLayoutEffect(()=>{let z=y.current,L=P.split(" "),q=H=>{H.target===y.current&&(S(),z.removeEventListener("animationend",q),z.removeEventListener("animationcancel",q),M.current===0&&H.type!=="animationcancel"&&z.classList.remove(...L))};z.classList.add(...L),z.addEventListener("animationend",q),z.addEventListener("animationcancel",q)},[]),$.useEffect(()=>{let z=y.current,L=()=>{z.removeEventListener("animationend",L),s?_A(z,p,o):p()};E||(f?L():(M.current=1,z.className+=` ${O}`,z.addEventListener("animationend",L)))},[E]),Fe.createElement(Fe.Fragment,null,l)}}function Wy(n,e){return{content:b0(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function b0(n,e,t=!1){return $.isValidElement(n)&&!fs(n.type)?$.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):jr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function wA({closeToast:n,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function TA({delay:n,isRunning:e,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:h,progress:f,rtl:p,isIn:y,theme:E}){let S=o||h&&f===0,P={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};h&&(P.transform=`scaleX(${f})`);let O=as("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),M=jr(l)?l({rtl:p,type:s,defaultClassName:O}):as(O,l),z={[h&&f>=1?"onTransitionEnd":"onAnimationEnd"]:h&&f<1?null:()=>{y&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:M,style:P,...z}))}var IA=1,O0=()=>`${IA++}`;function SA(n,e,t){let s=1,o=0,l=[],h=[],f=e,p=new Map,y=new Set,E=H=>(y.add(H),()=>y.delete(H)),S=()=>{h=Array.from(p.values()),y.forEach(H=>H())},P=({containerId:H,toastId:G,updateId:te})=>{let de=H?H!==n:n!==1,fe=p.has(G)&&te==null;return de||fe},O=(H,G)=>{p.forEach(te=>{var de;(G==null||G===te.props.toastId)&&((de=te.toggle)==null||de.call(te,H))})},M=H=>{var G,te;(te=(G=H.props)==null?void 0:G.onClose)==null||te.call(G,H.removalReason),H.isActive=!1},z=H=>{if(H==null)p.forEach(M);else{let G=p.get(H);G&&M(G)}S()},L=()=>{o-=l.length,l=[]},q=H=>{var G,te;let{toastId:de,updateId:fe}=H.props,k=fe==null;H.staleId&&p.delete(H.staleId),H.isActive=!0,p.set(de,H),S(),t(Wy(H,k?"added":"updated")),k&&((te=(G=H.props).onOpen)==null||te.call(G))};return{id:n,props:f,observe:E,toggle:O,removeToast:z,toasts:p,clearQueue:L,buildToast:(H,G)=>{if(P(G))return;let{toastId:te,updateId:de,data:fe,staleId:k,delay:I}=G,C=de==null;C&&o++;let x={...f,style:f.toastStyle,key:s++,...Object.fromEntries(Object.entries(G).filter(([V,A])=>A!=null)),toastId:te,updateId:de,data:fe,isIn:!1,className:lf(G.className||f.toastClassName),progressClassName:lf(G.progressClassName||f.progressClassName),autoClose:G.isLoading?!1:vA(G.autoClose,f.autoClose),closeToast(V){p.get(te).removalReason=V,z(te)},deleteToast(){let V=p.get(te);if(V!=null){if(t(Wy(V,"removed")),p.delete(te),o--,o<0&&(o=0),l.length>0){q(l.shift());return}S()}}};x.closeButton=f.closeButton,G.closeButton===!1||uf(G.closeButton)?x.closeButton=G.closeButton:G.closeButton===!0&&(x.closeButton=uf(f.closeButton)?f.closeButton:!0);let D={content:H,props:x,staleId:k};f.limit&&f.limit>0&&o>f.limit&&C?l.push(D):yl(I)?setTimeout(()=>{q(D)},I):q(D)},setProps(H){f=H},setToggle:(H,G)=>{let te=p.get(H);te&&(te.toggle=G)},isToastActive:H=>{var G;return(G=p.get(H))==null?void 0:G.isActive},getSnapshot:()=>h}}var qt=new Map,il=[],cf=new Set,CA=n=>cf.forEach(e=>e(n)),L0=()=>qt.size>0;function RA(){il.forEach(n=>M0(n.content,n.options)),il=[]}var PA=(n,{containerId:e})=>{var t;return(t=qt.get(e||1))==null?void 0:t.toasts.get(n)};function V0(n,e){var t;if(e)return!!((t=qt.get(e))!=null&&t.isToastActive(n));let s=!1;return qt.forEach(o=>{o.isToastActive(n)&&(s=!0)}),s}function AA(n){if(!L0()){il=il.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||yA(n))qt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=qt.get(n.containerId);e?e.removeToast(n.id):qt.forEach(t=>{t.removeToast(n.id)})}}var kA=(n={})=>{qt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function M0(n,e){uf(n)&&(L0()||il.push({content:n,options:e}),qt.forEach(t=>{t.buildToast(n,e)}))}function xA(n){var e;(e=qt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function j0(n,e){qt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function NA(n){let e=n.containerId||1;return{subscribe(t){let s=SA(e,n,CA);qt.set(e,s);let o=s.observe(t);return RA(),()=>{o(),qt.delete(e)}},setProps(t){var s;(s=qt.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=qt.get(e))==null?void 0:t.getSnapshot()}}}function DA(n){return cf.add(n),()=>{cf.delete(n)}}function bA(n){return n&&(fs(n.toastId)||yl(n.toastId))?n.toastId:O0()}function vl(n,e){return M0(n,e),e.toastId}function Uc(n,e){return{...e,type:e&&e.type||n,toastId:bA(e)}}function zc(n){return(e,t)=>vl(e,Uc(n,t))}function De(n,e){return vl(n,Uc("default",e))}De.loading=(n,e)=>vl(n,Uc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function OA(n,{pending:e,error:t,success:s},o){let l;e&&(l=fs(e)?De.loading(e,o):De.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(y,E,S)=>{if(E==null){De.dismiss(l);return}let P={type:y,...h,...o,data:S},O=fs(E)?{render:E}:E;return l?De.update(l,{...P,...O}):De(O.render,{...P,...O}),S},p=jr(n)?n():n;return p.then(y=>f("success",s,y)).catch(y=>f("error",t,y)),p}De.promise=OA;De.success=zc("success");De.info=zc("info");De.error=zc("error");De.warning=zc("warning");De.warn=De.warning;De.dark=(n,e)=>vl(n,Uc("default",{theme:"dark",...e}));function LA(n){AA(n)}De.dismiss=LA;De.clearWaitingQueue=kA;De.isActive=V0;De.update=(n,e={})=>{let t=PA(n,e);if(t){let{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||n,updateId:O0()};l.toastId!==n&&(l.staleId=n);let h=l.render||o;delete l.render,vl(h,l)}};De.done=n=>{De.update(n,{progress:1})};De.onChange=DA;De.play=n=>j0(!0,n);De.pause=n=>j0(!1,n);function VA(n){var e;let{subscribe:t,getSnapshot:s,setProps:o}=$.useRef(NA(n)).current;o(n);let l=(e=$.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function h(f){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:E}=y.props;p.has(E)||p.set(E,[]),p.get(E).push(y)}),Array.from(p,y=>f(y[0],y[1]))}return{getToastToRender:h,isToastActive:V0,count:l==null?void 0:l.length}}function MA(n){let[e,t]=$.useState(!1),[s,o]=$.useState(!1),l=$.useRef(null),h=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:p,closeToast:y,onClick:E,closeOnClick:S}=n;xA({id:n.toastId,containerId:n.containerId,fn:t}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return P(),()=>{O()}},[n.pauseOnFocusLoss]);function P(){document.hasFocus()||q(),window.addEventListener("focus",L),window.addEventListener("blur",q)}function O(){window.removeEventListener("focus",L),window.removeEventListener("blur",q)}function M(k){if(n.draggable===!0||n.draggable===k.pointerType){H();let I=l.current;h.canCloseOnClick=!0,h.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(h.start=k.clientX,h.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(h.start=k.clientY,h.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(k){let{top:I,bottom:C,left:x,right:D}=l.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&n.pauseOnHover&&k.clientX>=x&&k.clientX<=D&&k.clientY>=I&&k.clientY<=C?q():L()}function L(){t(!0)}function q(){t(!1)}function H(){h.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",de)}function G(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",de)}function te(k){let I=l.current;if(h.canDrag&&I){h.didMove=!0,e&&q(),n.draggableDirection==="x"?h.delta=k.clientX-h.start:h.delta=k.clientY-h.start,h.start!==k.clientX&&(h.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;I.style.transform=`translate3d(${C},0)`,I.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function de(){G();let k=l.current;if(h.canDrag&&h.didMove&&k){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let fe={onPointerDown:M,onPointerUp:z};return f&&p&&(fe.onMouseEnter=q,n.stacked||(fe.onMouseLeave=L)),S&&(fe.onClick=k=>{E&&E(k),h.canCloseOnClick&&y(!0)}),{playToast:L,pauseToast:q,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:fe}}var jA=typeof window<"u"?$.useLayoutEffect:$.useEffect,Bc=({theme:n,type:e,isLoading:t,...s})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function FA(n){return Fe.createElement(Bc,{...n},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function UA(n){return Fe.createElement(Bc,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function zA(n){return Fe.createElement(Bc,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function BA(n){return Fe.createElement(Bc,{...n},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function $A(){return Fe.createElement("div",{className:"Toastify__spinner"})}var hf={info:UA,warning:FA,success:zA,error:BA,spinner:$A},HA=n=>n in hf;function WA({theme:n,type:e,isLoading:t,icon:s}){let o=null,l={theme:n,type:e};return s===!1||(jr(s)?o=s({...l,isLoading:t}):$.isValidElement(s)?o=$.cloneElement(s,l):t?o=hf.spinner():HA(e)&&(o=hf[e](l))),o}var qA=n=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=MA(n),{closeButton:h,children:f,autoClose:p,onClick:y,type:E,hideProgressBar:S,closeToast:P,transition:O,position:M,className:z,style:L,progressClassName:q,updateId:H,role:G,progress:te,rtl:de,toastId:fe,deleteToast:k,isIn:I,isLoading:C,closeOnClick:x,theme:D,ariaLabel:V}=n,A=as("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":de},{"Toastify__toast--close-on-click":x}),Ze=jr(z)?z({rtl:de,position:M,type:E,defaultClassName:A}):as(A,z),ht=WA(n),dt=!!te||!p,Me={closeToast:P,type:E,theme:D},re=null;return h===!1||(jr(h)?re=h(Me):$.isValidElement(h)?re=$.cloneElement(h,Me):re=wA(Me)),Fe.createElement(O,{isIn:I,done:k,position:M,preventExitTransition:t,nodeRef:s,playToast:l},Fe.createElement("div",{id:fe,tabIndex:0,onClick:y,"data-in":I,className:Ze,...o,style:L,ref:s,...I&&{role:G,"aria-label":V}},ht!=null&&Fe.createElement("div",{className:as("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ht),b0(f,n,!e),re,!n.customProgressBar&&Fe.createElement(TA,{...H&&!dt?{key:`p-${H}`}:{},rtl:de,theme:D,delay:p,isRunning:e,isIn:I,closeToast:P,hide:S,type:E,className:q,controlledProgress:dt,progress:te||0})))},KA=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),GA=EA(KA("bounce",!0)),QA={position:"top-right",transition:GA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function YA(n){let e={...QA,...n},t=n.stacked,[s,o]=$.useState(!0),l=$.useRef(null),{getToastToRender:h,isToastActive:f,count:p}=VA(e),{className:y,style:E,rtl:S,containerId:P,hotKeys:O}=e;function M(L){let q=as("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":S});return jr(y)?y({position:L,rtl:S,defaultClassName:q}):as(q,lf(y))}function z(){t&&(o(!0),De.play())}return jA(()=>{var L;if(t){let q=l.current.querySelectorAll('[data-in="true"]'),H=12,G=(L=e.position)==null?void 0:L.includes("top"),te=0,de=0;Array.from(q).reverse().forEach((fe,k)=>{let I=fe;I.classList.add("Toastify__toast--stacked"),k>0&&(I.dataset.collapsed=`${s}`),I.dataset.pos||(I.dataset.pos=G?"top":"bot");let C=te*(s?.2:1)+(s?0:H*k);I.style.setProperty("--y",`${G?C:C*-1}px`),I.style.setProperty("--g",`${H}`),I.style.setProperty("--s",`${1-(s?de:0)}`),te+=I.offsetHeight,de+=.025})}},[s,p,t]),$.useEffect(()=>{function L(q){var H;let G=l.current;O(q)&&((H=G.querySelector('[tabIndex="0"]'))==null||H.focus(),o(!1),De.pause()),q.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),De.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[O]),Fe.createElement("section",{ref:l,className:"Toastify",id:P,onMouseEnter:()=>{t&&(o(!1),De.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((L,q)=>{let H=q.length?{...E}:{...E,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:M(L),"data-stacked":t,style:H,key:`c-${L}`},q.map(({content:G,props:te})=>Fe.createElement(qA,{...te,stacked:t,collapseAll:z,isIn:f(te.toastId,te.containerId),key:`t-${te.key}`},G)))}))}const XA=()=>{const[n,e]=$.useState(""),[t,s]=$.useState(""),o=async l=>{l.preventDefault();try{await SS(ds,n,t),console.log("User Logged in Successfully"),window.location.href="/profile",De.success("User Login Successfully!!",{position:"top-center"})}catch(h){console.log(h.message),De.error(h.message,{position:"bottom-center"})}};return w.jsx("div",{className:"login",children:w.jsxs("div",{className:"login-container",children:[w.jsx("h1",{children:"Login"}),w.jsxs("form",{onSubmit:o,children:[w.jsxs("div",{className:"fields",children:[w.jsx("input",{type:"email",placeholder:"Email Address",required:!0,value:n,onChange:l=>e(l.target.value)}),w.jsx("input",{type:"password",placeholder:"Password",required:!0,value:t,onChange:l=>s(l.target.value)})]}),w.jsx("button",{className:"continue",children:"Login"}),w.jsxs("p",{className:"line",children:["Create an account ",w.jsx(cn,{to:"/signup",children:w.jsx("span",{children:"Sign Up"})})," "]}),w.jsxs("div",{className:"agree",children:[w.jsx("input",{type:"checkbox",name:"",id:"",required:!0}),w.jsx("p",{children:"By continuing, I agree to the terms of use & privacy policy."})]})]})]})})};function JA(n){return $n({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(n)}const ZA=()=>{const{getTotalCartAmount:n,allProduct:e,cartItems:t,removeFromCart:s}=$.useContext(ms);return w.jsxs("div",{className:"cartItems",children:[w.jsxs("div",{className:"format-main",children:[w.jsx("p",{children:"Products"}),w.jsx("p",{children:"Title"}),w.jsx("p",{children:"Price"}),w.jsx("p",{children:"Quantity"}),w.jsx("p",{children:"Total"}),w.jsx("p",{children:"Remove"})]}),w.jsx("hr",{}),e.map(o=>t[o.id]>0?w.jsxs("div",{children:[w.jsxs("div",{className:"cart-items-format format-main",children:[w.jsx("img",{src:o.image,alt:"",className:"carticon"}),w.jsx("p",{children:o.name}),w.jsxs("p",{className:"individual",children:["$",o.new_price]}),w.jsx("button",{className:"quantity",children:t[o.id]}),w.jsxs("p",{className:"total-price",children:["$",o.new_price*t[o.id]]}),w.jsx(JA,{onClick:()=>{s(o.id)},className:"remove-icon"})]}),w.jsx("hr",{})]}):null),w.jsxs("div",{className:"downs",children:[w.jsxs("div",{className:"cart-totals",children:[w.jsx("h1",{children:"Cart Total"}),w.jsxs("div",{children:[w.jsxs("div",{className:"total-itemss",children:[w.jsx("p",{children:"Subtotal"}),w.jsxs("p",{children:["$",n()]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"total-itemss",children:[w.jsx("p",{children:"Shipping Fee"}),w.jsx("p",{children:"Free"})]}),w.jsx("hr",{}),w.jsxs("div",{className:"total-itemss",children:[w.jsx("h3",{children:"Total"}),w.jsxs("h3",{children:["$",n()]})]})]}),w.jsxs("button",{children:[" ",w.jsx(cn,{to:"/checkout",className:"checkoutt",children:"Proceed to Checkout"})," "]})]}),w.jsxs("div",{className:"promocode",children:[w.jsx("p",{children:"If you have a promo code, Enter it here"}),w.jsxs("div",{className:"promo-box",children:[w.jsx("input",{type:"text",placeholder:"Promo Code"}),w.jsx("button",{children:"Submit"})]})]})]})]})},ek=()=>w.jsx("div",{children:w.jsx(ZA,{})});function tk(n){return $n({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function Od(n){return $n({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function nk(n){return $n({tag:"svg",attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(n)}function Bu(n){return $n({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}const rk=n=>{const{product:e}=n;return w.jsxs("div",{className:"breadcrum",children:["Home ",w.jsx(Od,{className:"right"}),"SHOP ",w.jsx(Od,{className:"right"}),e.category,w.jsx(Od,{className:"right"})," ",e.name]})},ik=n=>{const{product:e}=n,{addToCart:t}=$.useContext(ms);return w.jsxs("div",{className:"productDisplay",children:[w.jsxs("div",{className:"product-left",children:[w.jsxs("div",{className:"img-List",children:[w.jsx("img",{src:e.image}),w.jsx("img",{src:e.image}),w.jsx("img",{src:e.image}),w.jsx("img",{src:e.image})]}),w.jsx("div",{className:"displayImage",children:w.jsx("img",{className:"main-image",src:e.image,alt:""})})]}),w.jsxs("div",{className:"product-rightt",children:[w.jsx("h1",{children:e.name}),w.jsxs("div",{className:"right-star",children:[w.jsx(Bu,{className:"star"}),w.jsx(Bu,{className:"star"}),w.jsx(Bu,{className:"star"}),w.jsx(Bu,{className:"star"}),w.jsx(nk,{className:"star"}),w.jsx("p",{children:"(135)"})]}),w.jsxs("div",{className:"right-prices",children:[w.jsxs("div",{className:"oldd",children:["$",e.old_price]}),w.jsxs("div",{className:"right_price_new",children:["$",e.new_price]})]}),w.jsx("div",{className:"description",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Esse sit provident impedit laboriosam nulla? Nam!"}),w.jsxs("div",{className:"right_size",children:[w.jsx("h1",{children:"Select Size"}),w.jsxs("div",{className:"select-size",children:[w.jsx("div",{children:"S"}),w.jsx("div",{children:"M"}),w.jsx("div",{children:"L"}),w.jsx("div",{children:"XL"})]})]}),w.jsx("button",{onClick:()=>{t(e.id)},children:"Add To Cart"}),w.jsxs("p",{className:"right-category",children:[w.jsx("span",{children:"Category: "})," Women, T-Shirt, Crop Top"]}),w.jsxs("p",{className:"right-category",children:[w.jsx("span",{children:"Tags: "})," Modern, Latest"]})]})]})},sk=()=>w.jsxs("div",{className:"description-box",children:[w.jsxs("div",{className:"navigator",children:[w.jsx("div",{className:"navbox",children:"Description"}),w.jsx("div",{className:"navbox fade",children:"Reviews (135)"})]}),w.jsxs("div",{className:"description-details",children:[w.jsx("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia nostrum omnis eius similique officia a assumenda blanditiis tempore ex minus, repellat, sapiente illum dolorem accusamus rerum ratione vel labore. Quam."}),w.jsx("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui veritatis dolorum ex dolorem adipisci voluptatibus, laboriosam veniam explicabo inventore, incidunt amet illo repellat soluta nihil quisquam quae in nemo dolor."})]})]}),ok=()=>w.jsxs("div",{className:"relatedProduct",children:[w.jsx("h1",{children:"Related Products"}),w.jsx("hr",{}),w.jsx("div",{className:"related-items",children:N0.map((n,e)=>w.jsx(Fc,{id:n.id,name:n.name,image:n.image,new_price:n.new_price,old_price:n.old_price},e))})]}),qy=()=>{const{allProduct:n}=$.useContext(ms),{productId:e}=OE(),t=n.find(s=>s.id===Number(e));return w.jsxs("div",{children:[w.jsx(rk,{product:t}),w.jsx(ik,{product:t}),w.jsx(sk,{}),w.jsx(ok,{})]})};function ak(n){return $n({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.33 69.33a93.62 93.62 0 0 1 93.34 93.34v186.66a93.62 93.62 0 0 1-93.34 93.34H162.67a93.62 93.62 0 0 1-93.34-93.34V162.67a93.62 93.62 0 0 1 93.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z"},child:[]},{tag:"path",attr:{d:"M377.33 162.67a28 28 0 1 1 28-28 27.94 27.94 0 0 1-28 28zM256 181.33A74.67 74.67 0 1 1 181.33 256 74.75 74.75 0 0 1 256 181.33m0-37.33a112 112 0 1 0 112 112 112 112 0 0 0-112-112z"},child:[]}]})(n)}function lk(n){return $n({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.412 0-8 3.587-8 8s3.587 8 8 8 8-3.588 8-8-3.588-8-8-8zM8 14.931c-0.716 0-1.403-0.109-2.053-0.309 0.281-0.459 0.706-1.216 0.862-1.816 0.084-0.325 0.431-1.647 0.431-1.647 0.225 0.431 0.888 0.797 1.587 0.797 2.091 0 3.597-1.922 3.597-4.313 0-2.291-1.869-4.003-4.272-4.003-2.991 0-4.578 2.009-4.578 4.194 0 1.016 0.541 2.281 1.406 2.684 0.131 0.063 0.2 0.034 0.231-0.094 0.022-0.097 0.141-0.566 0.194-0.787 0.016-0.069 0.009-0.131-0.047-0.2-0.287-0.347-0.516-0.988-0.516-1.581 0-1.528 1.156-3.009 3.128-3.009 1.703 0 2.894 1.159 2.894 2.819 0 1.875-0.947 3.175-2.178 3.175-0.681 0-1.191-0.563-1.025-1.253 0.197-0.825 0.575-1.713 0.575-2.306 0-0.531-0.284-0.975-0.878-0.975-0.697 0-1.253 0.719-1.253 1.684 0 0.612 0.206 1.028 0.206 1.028s-0.688 2.903-0.813 3.444c-0.141 0.6-0.084 1.441-0.025 1.988-2.578-1.006-4.406-3.512-4.406-6.45 0-3.828 3.103-6.931 6.931-6.931s6.931 3.103 6.931 6.931c0 3.828-3.103 6.931-6.931 6.931z"},child:[]}]})(n)}const uk=()=>w.jsxs("div",{className:"footer",children:[w.jsxs("div",{className:"logo",children:[w.jsx("img",{src:uv}),w.jsx("p",{children:"Shopify"})]}),w.jsxs("ul",{className:"links",children:[w.jsx("li",{children:"Company"}),w.jsx("li",{children:"Products"}),w.jsx("li",{children:"Offices"}),w.jsx("li",{children:"About"}),w.jsx("li",{children:"Contact"})]}),w.jsxs("div",{className:"social-icons",children:[w.jsx("div",{className:"icons",children:w.jsx(ak,{className:"icon"})}),w.jsx("div",{className:"icons",children:w.jsx(lk,{className:"icon"})}),w.jsx("div",{className:"icons",children:w.jsx(tk,{className:"icon"})})]}),w.jsxs("div",{className:"footer-copyright",children:[w.jsx("hr",{}),w.jsx("p",{children:"Copyright © 2025 - All Right Reserved."})]})]}),ck=()=>{const[n,e]=$.useState(""),[t,s]=$.useState(""),[o,l]=$.useState(""),h=async f=>{f.preventDefault();try{await IS(ds,t,o);const p=ds.currentUser;console.log(p),p&&await JP(v0(x0,"Users",p.uid),{email:p.email,password:o,displayname:n}),console.log("User Registered Successfully!!"),De.success("User Registered Successfully!!",{position:"top-center"})}catch(p){console.log(p.message),De.error(p.message,{position:"bottom-center"})}};return w.jsx("div",{className:"login",children:w.jsxs("div",{className:"login-container",children:[w.jsx("h1",{children:"Sign Up"}),w.jsxs("form",{onSubmit:h,children:[w.jsxs("div",{className:"fields",children:[w.jsx("input",{type:"text",placeholder:"Your Name",value:n,required:!0,onChange:f=>e(f.target.value)}),w.jsx("input",{type:"email",placeholder:"Email Address",required:!0,value:t,onChange:f=>s(f.target.value)}),w.jsx("input",{type:"password",placeholder:"Password",required:!0,value:o,onChange:f=>l(f.target.value)})]}),w.jsx("button",{className:"continue",children:"Sign Up"}),w.jsxs("p",{className:"line",children:["Already have an account? ",w.jsx(cn,{to:"/login",children:w.jsx("span",{children:"Login"})})]}),w.jsxs("div",{className:"agree",children:[w.jsx("input",{type:"checkbox",name:"",id:"",required:!0}),w.jsx("p",{children:"By continuing, I agree to the terms of use & privacy policy."})]})]})]})})},hk=()=>{const[n,e]=$.useState(null),t=async()=>{ds.onAuthStateChanged(async o=>{console.log(o);const l=v0(x0,"Users",o.uid),h=await YP(l);h.exists()?(e(h.data()),console.log(h.data())):console.log("User is not logged in")})};$.useEffect(()=>{t()},[]);async function s(){try{await ds.signOut(),window.location.href="/login",De.success("User Logout Successfully!!",{position:"top-center"})}catch{De.error("Something went wrong",{position:"bottom-center"})}}return w.jsx("div",{className:"profile",children:n?w.jsxs(w.Fragment,{children:[w.jsxs("h3",{children:["Welcome ",n.displayname]}),w.jsxs("div",{children:[w.jsxs("p",{children:[w.jsx("span",{children:"Email: "})," ",n.email]}),w.jsxs("p",{children:[w.jsx("span",{children:"Display Name: "})," ",n.displayname]}),w.jsxs("p",{children:[w.jsx("span",{children:"Password: "})," ",n.password]})]}),w.jsx("button",{onClick:s,children:"Logout"})]}):w.jsx("p",{children:"Loading..."})})},dk="/Ecommerce-Website2/assets/men-banner-DplCIFwa.png",fk="/Ecommerce-Website2/assets/kid-DOlseq_B.png",pk="/Ecommerce-Website2/assets/women-ClcGC21w.png",mk=()=>{const{getTotalCartAmount:n}=$.useContext(ms),[e,t]=$.useState({fname:"",lname:"",phone:"",email:"",address:""});let s,o;const l=f=>{s=f.target.name,o=f.target.value,t({...e,[s]:o})},h=async f=>{const{fname:p,lname:y,phone:E,email:S,address:P}=e;f.preventDefault();const O={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fname:p,lname:y,phone:E,email:S,address:P})},M=await fetch("https://ecommerce-form-62fff-default-rtdb.firebaseio.com/UserData.json",O);console.log(M),M?De.success("Message Sent!!",{position:"top-center"}):De.error("An error occured!!",{position:"bottom-center"})};return w.jsxs("div",{className:"proceed",children:[w.jsxs("div",{className:"checkout",children:[w.jsx("h3",{children:"Basic Information"}),w.jsxs("form",{method:"post",children:[w.jsxs("div",{className:"textt",children:[w.jsxs("div",{children:[w.jsx("label",{children:"First Name"}),w.jsx("input",{type:"text",name:"fname",value:e.fname,onChange:l,required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{children:"Last Name"}),w.jsx("input",{type:"text",name:"lname",value:e.lname,onChange:l,required:!0})]})]}),w.jsxs("div",{className:"textt",children:[w.jsxs("div",{children:[w.jsx("label",{children:"Phone Number"}),w.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:l,required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{children:"Email Address"}),w.jsx("input",{type:"email",name:"email",value:e.email,onChange:l,required:!0})]})]}),w.jsx("div",{children:w.jsxs("div",{className:"full",children:[w.jsx("label",{children:"Full Address"}),w.jsx("textarea",{name:"address",value:e.address,onChange:l,required:!0})]})}),w.jsxs("div",{className:"city",children:[w.jsxs("div",{children:[w.jsx("label",{children:"City"}),w.jsx("input",{type:"text",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{children:"State"}),w.jsx("input",{type:"text",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{children:"Zip Code"}),w.jsx("input",{type:"text",required:!0})]})]}),w.jsx("button",{onClick:h,children:"Place Order"})]})]}),w.jsx("div",{className:"down",children:w.jsxs("div",{className:"cart-total",children:[w.jsx("h1",{children:"Cart Total"}),w.jsxs("div",{children:[w.jsxs("div",{className:"total-items",children:[w.jsx("p",{children:"Subtotal"}),w.jsxs("p",{children:["$",n()]})]}),w.jsx("hr",{}),w.jsxs("div",{className:"total-items",children:[w.jsx("p",{children:"Shipping Fee"}),w.jsx("p",{children:"Free"})]}),w.jsx("hr",{}),w.jsxs("div",{className:"total-items",children:[w.jsx("h3",{children:"Total"}),w.jsxs("h3",{children:["$",n()]})]})]})]})})]})},gk=()=>{const[n,e]=$.useState();return $.useEffect(()=>{ds.onAuthStateChanged(t=>{e(t)})}),w.jsx(w.Fragment,{children:w.jsxs(Ew,{children:[w.jsx(rA,{}),w.jsxs(YE,{children:[w.jsx(wn,{path:"/",element:n?w.jsx(pA,{}):w.jsx(GE,{to:"/login"})}),w.jsx(wn,{path:"/men",element:w.jsx(bd,{banner:dk,category:"men"})}),w.jsx(wn,{path:"/women",element:w.jsx(bd,{banner:pk,category:"women"})}),w.jsx(wn,{path:"/kids",element:w.jsx(bd,{banner:fk,category:"kid"})}),w.jsx(wn,{path:"/product",element:w.jsx(qy,{})}),w.jsx(wn,{path:"/product/:productId",element:w.jsx(qy,{})}),w.jsx(wn,{path:"/login",element:w.jsx(XA,{})}),w.jsx(wn,{path:"/signup",element:w.jsx(ck,{})}),w.jsx(wn,{path:"/cart",element:w.jsx(ek,{})}),w.jsx(wn,{path:"/profile",element:w.jsx(hk,{})}),w.jsx(wn,{path:"/checkout",element:w.jsx(mk,{})})]}),w.jsx(uk,{}),w.jsx(YA,{})]})})};Y1.createRoot(document.getElementById("root")).render(w.jsx(Ww,{children:w.jsx(gk,{})}));
